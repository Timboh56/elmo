Connecting to database specified by database.yml


Started GET "/" for 127.0.0.1 at 2013-02-17 13:16:07 +0100
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (2.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
Redirected to http://0.0.0.0:3000/login
Completed 302 Found in 400ms (ActiveRecord: 8.6ms)


Started GET "/login" for 127.0.0.1 at 2013-02-17 13:16:08 +0100
Processing by UserSessionsController#new as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  Rendered layouts/_object_errors.html.erb (0.6ms)
  Rendered layouts/_flash.html.erb (2.4ms)
  Rendered user_sessions/new.html.erb within layouts/application (16.0ms)
Completed 200 OK in 289ms (Views: 284.5ms | ActiveRecord: 0.4ms)


Started POST "/user_session" for 127.0.0.1 at 2013-02-17 13:16:21 +0100
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HuFYq1O06AAT17/etIkwF3IvHl5iDg+hOVIv2b/pfgY=", "user_session"=>{"login"=>"super", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mUser Load (3.6ms)[0m  SELECT `users`.* FROM `users` WHERE (LOWER(`users`.login) = 'super') ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.8ms)[0m  UPDATE `users` SET `login_count` = 28, `last_request_at` = '2013-02-17 12:16:21', `updated_at` = '2013-02-17 12:16:21' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (1.1ms)[0m  UPDATE `users` SET `perishable_token` = 'PR8LCvxczZBiFpGL0AK', `updated_at` = '2013-02-17 12:16:21' WHERE `users`.`id` = 1
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.5ms)[0m  SELECT COUNT(*) FROM `assignments` WHERE `assignments`.`user_id` = 1 AND `assignments`.`active` = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAssignment Load (0.6ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 1
  [1m[36m (2.0ms)[0m  [1mUPDATE `users` SET `current_mission_id` = NULL, `updated_at` = '2013-02-17 12:16:21' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 202ms (ActiveRecord: 18.0ms)


Started GET "/" for 127.0.0.1 at 2013-02-17 13:16:21 +0100
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `forms` WHERE `forms`.`published` = 1 AND (1) AND (0)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `forms` WHERE (1) AND (0)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`user_id` = 1 AND (1) AND (0)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE (1) AND (0)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE (1) AND (0) AND (created_at > '2013-02-17 11:16:21')
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE (1) AND (0) AND (created_at > '2013-02-16 12:16:21')[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `responses` WHERE (1) AND (0) AND (created_at > '2013-02-10 12:16:21')
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE (1) AND (0) AND (created_at > '2013-01-17 12:16:21')[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`reviewed` = 0 AND (1) AND (0)
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.6ms)
  Rendered welcome/_blocks.html.erb (3.4ms)
  Rendered welcome/index.html.erb within layouts/application (6.0ms)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 58ms (Views: 22.8ms | ActiveRecord: 11.4ms)


Started PUT "/users/1" for 127.0.0.1 at 2013-02-17 13:16:25 +0100
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"LX45QZZ6mfPV+wKtylMGcAGVFuZqPHCkgj6LmZ3AtsY=", "user"=>{"current_mission_id"=>"1"}, "changing_current_mission"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (3.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-17 12:16:25', `updated_at` = '2013-02-17 12:16:25' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (1.4ms)[0m  UPDATE `users` SET `current_mission_id` = 1, `updated_at` = '2013-02-17 12:16:25' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mMission Load (1.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSetting Load (1.1ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 36ms

NoMethodError (undefined method `outgoing_sms_username' for #<Setting:0x007fb16e1f7da0>):
  app/models/setting.rb:64:in `block in copy_to_config'
  app/models/setting.rb:64:in `collect'
  app/models/setting.rb:64:in `copy_to_config'
  app/models/setting.rb:46:in `copy_to_config'
  app/controllers/users_controller.rb:24:in `update'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (30.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (39.3ms)


Started GET "/" for 127.0.0.1 at 2013-02-17 13:17:01 +0100
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (3.7ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 12:17:01', `updated_at` = '2013-02-17 12:17:01' WHERE `users`.`id` = 1
  [1m[36m (10.8ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (1.1ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSetting Load (0.3ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 29ms

NoMethodError (undefined method `outgoing_sms_username' for #<Setting:0x007fb16c6abad8>):
  app/models/setting.rb:64:in `block in copy_to_config'
  app/models/setting.rb:64:in `collect'
  app/models/setting.rb:64:in `copy_to_config'
  app/models/setting.rb:46:in `copy_to_config'
  app/models/setting.rb:31:in `mission_was_set'
  app/controllers/application_controller.rb:162:in `get_user_and_mission'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.5ms)


Started GET "/" for 127.0.0.1 at 2013-02-17 13:17:20 +0100
Processing by WelcomeController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (3.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 12:17:20', `updated_at` = '2013-02-17 12:17:20' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (6.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (users.id IN (SELECT user_id FROM assignments WHERE mission_id = 1))[0m
  [1m[35m (1.4ms)[0m  SELECT COUNT(*) FROM `forms` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `forms` WHERE `forms`.`mission_id` = 1 AND (1)[0m
  [1m[35m (1.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND `responses`.`user_id` = 1 AND (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) AND (created_at > '2013-02-17 11:17:20')
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) AND (created_at > '2013-02-16 12:17:20')[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) AND (created_at > '2013-02-10 12:17:20')
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND `responses`.`reviewed` = 0 AND (1)[0m
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.7ms)
  [1m[35mSQL (1.4ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `report_reports` WHERE `report_reports`.`mission_id` = 1[0m
  [1m[35mReport::Report Load (1.1ms)[0m  SELECT `report_reports`.* FROM `report_reports` WHERE `report_reports`.`mission_id` = 1 ORDER BY view_count desc
  Rendered welcome/_blocks.html.erb (152.2ms)
  Rendered welcome/index.html.erb within layouts/application (154.8ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 203ms (Views: 155.6ms | ActiveRecord: 29.0ms)


Started GET "/settings" for 127.0.0.1 at 2013-02-17 13:17:31 +0100
Processing by SettingsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (2.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-17 12:17:31', `updated_at` = '2013-02-17 12:17:31' WHERE `users`.`id` = 1[0m
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (0.9ms)
  Rendered settings/index.html.erb within layouts/application (403.1ms)
Completed 500 Internal Server Error in 422ms

NoMethodError (undefined method `outgoing_sms_adapter' for #<Setting:0x007fb16e2003d8>):
  config/initializers/form_helper.rb:52:in `rewrite_if_show_mode'
  config/initializers/form_helper.rb:17:in `text_field'
  app/helpers/application_helper.rb:86:in `block (2 levels) in form_field'
  app/helpers/application_helper.rb:75:in `block in form_field'
  app/helpers/application_helper.rb:66:in `form_field'
  app/views/settings/index.html.erb:13:in `block in _app_views_settings_index_html_erb___4168476474599844397_70200016785280'
  app/helpers/application_helper.rb:50:in `block in nice_form_for'
  app/helpers/application_helper.rb:47:in `nice_form_for'
  app/views/settings/index.html.erb:5:in `_app_views_settings_index_html_erb___4168476474599844397_70200016785280'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.7ms)


Started GET "/settings" for 127.0.0.1 at 2013-02-17 13:17:51 +0100
Processing by SettingsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (2.7ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-17 12:17:51', `updated_at` = '2013-02-17 12:17:51' WHERE `users`.`id` = 1[0m
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (0.7ms)
  Rendered settings/index.html.erb within layouts/application (7.9ms)
Completed 500 Internal Server Error in 25ms

NoMethodError (undefined method `outgoing_sms_adapter' for #<Setting:0x007fb16e23e868>):
  config/initializers/form_helper.rb:52:in `rewrite_if_show_mode'
  config/initializers/form_helper.rb:17:in `text_field'
  app/helpers/application_helper.rb:86:in `block (2 levels) in form_field'
  app/helpers/application_helper.rb:75:in `block in form_field'
  app/helpers/application_helper.rb:66:in `form_field'
  app/views/settings/index.html.erb:13:in `block in _app_views_settings_index_html_erb___4168476474599844397_70200016785280'
  app/helpers/application_helper.rb:50:in `block in nice_form_for'
  app/helpers/application_helper.rb:47:in `nice_form_for'
  app/views/settings/index.html.erb:5:in `_app_views_settings_index_html_erb___4168476474599844397_70200016785280'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.1ms)


Started GET "/settings" for 127.0.0.1 at 2013-02-17 13:18:00 +0100
Processing by SettingsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (2.7ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-17 12:18:00', `updated_at` = '2013-02-17 12:18:00' WHERE `users`.`id` = 1[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSetting Load (0.4ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.6ms)
  Rendered settings/index.html.erb within layouts/application (7.2ms)
Completed 500 Internal Server Error in 23ms

NoMethodError (undefined method `outgoing_sms_adapter' for #<Setting:0x007fb16e2f78b8>):
  config/initializers/form_helper.rb:52:in `rewrite_if_show_mode'
  config/initializers/form_helper.rb:17:in `text_field'
  app/helpers/application_helper.rb:86:in `block (2 levels) in form_field'
  app/helpers/application_helper.rb:75:in `block in form_field'
  app/helpers/application_helper.rb:66:in `form_field'
  app/views/settings/index.html.erb:13:in `block in _app_views_settings_index_html_erb___4168476474599844397_70200016785280'
  app/helpers/application_helper.rb:50:in `block in nice_form_for'
  app/helpers/application_helper.rb:47:in `nice_form_for'
  app/views/settings/index.html.erb:5:in `_app_views_settings_index_html_erb___4168476474599844397_70200016785280'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.2ms)


Started GET "/" for 127.0.0.1 at 2013-02-17 13:18:08 +0100
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (2.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-17 12:18:08', `updated_at` = '2013-02-17 12:18:08' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (users.id IN (SELECT user_id FROM assignments WHERE mission_id = 1))
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `forms` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `forms` WHERE `forms`.`mission_id` = 1 AND (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND `responses`.`user_id` = 1 AND (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) AND (created_at > '2013-02-17 11:18:08')[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) AND (created_at > '2013-02-16 12:18:08')
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) AND (created_at > '2013-02-10 12:18:08')[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND `responses`.`reviewed` = 0 AND (1)
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.5ms)
  [1m[36mSQL (1.1ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `report_reports` WHERE `report_reports`.`mission_id` = 1
  [1m[36mReport::Report Load (0.4ms)[0m  [1mSELECT `report_reports`.* FROM `report_reports` WHERE `report_reports`.`mission_id` = 1 ORDER BY view_count desc[0m
  Rendered welcome/_blocks.html.erb (11.9ms)
  Rendered welcome/index.html.erb within layouts/application (13.8ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 53ms (Views: 24.0ms | ActiveRecord: 11.5ms)


Started GET "/users" for 127.0.0.1 at 2013-02-17 13:18:12 +0100
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (2.6ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 12:18:12', `updated_at` = '2013-02-17 12:18:12' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (1.0ms)
  Rendered searches/_form.html.erb (1.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT COUNT(*) FROM `users` WHERE (1)
  [1m[36mUser Load (3.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (1) ORDER BY users.name[0m
  [1m[35mSQL (1.2ms)[0m  SELECT `assignments`.`id` AS t0_r0, `assignments`.`mission_id` AS t0_r1, `assignments`.`user_id` AS t0_r2, `assignments`.`role_id` AS t0_r3, `assignments`.`active` AS t0_r4, `assignments`.`created_at` AS t0_r5, `assignments`.`updated_at` AS t0_r6, `missions`.`id` AS t1_r0, `missions`.`name` AS t1_r1, `missions`.`compact_name` AS t1_r2, `missions`.`created_at` AS t1_r3, `missions`.`updated_at` AS t1_r4, `roles`.`id` AS t2_r0, `roles`.`name` AS t2_r1, `roles`.`level` AS t2_r2, `roles`.`location_required` AS t2_r3, `roles`.`created_at` AS t2_r4, `roles`.`updated_at` AS t2_r5 FROM `assignments` LEFT OUTER JOIN `missions` ON `missions`.`id` = `assignments`.`mission_id` LEFT OUTER JOIN `roles` ON `roles`.`id` = `assignments`.`role_id` WHERE `assignments`.`user_id` IN (13, 14, 4, 9, 15, 12, 6, 16, 2, 7, 8, 5, 11, 10, 1, 3) ORDER BY missions.created_at DESC
  Rendered layouts/_index_table.html.erb (109.6ms)
  Rendered users/index.html.erb within layouts/application (120.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 192ms (Views: 126.3ms | ActiveRecord: 14.5ms)


Started GET "/settings" for 127.0.0.1 at 2013-02-17 13:18:39 +0100
Processing by SettingsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (3.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-17 12:18:39', `updated_at` = '2013-02-17 12:18:39' WHERE `users`.`id` = 1[0m
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSetting Load (0.8ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.7ms)
  Rendered settings/index.html.erb within layouts/application (9.7ms)
Completed 500 Internal Server Error in 28ms

NoMethodError (undefined method `outgoing_sms_adapter' for #<Setting:0x007fb16e50c130>):
  config/initializers/form_helper.rb:52:in `rewrite_if_show_mode'
  config/initializers/form_helper.rb:17:in `text_field'
  app/helpers/application_helper.rb:86:in `block (2 levels) in form_field'
  app/helpers/application_helper.rb:75:in `block in form_field'
  app/helpers/application_helper.rb:66:in `form_field'
  app/views/settings/index.html.erb:13:in `block in _app_views_settings_index_html_erb___4168476474599844397_70200016785280'
  app/helpers/application_helper.rb:50:in `block in nice_form_for'
  app/helpers/application_helper.rb:47:in `nice_form_for'
  app/views/settings/index.html.erb:5:in `_app_views_settings_index_html_erb___4168476474599844397_70200016785280'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.3ms)


Started GET "/" for 127.0.0.1 at 2013-02-17 13:19:36 +0100
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (3.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-17 12:19:36', `updated_at` = '2013-02-17 12:19:36' WHERE `users`.`id` = 1[0m
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (users.id IN (SELECT user_id FROM assignments WHERE mission_id = 1))
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `forms` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `forms` WHERE `forms`.`mission_id` = 1 AND (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND `responses`.`user_id` = 1 AND (1)[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) AND (created_at > '2013-02-17 11:19:36')[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) AND (created_at > '2013-02-16 12:19:36')
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) AND (created_at > '2013-02-10 12:19:36')[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND `responses`.`reviewed` = 0 AND (1)
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.8ms)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `report_reports` WHERE `report_reports`.`mission_id` = 1
  [1m[36mReport::Report Load (0.3ms)[0m  [1mSELECT `report_reports`.* FROM `report_reports` WHERE `report_reports`.`mission_id` = 1 ORDER BY view_count desc[0m
  Rendered welcome/_blocks.html.erb (10.7ms)
  Rendered welcome/index.html.erb within layouts/application (13.4ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 99ms (Views: 65.4ms | ActiveRecord: 12.0ms)


Started GET "/responses" for 127.0.0.1 at 2013-02-17 13:19:40 +0100
Processing by ResponsesController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 12:19:40', `updated_at` = '2013-02-17 12:19:40' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (3.5ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7, 6, 3)
  [1m[36mFormType Load (0.7ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3, 11, 12, 10, 5) ORDER BY users.name
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.7ms)
  Rendered searches/_form.html.erb (0.1ms)
  [1m[35m (1.0ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (34.5ms)
  Rendered responses/index.html.erb within layouts/application (44.9ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 119ms (Views: 81.2ms | ActiveRecord: 10.4ms)


Started PUT "/users/1" for 127.0.0.1 at 2013-02-17 13:19:43 +0100
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"LX45QZZ6mfPV+wKtylMGcAGVFuZqPHCkgj6LmZ3AtsY=", "user"=>{"current_mission_id"=>""}, "changing_current_mission"=>"1", "id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 12:19:44', `updated_at` = '2013-02-17 12:19:44' WHERE `users`.`id` = 1
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `current_mission_id` = NULL, `updated_at` = '2013-02-17 12:19:44' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mSetting Load (0.4ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
Completed 500 Internal Server Error in 31ms

NameError (undefined local variable or method `outgoing_sms_adapter' for #<Setting:0x007fb16e08bd40>):
  app/models/setting.rb:109:in `sms_adapter_is_valid'
  app/models/setting.rb:58:in `create_default'
  app/models/setting.rb:38:in `find_or_create'
  app/models/setting.rb:46:in `copy_to_config'
  app/controllers/users_controller.rb:24:in `update'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.1ms)
Connecting to database specified by database.yml
  [1m[36m (1.6ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateRoles (20110602191123)
Migrating to CreateLanguages (20110602191155)
Migrating to CreateUsers (20110602191220)
Migrating to CreatePlaces (20110621231556)
Migrating to CreatePlaceTypes (20110621231721)
Migrating to CreateGoogleGeolocations (20110622182016)
Migrating to CreatePlaceSuggs (20110623183148)
Migrating to CreatePlaceLookups (20110623193938)
Migrating to CreateSearches (20110624133714)
Migrating to CreateOptions (20110629190738)
Migrating to CreateOptionSets (20110629190744)
Migrating to CreateOptionSettings (20110629190749)
Migrating to CreateForms (20110629190755)
Migrating to CreateQuestions (20110629190801)
Migrating to CreateResponses (20110629190806)
Migrating to CreateAnswers (20110629190812)
Migrating to CreateQuestionTypes (20110629190817)
Migrating to CreateTranslations (20110629190823)
Migrating to CreateFormTypes (20110629190829)
Migrating to CreateQuestionings (20110629190834)
Migrating to ChangeLanguageToCode (20110630141414)
Migrating to ChangeTranslationsToPolymorphic (20110630154332)
Migrating to AddOdkNameToQuestionTypes (20110630160747)
Migrating to AddOdkTagToQuestionTypes (20110630195026)
Migrating to AddIncompleteToPlaces (20110713165635)
Migrating to AddPreloadStuffToQuestionTypes (20110713174932)
Migrating to CreateReviews (20110713185801)
Migrating to AddSessionsTable (20110713211903)
Migrating to QuestionShouldBeQuestioningForAnswer (20110719191108)
Migrating to CreateChoices (20110720164304)
Migrating to RenameObjectIdToObjIdInTranslation (20110721204754)
Migrating to AddReviewedToResponses (20110722194551)
Migrating to DropReviews (20110722194603)
Migrating to AddPhoneOnlyToQuestionType (20110722200238)
Migrating to RenameIsActiveToActiveForUser (20110722205622)
Migrating to CreateSettables (20110726143633)
Migrating to CreateSettings (20110726144308)
Migrating to AddLongNameToQuestionTypes (20110726185552)
Migrating to CreateBroadcasts (20110810133630)
Migrating to CreateBroadcastAddressings (20110810134344)
Migrating to AddDownloadsToForms (20110811154224)
Migrating to AddSourceToResponse (20110814182130)
Migrating to RemoveTimestampQuestions (20110814185101)
Migrating to AddLoginCountToUsers (20110815174137)
Migrating to AddDeviceAndNotesToUsers (20110815193346)
Migrating to RenameNumericToInteger (20110816185426)
Migrating to AddTranslationIndex (20110817175237)
Migrating to ChoiceForeignKey (20110817183704)
Migrating to CreateMainView (20110817184219)
Migrating to AddBooleanDefaults (20110823170400)
Migrating to StandardizeBooleanNames (20110823171727)
Migrating to AddObserverIdToMainView (20110901141457)
Migrating to CreateConditions (20110901175612)
Migrating to RenamePlacesIncompleteToTemporary (20110908165935)
Migrating to DropQuestionTypeFields (20110908195844)
Migrating to DropUnneededPlaceTables (20110908211409)
Migrating to AddPlaceTypeShortNames (20110913142741)
Migrating to AddRedundantLinksToPlaces (20110913143939)
Migrating to FixPlacesInMainView (20110913162231)
Migrating to CreatePlaceCreators (20110913202244)
Migrating to AddLastRequestAtToUsers (20110914144631)
Migrating to AddOrderingToOptionSets (20110922181111)
Migrating to AddOptionIdToCondition (20110923004101)
Migrating to AddTeamNumberToUsers (20111006155632)
Migrating to ChangeUserToOneNameField (20111103141618)
Migrating to RemoveTeamNumberFromUsers (20111103152358)
Migrating to DropGoogleGeolocations (20111122190536)
Migrating to RenameSearchesToSearchSearches (20120110163524)
Migrating to ClearSessions (20120110163624)
Migrating to RenameSearchQueryToStr (20120110163625)
Migrating to CreateReportReports (20120110163724)
Migrating to CreateReportGroupings (20120110163922)
Migrating to CreateReportCalculations (20120110163943)
Migrating to CreateReportAggregations (20120110164008)
Migrating to CreateReportFields (20120117191616)
Migrating to AddViewedAtAndViewCountToReportReports (20120131161053)
Migrating to CreateReportGroupingAttributes (20120131202355)
Migrating to UpdateGroupingToUseNewGroupingAttributeClass (20120131202427)
Migrating to ChangeReportTypeToKind (20120203164645)
Migrating to AddDisplayTypeToReportReport (20120221210027)
Migrating to AddStackedBarsToReportReport (20120223201044)
Migrating to DropViews (20120223205639)
Migrating to AddUnreviewedToReportReports (20120320153040)
Migrating to AddPercentagesToReportReports (20120321155330)
Migrating to RemoveKindFromReportReports (20120322151536)
Migrating to RenameReportGroupingAttributesToReportResponseAttributes (20120322173538)
Migrating to RenameReportFieldsAttribName (20120322175333)
Migrating to AddGroupableToReportResponseAttributes (20120322180750)
Migrating to AddDataTypeToReportResponseAttribute (20120413151514)
Migrating to AddQuestioningIdIndexToAnswers (20120426154100)
Migrating to ConvertBlankAnswerValuesToNulls (20120426182952)
Migrating to CreateUserBatches (20120519202915)
Migrating to RemovePhoneIsMobile (20120521191051)
Migrating to AddAlternatePhoneNumbers (20120521192411)
Migrating to AddWhichPhoneToBroadcasts (20120521221511)
Migrating to RemoveQuestionCodeSpaces (20120626184028)
Migrating to AddRangeToQuestions (20120629210925)
Migrating to AddDateTimeValuesToAnswers (20120702172029)
Migrating to ChangeTranslationLanguageIdToLanguageAndFixIndex (20120706180000)
Migrating to RemoveLanguageFromUsers (20120706183000)
Migrating to AddQuestioningCountAndResponseCountToForm (20120706184000)
Migrating to RemoveObservedAtFromResponses (20120706193519)
Migrating to RemoveDeviceFromUsers (20120706201054)
Migrating to RemovePlaces (20120717162456)
Migrating to AddUniqueRowsToReportReports (20120717182055)
Migrating to CreateMissions (20120820145220)
Migrating to AddAdminToUser (20120820165013)
Migrating to CreateAssignments (20120820181620)
Migrating to CreateDefaultMission (20120820181749)
Migrating to MoveUsersToDefaultMission (20120820181944)
Migrating to RemoveOldUserFields (20120820182538)
Migrating to AddCurrentMissionIdToUsers (20120820193330)
Migrating to AddMissionIdToModels (20120822152209)
Migrating to AddCompactNameIndexToMissions (20120822161441)
Migrating to RemoveSettables (20120906150610)
Migrating to RevampSettings (20120906155118)
Migrating to AddLanguagesToSettings (20120906170242)
Migrating to AddForeignKeyIndices (20120925145245)
Migrating to RemoveLanguages (20121008152421)
Migrating to AddForeignKeyIndicesToAssignments (20121008153636)
Migrating to AddValueCodeToReportResponseAttribute (20121015163120)
Migrating to AddFkIndices (20121015164830)
Migrating to DumpOldReports (20121018182218)
Migrating to DropOldReportTables (20121018183850)
Migrating to CreateNewReportReports (20121018184503)
Migrating to CreateNewReportCalculations (20121022153208)
Migrating to RenameReportFields (20121112143155)
Migrating to RemoveSecondCalculationFields (20121112143800)
Migrating to RemoveOmnibusCalculationFromReportReports (20121112174623)
Migrating to AddRankToReportCalculations (20121126153456)
Migrating to CreateReportOptionSetChoices (20121230200218)
Migrating to AddOutgoingSmsAdapterToSettings (20130213223146)
  [1m[35m (25.8ms)[0m  ALTER TABLE `settings` ADD `outgoing_sms_adapter` varchar(255)
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `settings` SET outgoing_sms_adapter = 'IntelliSms'[0m
  [1m[35m (1.1ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130213223146')
Migrating to AddOtherSmsFieldsToSettings (20130214013213)
  [1m[36m (19.5ms)[0m  [1mALTER TABLE `settings` ADD `outgoing_sms_username` varchar(255)[0m
  [1m[35m (16.8ms)[0m  ALTER TABLE `settings` ADD `outgoing_sms_password` varchar(255)
  [1m[36m (20.6ms)[0m  [1mALTER TABLE `settings` ADD `outgoing_sms_extra` varchar(255)[0m
  [1m[35m (0.4ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130214013213')
Migrating to AddOutgoingSmsLanguageToSettings (20130214040034)
  [1m[36m (15.1ms)[0m  [1mALTER TABLE `settings` ADD `outgoing_sms_language` varchar(255)[0m
  [1m[35m (0.8ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20130214040034')
  [1m[36m (0.5ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Connecting to database specified by database.yml


Started GET "/" for 127.0.0.1 at 2013-02-17 13:49:57 +0100
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (1.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-17 12:49:58', `updated_at` = '2013-02-17 12:49:58' WHERE `users`.`id` = 1[0m
  [1m[35m (1.7ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `forms` WHERE `forms`.`published` = 1 AND (1) AND (0)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `forms` WHERE (1) AND (0)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`user_id` = 1 AND (1) AND (0)[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `responses` WHERE (1) AND (0)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE (1) AND (0) AND (created_at > '2013-02-17 11:49:58')[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `responses` WHERE (1) AND (0) AND (created_at > '2013-02-16 12:49:58')
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE (1) AND (0) AND (created_at > '2013-02-10 12:49:58')[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `responses` WHERE (1) AND (0) AND (created_at > '2013-01-17 12:49:58')
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`reviewed` = 0 AND (1) AND (0)[0m
  Rendered layouts/_object_errors.html.erb (0.4ms)
  Rendered layouts/_flash.html.erb (1.7ms)
  Rendered welcome/_blocks.html.erb (4.6ms)
  Rendered welcome/index.html.erb within layouts/application (12.4ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 732ms (Views: 126.9ms | ActiveRecord: 21.6ms)


Started PUT "/users/1" for 127.0.0.1 at 2013-02-17 13:50:07 +0100
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"LX45QZZ6mfPV+wKtylMGcAGVFuZqPHCkgj6LmZ3AtsY=", "user"=>{"current_mission_id"=>"1"}, "changing_current_mission"=>"1", "id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 12:50:07', `updated_at` = '2013-02-17 12:50:07' WHERE `users`.`id` = 1
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `current_mission_id` = 1, `updated_at` = '2013-02-17 12:50:07' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
Redirected to http://0.0.0.0:3000/
Completed 302 Found in 75ms (ActiveRecord: 8.9ms)


Started GET "/" for 127.0.0.1 at 2013-02-17 13:50:07 +0100
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSetting Load (0.3ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (users.id IN (SELECT user_id FROM assignments WHERE mission_id = 1))
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `forms` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `forms` WHERE `forms`.`mission_id` = 1 AND (1)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND `responses`.`user_id` = 1 AND (1)[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) AND (created_at > '2013-02-17 11:50:07')[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) AND (created_at > '2013-02-16 12:50:07')
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) AND (created_at > '2013-02-10 12:50:07')[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND `responses`.`reviewed` = 0 AND (1)
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.6ms)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `report_reports` WHERE `report_reports`.`mission_id` = 1
  [1m[36mReport::Report Load (0.4ms)[0m  [1mSELECT `report_reports`.* FROM `report_reports` WHERE `report_reports`.`mission_id` = 1 ORDER BY view_count desc[0m
  Rendered welcome/_blocks.html.erb (146.6ms)
  Rendered welcome/index.html.erb within layouts/application (148.9ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 190ms (Views: 158.7ms | ActiveRecord: 11.6ms)


Started GET "/settings" for 127.0.0.1 at 2013-02-17 13:50:10 +0100
Processing by SettingsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (2.6ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 12:50:10', `updated_at` = '2013-02-17 12:50:10' WHERE `users`.`id` = 1
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSetting Load (0.3ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (0.7ms)
  Rendered settings/_tableau_sql.html.erb (0.5ms)
  Rendered settings/index.html.erb within layouts/application (276.4ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 303ms (Views: 288.5ms | ActiveRecord: 6.2ms)


Started GET "/forms" for 127.0.0.1 at 2013-02-17 14:05:31 +0100
Processing by FormsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.8ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 13:05:31', `updated_at` = '2013-02-17 13:05:31' WHERE `users`.`id` = 1
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.6ms)
  Rendered layouts/_index_table.html.erb (16.3ms)
  Rendered forms/index.html.erb within layouts/application (19.3ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 62ms (Views: 32.9ms | ActiveRecord: 6.1ms)


Started GET "/forms" for 127.0.0.1 at 2013-02-17 14:26:30 +0100
Processing by FormsController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 13:26:30', `updated_at` = '2013-02-17 13:26:30' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.7ms)
  Rendered layouts/_index_table.html.erb (13.3ms)
  Rendered forms/index.html.erb within layouts/application (16.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 384ms (Views: 133.6ms | ActiveRecord: 18.4ms)


Started GET "/sms_codes/show/8" for 127.0.0.1 at 2013-02-17 14:26:35 +0100
Processing by SmsCodesController#show as HTML
  Parameters: {"form_id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (1.2ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 13:26:35', `updated_at` = '2013-02-17 13:26:35' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 8 LIMIT 1[0m
Completed 500 Internal Server Error in 14ms

NameError (uninitialized constant SmsCodesController::SmsCode):
  app/controllers/sms_codes_controller.rb:14:in `make_code'
  app/controllers/sms_codes_controller.rb:5:in `show'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.0ms)
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (1.6ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateRoles (20110602191123)
Migrating to CreateLanguages (20110602191155)
Migrating to CreateUsers (20110602191220)
Migrating to CreatePlaces (20110621231556)
Migrating to CreatePlaceTypes (20110621231721)
Migrating to CreateGoogleGeolocations (20110622182016)
Migrating to CreatePlaceSuggs (20110623183148)
Migrating to CreatePlaceLookups (20110623193938)
Migrating to CreateSearches (20110624133714)
Migrating to CreateOptions (20110629190738)
Migrating to CreateOptionSets (20110629190744)
Migrating to CreateOptionSettings (20110629190749)
Migrating to CreateForms (20110629190755)
Migrating to CreateQuestions (20110629190801)
Migrating to CreateResponses (20110629190806)
Migrating to CreateAnswers (20110629190812)
Migrating to CreateQuestionTypes (20110629190817)
Migrating to CreateTranslations (20110629190823)
Migrating to CreateFormTypes (20110629190829)
Migrating to CreateQuestionings (20110629190834)
Migrating to ChangeLanguageToCode (20110630141414)
Migrating to ChangeTranslationsToPolymorphic (20110630154332)
Migrating to AddOdkNameToQuestionTypes (20110630160747)
Migrating to AddOdkTagToQuestionTypes (20110630195026)
Migrating to AddIncompleteToPlaces (20110713165635)
Migrating to AddPreloadStuffToQuestionTypes (20110713174932)
Migrating to CreateReviews (20110713185801)
Migrating to AddSessionsTable (20110713211903)
Migrating to QuestionShouldBeQuestioningForAnswer (20110719191108)
Migrating to CreateChoices (20110720164304)
Migrating to RenameObjectIdToObjIdInTranslation (20110721204754)
Migrating to AddReviewedToResponses (20110722194551)
Migrating to DropReviews (20110722194603)
Migrating to AddPhoneOnlyToQuestionType (20110722200238)
Migrating to RenameIsActiveToActiveForUser (20110722205622)
Migrating to CreateSettables (20110726143633)
Migrating to CreateSettings (20110726144308)
Migrating to AddLongNameToQuestionTypes (20110726185552)
Migrating to CreateBroadcasts (20110810133630)
Migrating to CreateBroadcastAddressings (20110810134344)
Migrating to AddDownloadsToForms (20110811154224)
Migrating to AddSourceToResponse (20110814182130)
Migrating to RemoveTimestampQuestions (20110814185101)
Migrating to AddLoginCountToUsers (20110815174137)
Migrating to AddDeviceAndNotesToUsers (20110815193346)
Migrating to RenameNumericToInteger (20110816185426)
Migrating to AddTranslationIndex (20110817175237)
Migrating to ChoiceForeignKey (20110817183704)
Migrating to CreateMainView (20110817184219)
Migrating to AddBooleanDefaults (20110823170400)
Migrating to StandardizeBooleanNames (20110823171727)
Migrating to AddObserverIdToMainView (20110901141457)
Migrating to CreateConditions (20110901175612)
Migrating to RenamePlacesIncompleteToTemporary (20110908165935)
Migrating to DropQuestionTypeFields (20110908195844)
Migrating to DropUnneededPlaceTables (20110908211409)
Migrating to AddPlaceTypeShortNames (20110913142741)
Migrating to AddRedundantLinksToPlaces (20110913143939)
Migrating to FixPlacesInMainView (20110913162231)
Migrating to CreatePlaceCreators (20110913202244)
Migrating to AddLastRequestAtToUsers (20110914144631)
Migrating to AddOrderingToOptionSets (20110922181111)
Migrating to AddOptionIdToCondition (20110923004101)
Migrating to AddTeamNumberToUsers (20111006155632)
Migrating to ChangeUserToOneNameField (20111103141618)
Migrating to RemoveTeamNumberFromUsers (20111103152358)
Migrating to DropGoogleGeolocations (20111122190536)
Migrating to RenameSearchesToSearchSearches (20120110163524)
Migrating to ClearSessions (20120110163624)
Migrating to RenameSearchQueryToStr (20120110163625)
Migrating to CreateReportReports (20120110163724)
Migrating to CreateReportGroupings (20120110163922)
Migrating to CreateReportCalculations (20120110163943)
Migrating to CreateReportAggregations (20120110164008)
Migrating to CreateReportFields (20120117191616)
Migrating to AddViewedAtAndViewCountToReportReports (20120131161053)
Migrating to CreateReportGroupingAttributes (20120131202355)
Migrating to UpdateGroupingToUseNewGroupingAttributeClass (20120131202427)
Migrating to ChangeReportTypeToKind (20120203164645)
Migrating to AddDisplayTypeToReportReport (20120221210027)
Migrating to AddStackedBarsToReportReport (20120223201044)
Migrating to DropViews (20120223205639)
Migrating to AddUnreviewedToReportReports (20120320153040)
Migrating to AddPercentagesToReportReports (20120321155330)
Migrating to RemoveKindFromReportReports (20120322151536)
Migrating to RenameReportGroupingAttributesToReportResponseAttributes (20120322173538)
Migrating to RenameReportFieldsAttribName (20120322175333)
Migrating to AddGroupableToReportResponseAttributes (20120322180750)
Migrating to AddDataTypeToReportResponseAttribute (20120413151514)
Migrating to AddQuestioningIdIndexToAnswers (20120426154100)
Migrating to ConvertBlankAnswerValuesToNulls (20120426182952)
Migrating to CreateUserBatches (20120519202915)
Migrating to RemovePhoneIsMobile (20120521191051)
Migrating to AddAlternatePhoneNumbers (20120521192411)
Migrating to AddWhichPhoneToBroadcasts (20120521221511)
Migrating to RemoveQuestionCodeSpaces (20120626184028)
Migrating to AddRangeToQuestions (20120629210925)
Migrating to AddDateTimeValuesToAnswers (20120702172029)
Migrating to ChangeTranslationLanguageIdToLanguageAndFixIndex (20120706180000)
Migrating to RemoveLanguageFromUsers (20120706183000)
Migrating to AddQuestioningCountAndResponseCountToForm (20120706184000)
Migrating to RemoveObservedAtFromResponses (20120706193519)
Migrating to RemoveDeviceFromUsers (20120706201054)
Migrating to RemovePlaces (20120717162456)
Migrating to AddUniqueRowsToReportReports (20120717182055)
Migrating to CreateMissions (20120820145220)
Migrating to AddAdminToUser (20120820165013)
Migrating to CreateAssignments (20120820181620)
Migrating to CreateDefaultMission (20120820181749)
Migrating to MoveUsersToDefaultMission (20120820181944)
Migrating to RemoveOldUserFields (20120820182538)
Migrating to AddCurrentMissionIdToUsers (20120820193330)
Migrating to AddMissionIdToModels (20120822152209)
Migrating to AddCompactNameIndexToMissions (20120822161441)
Migrating to RemoveSettables (20120906150610)
Migrating to RevampSettings (20120906155118)
Migrating to AddLanguagesToSettings (20120906170242)
Migrating to AddForeignKeyIndices (20120925145245)
Migrating to RemoveLanguages (20121008152421)
Migrating to AddForeignKeyIndicesToAssignments (20121008153636)
Migrating to AddValueCodeToReportResponseAttribute (20121015163120)
Migrating to AddFkIndices (20121015164830)
Migrating to DumpOldReports (20121018182218)
Migrating to DropOldReportTables (20121018183850)
Migrating to CreateNewReportReports (20121018184503)
Migrating to CreateNewReportCalculations (20121022153208)
Migrating to RenameReportFields (20121112143155)
Migrating to RemoveSecondCalculationFields (20121112143800)
Migrating to RemoveOmnibusCalculationFromReportReports (20121112174623)
Migrating to AddRankToReportCalculations (20121126153456)
Migrating to CreateReportOptionSetChoices (20121230200218)
Migrating to AddOutgoingSmsAdapterToSettings (20130213223146)
Migrating to AddOtherSmsFieldsToSettings (20130214013213)
Migrating to AddOutgoingSmsLanguageToSettings (20130214040034)
Migrating to CreateSmsCodes (20130217133401)
Connecting to database specified by database.yml
  [1m[36m (1.6ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateRoles (20110602191123)
Migrating to CreateLanguages (20110602191155)
Migrating to CreateUsers (20110602191220)
Migrating to CreatePlaces (20110621231556)
Migrating to CreatePlaceTypes (20110621231721)
Migrating to CreateGoogleGeolocations (20110622182016)
Migrating to CreatePlaceSuggs (20110623183148)
Migrating to CreatePlaceLookups (20110623193938)
Migrating to CreateSearches (20110624133714)
Migrating to CreateOptions (20110629190738)
Migrating to CreateOptionSets (20110629190744)
Migrating to CreateOptionSettings (20110629190749)
Migrating to CreateForms (20110629190755)
Migrating to CreateQuestions (20110629190801)
Migrating to CreateResponses (20110629190806)
Migrating to CreateAnswers (20110629190812)
Migrating to CreateQuestionTypes (20110629190817)
Migrating to CreateTranslations (20110629190823)
Migrating to CreateFormTypes (20110629190829)
Migrating to CreateQuestionings (20110629190834)
Migrating to ChangeLanguageToCode (20110630141414)
Migrating to ChangeTranslationsToPolymorphic (20110630154332)
Migrating to AddOdkNameToQuestionTypes (20110630160747)
Migrating to AddOdkTagToQuestionTypes (20110630195026)
Migrating to AddIncompleteToPlaces (20110713165635)
Migrating to AddPreloadStuffToQuestionTypes (20110713174932)
Migrating to CreateReviews (20110713185801)
Migrating to AddSessionsTable (20110713211903)
Migrating to QuestionShouldBeQuestioningForAnswer (20110719191108)
Migrating to CreateChoices (20110720164304)
Migrating to RenameObjectIdToObjIdInTranslation (20110721204754)
Migrating to AddReviewedToResponses (20110722194551)
Migrating to DropReviews (20110722194603)
Migrating to AddPhoneOnlyToQuestionType (20110722200238)
Migrating to RenameIsActiveToActiveForUser (20110722205622)
Migrating to CreateSettables (20110726143633)
Migrating to CreateSettings (20110726144308)
Migrating to AddLongNameToQuestionTypes (20110726185552)
Migrating to CreateBroadcasts (20110810133630)
Migrating to CreateBroadcastAddressings (20110810134344)
Migrating to AddDownloadsToForms (20110811154224)
Migrating to AddSourceToResponse (20110814182130)
Migrating to RemoveTimestampQuestions (20110814185101)
Migrating to AddLoginCountToUsers (20110815174137)
Migrating to AddDeviceAndNotesToUsers (20110815193346)
Migrating to RenameNumericToInteger (20110816185426)
Migrating to AddTranslationIndex (20110817175237)
Migrating to ChoiceForeignKey (20110817183704)
Migrating to CreateMainView (20110817184219)
Migrating to AddBooleanDefaults (20110823170400)
Migrating to StandardizeBooleanNames (20110823171727)
Migrating to AddObserverIdToMainView (20110901141457)
Migrating to CreateConditions (20110901175612)
Migrating to RenamePlacesIncompleteToTemporary (20110908165935)
Migrating to DropQuestionTypeFields (20110908195844)
Migrating to DropUnneededPlaceTables (20110908211409)
Migrating to AddPlaceTypeShortNames (20110913142741)
Migrating to AddRedundantLinksToPlaces (20110913143939)
Migrating to FixPlacesInMainView (20110913162231)
Migrating to CreatePlaceCreators (20110913202244)
Migrating to AddLastRequestAtToUsers (20110914144631)
Migrating to AddOrderingToOptionSets (20110922181111)
Migrating to AddOptionIdToCondition (20110923004101)
Migrating to AddTeamNumberToUsers (20111006155632)
Migrating to ChangeUserToOneNameField (20111103141618)
Migrating to RemoveTeamNumberFromUsers (20111103152358)
Migrating to DropGoogleGeolocations (20111122190536)
Migrating to RenameSearchesToSearchSearches (20120110163524)
Migrating to ClearSessions (20120110163624)
Migrating to RenameSearchQueryToStr (20120110163625)
Migrating to CreateReportReports (20120110163724)
Migrating to CreateReportGroupings (20120110163922)
Migrating to CreateReportCalculations (20120110163943)
Migrating to CreateReportAggregations (20120110164008)
Migrating to CreateReportFields (20120117191616)
Migrating to AddViewedAtAndViewCountToReportReports (20120131161053)
Migrating to CreateReportGroupingAttributes (20120131202355)
Migrating to UpdateGroupingToUseNewGroupingAttributeClass (20120131202427)
Migrating to ChangeReportTypeToKind (20120203164645)
Migrating to AddDisplayTypeToReportReport (20120221210027)
Migrating to AddStackedBarsToReportReport (20120223201044)
Migrating to DropViews (20120223205639)
Migrating to AddUnreviewedToReportReports (20120320153040)
Migrating to AddPercentagesToReportReports (20120321155330)
Migrating to RemoveKindFromReportReports (20120322151536)
Migrating to RenameReportGroupingAttributesToReportResponseAttributes (20120322173538)
Migrating to RenameReportFieldsAttribName (20120322175333)
Migrating to AddGroupableToReportResponseAttributes (20120322180750)
Migrating to AddDataTypeToReportResponseAttribute (20120413151514)
Migrating to AddQuestioningIdIndexToAnswers (20120426154100)
Migrating to ConvertBlankAnswerValuesToNulls (20120426182952)
Migrating to CreateUserBatches (20120519202915)
Migrating to RemovePhoneIsMobile (20120521191051)
Migrating to AddAlternatePhoneNumbers (20120521192411)
Migrating to AddWhichPhoneToBroadcasts (20120521221511)
Migrating to RemoveQuestionCodeSpaces (20120626184028)
Migrating to AddRangeToQuestions (20120629210925)
Migrating to AddDateTimeValuesToAnswers (20120702172029)
Migrating to ChangeTranslationLanguageIdToLanguageAndFixIndex (20120706180000)
Migrating to RemoveLanguageFromUsers (20120706183000)
Migrating to AddQuestioningCountAndResponseCountToForm (20120706184000)
Migrating to RemoveObservedAtFromResponses (20120706193519)
Migrating to RemoveDeviceFromUsers (20120706201054)
Migrating to RemovePlaces (20120717162456)
Migrating to AddUniqueRowsToReportReports (20120717182055)
Migrating to CreateMissions (20120820145220)
Migrating to AddAdminToUser (20120820165013)
Migrating to CreateAssignments (20120820181620)
Migrating to CreateDefaultMission (20120820181749)
Migrating to MoveUsersToDefaultMission (20120820181944)
Migrating to RemoveOldUserFields (20120820182538)
Migrating to AddCurrentMissionIdToUsers (20120820193330)
Migrating to AddMissionIdToModels (20120822152209)
Migrating to AddCompactNameIndexToMissions (20120822161441)
Migrating to RemoveSettables (20120906150610)
Migrating to RevampSettings (20120906155118)
Migrating to AddLanguagesToSettings (20120906170242)
Migrating to AddForeignKeyIndices (20120925145245)
Migrating to RemoveLanguages (20121008152421)
Migrating to AddForeignKeyIndicesToAssignments (20121008153636)
Migrating to AddValueCodeToReportResponseAttribute (20121015163120)
Migrating to AddFkIndices (20121015164830)
Migrating to DumpOldReports (20121018182218)
Migrating to DropOldReportTables (20121018183850)
Migrating to CreateNewReportReports (20121018184503)
Migrating to CreateNewReportCalculations (20121022153208)
Migrating to RenameReportFields (20121112143155)
Migrating to RemoveSecondCalculationFields (20121112143800)
Migrating to RemoveOmnibusCalculationFromReportReports (20121112174623)
Migrating to AddRankToReportCalculations (20121126153456)
Migrating to CreateReportOptionSetChoices (20121230200218)
Migrating to AddOutgoingSmsAdapterToSettings (20130213223146)
Migrating to AddOtherSmsFieldsToSettings (20130214013213)
Migrating to AddOutgoingSmsLanguageToSettings (20130214040034)
Migrating to CreateSmsCodes (20130217133401)
Connecting to database specified by database.yml
  [1m[36m (1.7ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateRoles (20110602191123)
Migrating to CreateLanguages (20110602191155)
Migrating to CreateUsers (20110602191220)
Migrating to CreatePlaces (20110621231556)
Migrating to CreatePlaceTypes (20110621231721)
Migrating to CreateGoogleGeolocations (20110622182016)
Migrating to CreatePlaceSuggs (20110623183148)
Migrating to CreatePlaceLookups (20110623193938)
Migrating to CreateSearches (20110624133714)
Migrating to CreateOptions (20110629190738)
Migrating to CreateOptionSets (20110629190744)
Migrating to CreateOptionSettings (20110629190749)
Migrating to CreateForms (20110629190755)
Migrating to CreateQuestions (20110629190801)
Migrating to CreateResponses (20110629190806)
Migrating to CreateAnswers (20110629190812)
Migrating to CreateQuestionTypes (20110629190817)
Migrating to CreateTranslations (20110629190823)
Migrating to CreateFormTypes (20110629190829)
Migrating to CreateQuestionings (20110629190834)
Migrating to ChangeLanguageToCode (20110630141414)
Migrating to ChangeTranslationsToPolymorphic (20110630154332)
Migrating to AddOdkNameToQuestionTypes (20110630160747)
Migrating to AddOdkTagToQuestionTypes (20110630195026)
Migrating to AddIncompleteToPlaces (20110713165635)
Migrating to AddPreloadStuffToQuestionTypes (20110713174932)
Migrating to CreateReviews (20110713185801)
Migrating to AddSessionsTable (20110713211903)
Migrating to QuestionShouldBeQuestioningForAnswer (20110719191108)
Migrating to CreateChoices (20110720164304)
Migrating to RenameObjectIdToObjIdInTranslation (20110721204754)
Migrating to AddReviewedToResponses (20110722194551)
Migrating to DropReviews (20110722194603)
Migrating to AddPhoneOnlyToQuestionType (20110722200238)
Migrating to RenameIsActiveToActiveForUser (20110722205622)
Migrating to CreateSettables (20110726143633)
Migrating to CreateSettings (20110726144308)
Migrating to AddLongNameToQuestionTypes (20110726185552)
Migrating to CreateBroadcasts (20110810133630)
Migrating to CreateBroadcastAddressings (20110810134344)
Migrating to AddDownloadsToForms (20110811154224)
Migrating to AddSourceToResponse (20110814182130)
Migrating to RemoveTimestampQuestions (20110814185101)
Migrating to AddLoginCountToUsers (20110815174137)
Migrating to AddDeviceAndNotesToUsers (20110815193346)
Migrating to RenameNumericToInteger (20110816185426)
Migrating to AddTranslationIndex (20110817175237)
Migrating to ChoiceForeignKey (20110817183704)
Migrating to CreateMainView (20110817184219)
Migrating to AddBooleanDefaults (20110823170400)
Migrating to StandardizeBooleanNames (20110823171727)
Migrating to AddObserverIdToMainView (20110901141457)
Migrating to CreateConditions (20110901175612)
Migrating to RenamePlacesIncompleteToTemporary (20110908165935)
Migrating to DropQuestionTypeFields (20110908195844)
Migrating to DropUnneededPlaceTables (20110908211409)
Migrating to AddPlaceTypeShortNames (20110913142741)
Migrating to AddRedundantLinksToPlaces (20110913143939)
Migrating to FixPlacesInMainView (20110913162231)
Migrating to CreatePlaceCreators (20110913202244)
Migrating to AddLastRequestAtToUsers (20110914144631)
Migrating to AddOrderingToOptionSets (20110922181111)
Migrating to AddOptionIdToCondition (20110923004101)
Migrating to AddTeamNumberToUsers (20111006155632)
Migrating to ChangeUserToOneNameField (20111103141618)
Migrating to RemoveTeamNumberFromUsers (20111103152358)
Migrating to DropGoogleGeolocations (20111122190536)
Migrating to RenameSearchesToSearchSearches (20120110163524)
Migrating to ClearSessions (20120110163624)
Migrating to RenameSearchQueryToStr (20120110163625)
Migrating to CreateReportReports (20120110163724)
Migrating to CreateReportGroupings (20120110163922)
Migrating to CreateReportCalculations (20120110163943)
Migrating to CreateReportAggregations (20120110164008)
Migrating to CreateReportFields (20120117191616)
Migrating to AddViewedAtAndViewCountToReportReports (20120131161053)
Migrating to CreateReportGroupingAttributes (20120131202355)
Migrating to UpdateGroupingToUseNewGroupingAttributeClass (20120131202427)
Migrating to ChangeReportTypeToKind (20120203164645)
Migrating to AddDisplayTypeToReportReport (20120221210027)
Migrating to AddStackedBarsToReportReport (20120223201044)
Migrating to DropViews (20120223205639)
Migrating to AddUnreviewedToReportReports (20120320153040)
Migrating to AddPercentagesToReportReports (20120321155330)
Migrating to RemoveKindFromReportReports (20120322151536)
Migrating to RenameReportGroupingAttributesToReportResponseAttributes (20120322173538)
Migrating to RenameReportFieldsAttribName (20120322175333)
Migrating to AddGroupableToReportResponseAttributes (20120322180750)
Migrating to AddDataTypeToReportResponseAttribute (20120413151514)
Migrating to AddQuestioningIdIndexToAnswers (20120426154100)
Migrating to ConvertBlankAnswerValuesToNulls (20120426182952)
Migrating to CreateUserBatches (20120519202915)
Migrating to RemovePhoneIsMobile (20120521191051)
Migrating to AddAlternatePhoneNumbers (20120521192411)
Migrating to AddWhichPhoneToBroadcasts (20120521221511)
Migrating to RemoveQuestionCodeSpaces (20120626184028)
Migrating to AddRangeToQuestions (20120629210925)
Migrating to AddDateTimeValuesToAnswers (20120702172029)
Migrating to ChangeTranslationLanguageIdToLanguageAndFixIndex (20120706180000)
Migrating to RemoveLanguageFromUsers (20120706183000)
Migrating to AddQuestioningCountAndResponseCountToForm (20120706184000)
Migrating to RemoveObservedAtFromResponses (20120706193519)
Migrating to RemoveDeviceFromUsers (20120706201054)
Migrating to RemovePlaces (20120717162456)
Migrating to AddUniqueRowsToReportReports (20120717182055)
Migrating to CreateMissions (20120820145220)
Migrating to AddAdminToUser (20120820165013)
Migrating to CreateAssignments (20120820181620)
Migrating to CreateDefaultMission (20120820181749)
Migrating to MoveUsersToDefaultMission (20120820181944)
Migrating to RemoveOldUserFields (20120820182538)
Migrating to AddCurrentMissionIdToUsers (20120820193330)
Migrating to AddMissionIdToModels (20120822152209)
Migrating to AddCompactNameIndexToMissions (20120822161441)
Migrating to RemoveSettables (20120906150610)
Migrating to RevampSettings (20120906155118)
Migrating to AddLanguagesToSettings (20120906170242)
Migrating to AddForeignKeyIndices (20120925145245)
Migrating to RemoveLanguages (20121008152421)
Migrating to AddForeignKeyIndicesToAssignments (20121008153636)
Migrating to AddValueCodeToReportResponseAttribute (20121015163120)
Migrating to AddFkIndices (20121015164830)
Migrating to DumpOldReports (20121018182218)
Migrating to DropOldReportTables (20121018183850)
Migrating to CreateNewReportReports (20121018184503)
Migrating to CreateNewReportCalculations (20121022153208)
Migrating to RenameReportFields (20121112143155)
Migrating to RemoveSecondCalculationFields (20121112143800)
Migrating to RemoveOmnibusCalculationFromReportReports (20121112174623)
Migrating to AddRankToReportCalculations (20121126153456)
Migrating to CreateReportOptionSetChoices (20121230200218)
Migrating to AddOutgoingSmsAdapterToSettings (20130213223146)
Migrating to AddOtherSmsFieldsToSettings (20130214013213)
Migrating to AddOutgoingSmsLanguageToSettings (20130214040034)
Migrating to CreateSmsCodes (20130217133401)
  [1m[35m (0.8ms)[0m  CREATE TABLE `sms_codes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `code` varchar(255), `questioning_id` int(11), `option_id` int(11), `form_id` int(11), `question_number` int(11), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
Mysql2::Error: Table 'sms_codes' already exists: CREATE TABLE `sms_codes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `code` varchar(255), `questioning_id` int(11), `option_id` int(11), `form_id` int(11), `question_number` int(11), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
Connecting to database specified by database.yml
  [1m[36m (1.6ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateRoles (20110602191123)
Migrating to CreateLanguages (20110602191155)
Migrating to CreateUsers (20110602191220)
Migrating to CreatePlaces (20110621231556)
Migrating to CreatePlaceTypes (20110621231721)
Migrating to CreateGoogleGeolocations (20110622182016)
Migrating to CreatePlaceSuggs (20110623183148)
Migrating to CreatePlaceLookups (20110623193938)
Migrating to CreateSearches (20110624133714)
Migrating to CreateOptions (20110629190738)
Migrating to CreateOptionSets (20110629190744)
Migrating to CreateOptionSettings (20110629190749)
Migrating to CreateForms (20110629190755)
Migrating to CreateQuestions (20110629190801)
Migrating to CreateResponses (20110629190806)
Migrating to CreateAnswers (20110629190812)
Migrating to CreateQuestionTypes (20110629190817)
Migrating to CreateTranslations (20110629190823)
Migrating to CreateFormTypes (20110629190829)
Migrating to CreateQuestionings (20110629190834)
Migrating to ChangeLanguageToCode (20110630141414)
Migrating to ChangeTranslationsToPolymorphic (20110630154332)
Migrating to AddOdkNameToQuestionTypes (20110630160747)
Migrating to AddOdkTagToQuestionTypes (20110630195026)
Migrating to AddIncompleteToPlaces (20110713165635)
Migrating to AddPreloadStuffToQuestionTypes (20110713174932)
Migrating to CreateReviews (20110713185801)
Migrating to AddSessionsTable (20110713211903)
Migrating to QuestionShouldBeQuestioningForAnswer (20110719191108)
Migrating to CreateChoices (20110720164304)
Migrating to RenameObjectIdToObjIdInTranslation (20110721204754)
Migrating to AddReviewedToResponses (20110722194551)
Migrating to DropReviews (20110722194603)
Migrating to AddPhoneOnlyToQuestionType (20110722200238)
Migrating to RenameIsActiveToActiveForUser (20110722205622)
Migrating to CreateSettables (20110726143633)
Migrating to CreateSettings (20110726144308)
Migrating to AddLongNameToQuestionTypes (20110726185552)
Migrating to CreateBroadcasts (20110810133630)
Migrating to CreateBroadcastAddressings (20110810134344)
Migrating to AddDownloadsToForms (20110811154224)
Migrating to AddSourceToResponse (20110814182130)
Migrating to RemoveTimestampQuestions (20110814185101)
Migrating to AddLoginCountToUsers (20110815174137)
Migrating to AddDeviceAndNotesToUsers (20110815193346)
Migrating to RenameNumericToInteger (20110816185426)
Migrating to AddTranslationIndex (20110817175237)
Migrating to ChoiceForeignKey (20110817183704)
Migrating to CreateMainView (20110817184219)
Migrating to AddBooleanDefaults (20110823170400)
Migrating to StandardizeBooleanNames (20110823171727)
Migrating to AddObserverIdToMainView (20110901141457)
Migrating to CreateConditions (20110901175612)
Migrating to RenamePlacesIncompleteToTemporary (20110908165935)
Migrating to DropQuestionTypeFields (20110908195844)
Migrating to DropUnneededPlaceTables (20110908211409)
Migrating to AddPlaceTypeShortNames (20110913142741)
Migrating to AddRedundantLinksToPlaces (20110913143939)
Migrating to FixPlacesInMainView (20110913162231)
Migrating to CreatePlaceCreators (20110913202244)
Migrating to AddLastRequestAtToUsers (20110914144631)
Migrating to AddOrderingToOptionSets (20110922181111)
Migrating to AddOptionIdToCondition (20110923004101)
Migrating to AddTeamNumberToUsers (20111006155632)
Migrating to ChangeUserToOneNameField (20111103141618)
Migrating to RemoveTeamNumberFromUsers (20111103152358)
Migrating to DropGoogleGeolocations (20111122190536)
Migrating to RenameSearchesToSearchSearches (20120110163524)
Migrating to ClearSessions (20120110163624)
Migrating to RenameSearchQueryToStr (20120110163625)
Migrating to CreateReportReports (20120110163724)
Migrating to CreateReportGroupings (20120110163922)
Migrating to CreateReportCalculations (20120110163943)
Migrating to CreateReportAggregations (20120110164008)
Migrating to CreateReportFields (20120117191616)
Migrating to AddViewedAtAndViewCountToReportReports (20120131161053)
Migrating to CreateReportGroupingAttributes (20120131202355)
Migrating to UpdateGroupingToUseNewGroupingAttributeClass (20120131202427)
Migrating to ChangeReportTypeToKind (20120203164645)
Migrating to AddDisplayTypeToReportReport (20120221210027)
Migrating to AddStackedBarsToReportReport (20120223201044)
Migrating to DropViews (20120223205639)
Migrating to AddUnreviewedToReportReports (20120320153040)
Migrating to AddPercentagesToReportReports (20120321155330)
Migrating to RemoveKindFromReportReports (20120322151536)
Migrating to RenameReportGroupingAttributesToReportResponseAttributes (20120322173538)
Migrating to RenameReportFieldsAttribName (20120322175333)
Migrating to AddGroupableToReportResponseAttributes (20120322180750)
Migrating to AddDataTypeToReportResponseAttribute (20120413151514)
Migrating to AddQuestioningIdIndexToAnswers (20120426154100)
Migrating to ConvertBlankAnswerValuesToNulls (20120426182952)
Migrating to CreateUserBatches (20120519202915)
Migrating to RemovePhoneIsMobile (20120521191051)
Migrating to AddAlternatePhoneNumbers (20120521192411)
Migrating to AddWhichPhoneToBroadcasts (20120521221511)
Migrating to RemoveQuestionCodeSpaces (20120626184028)
Migrating to AddRangeToQuestions (20120629210925)
Migrating to AddDateTimeValuesToAnswers (20120702172029)
Migrating to ChangeTranslationLanguageIdToLanguageAndFixIndex (20120706180000)
Migrating to RemoveLanguageFromUsers (20120706183000)
Migrating to AddQuestioningCountAndResponseCountToForm (20120706184000)
Migrating to RemoveObservedAtFromResponses (20120706193519)
Migrating to RemoveDeviceFromUsers (20120706201054)
Migrating to RemovePlaces (20120717162456)
Migrating to AddUniqueRowsToReportReports (20120717182055)
Migrating to CreateMissions (20120820145220)
Migrating to AddAdminToUser (20120820165013)
Migrating to CreateAssignments (20120820181620)
Migrating to CreateDefaultMission (20120820181749)
Migrating to MoveUsersToDefaultMission (20120820181944)
Migrating to RemoveOldUserFields (20120820182538)
Migrating to AddCurrentMissionIdToUsers (20120820193330)
Migrating to AddMissionIdToModels (20120822152209)
Migrating to AddCompactNameIndexToMissions (20120822161441)
Migrating to RemoveSettables (20120906150610)
Migrating to RevampSettings (20120906155118)
Migrating to AddLanguagesToSettings (20120906170242)
Migrating to AddForeignKeyIndices (20120925145245)
Migrating to RemoveLanguages (20121008152421)
Migrating to AddForeignKeyIndicesToAssignments (20121008153636)
Migrating to AddValueCodeToReportResponseAttribute (20121015163120)
Migrating to AddFkIndices (20121015164830)
Migrating to DumpOldReports (20121018182218)
Migrating to DropOldReportTables (20121018183850)
Migrating to CreateNewReportReports (20121018184503)
Migrating to CreateNewReportCalculations (20121022153208)
Migrating to RenameReportFields (20121112143155)
Migrating to RemoveSecondCalculationFields (20121112143800)
Migrating to RemoveOmnibusCalculationFromReportReports (20121112174623)
Migrating to AddRankToReportCalculations (20121126153456)
Migrating to CreateReportOptionSetChoices (20121230200218)
Migrating to AddOutgoingSmsAdapterToSettings (20130213223146)
Migrating to AddOtherSmsFieldsToSettings (20130214013213)
Migrating to AddOutgoingSmsLanguageToSettings (20130214040034)
Migrating to CreateSmsCodes (20130217133401)
  [1m[35m (8.6ms)[0m  CREATE TABLE `sms_codes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `code` varchar(255), `questioning_id` int(11), `option_id` int(11), `form_id` int(11), `question_number` int(11), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (0.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130217133401')[0m
  [1m[35m (0.3ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations` 


Started GET "/sms_codes/show/8" for 127.0.0.1 at 2013-02-17 14:47:47 +0100
Processing by SmsCodesController#show as HTML
  Parameters: {"form_id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 13:47:47', `updated_at` = '2013-02-17 13:47:47' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 8 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `sms_codes` WHERE `sms_codes`.`form_id` = 8
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 8 ORDER BY rank[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 27 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 28 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 29 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 30 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 6 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.7ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (6)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (19, 20, 21, 22, 23)
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (19, 20, 21, 22, 23)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (19, 20, 21, 22, 23)
  [1m[36mOptionSet Load (0.6ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 13:47:47', 8, 19, 1, 37, '2013-02-17 13:47:47')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 13:47:47', 8, 20, 1, 37, '2013-02-17 13:47:47')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 13:47:47', 8, 21, 1, 37, '2013-02-17 13:47:47')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 13:47:47', 8, 22, 1, 37, '2013-02-17 13:47:47')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 13:47:47', 8, 23, 1, 37, '2013-02-17 13:47:47')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 26 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 7 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (7)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 24, 25, 26, 27)[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 24, 25, 26, 27)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 24, 25, 26, 27)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 13:47:47', 8, 24, 2, 38, '2013-02-17 13:47:47')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 13:47:47', 8, 25, 2, 38, '2013-02-17 13:47:47')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 13:47:47', 8, 26, 2, 38, '2013-02-17 13:47:47')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 13:47:47', 8, 27, 2, 38, '2013-02-17 13:47:47')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 13:47:47', 8, 23, 2, 38, '2013-02-17 13:47:47')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 27 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 8 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (8)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 28, 29, 30, 31)
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 28, 29, 30, 31)[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 28, 29, 30, 31)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 13:47:47', 8, 28, 3, 39, '2013-02-17 13:47:47')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 13:47:47', 8, 29, 3, 39, '2013-02-17 13:47:47')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 13:47:47', 8, 30, 3, 39, '2013-02-17 13:47:47')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 13:47:47', 8, 31, 3, 39, '2013-02-17 13:47:47')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 13:47:47', 8, 23, 3, 39, '2013-02-17 13:47:47')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 28 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 9 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (9)
  [1m[36mOption Load (0.5ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 32, 33, 34, 35)[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 32, 33, 34, 35)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 32, 33, 34, 35)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code[0m
  [1m[35mQuestioning Load (0.7ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 13:47:47', 8, 32, 4, 40, '2013-02-17 13:47:47')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 13:47:47', 8, 33, 4, 40, '2013-02-17 13:47:47')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 13:47:47', 8, 34, 4, 40, '2013-02-17 13:47:47')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 13:47:47', 8, 35, 4, 40, '2013-02-17 13:47:47')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 13:47:47', 8, 23, 4, 40, '2013-02-17 13:47:47')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 29 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 10 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (10)[0m
  [1m[35mOption Load (1.2ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 36, 37, 38, 39)
  [1m[36mTranslation Load (0.7ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 36, 37, 38, 39)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 36, 37, 38, 39)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)[0m
  [1m[35mForm Load (0.8ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 13:47:47', 8, 36, 5, 41, '2013-02-17 13:47:47')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 13:47:47', 8, 37, 5, 41, '2013-02-17 13:47:47')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 13:47:47', 8, 38, 5, 41, '2013-02-17 13:47:47')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 13:47:47', 8, 39, 5, 41, '2013-02-17 13:47:47')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 13:47:47', 8, 23, 5, 41, '2013-02-17 13:47:47')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 30 AND `translations`.`class_name` = 'Question'
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES (NULL, '2013-02-17 13:47:47', 8, NULL, 6, 42, '2013-02-17 13:47:47')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 31 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 8 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (8)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 28, 29, 30, 31)[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 28, 29, 30, 31)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 28, 29, 30, 31)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name
  [1m[36mQuestion Load (0.9ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 13:47:48', 8, 28, 7, 43, '2013-02-17 13:47:48')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 13:47:48', 8, 29, 7, 43, '2013-02-17 13:47:48')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 13:47:48', 8, 30, 7, 43, '2013-02-17 13:47:48')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 13:47:48', 8, 31, 7, 43, '2013-02-17 13:47:48')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 13:47:48', 8, 23, 7, 43, '2013-02-17 13:47:48')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mTranslation Load (0.7ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 32 AND `translations`.`class_name` = 'Question'[0m
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
Completed 500 Internal Server Error in 683ms

ActionView::MissingTemplate (Missing template sms_codes/show.txt with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder]}. Searched in:
  * "/Users/damienbrockmann/Desktop/elmo/app/views"
):
  app/controllers/sms_codes_controller.rb:6:in `show'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.4ms)


Started GET "/sms_codes/show/8" for 127.0.0.1 at 2013-02-17 14:48:34 +0100
Processing by SmsCodesController#show as HTML
  Parameters: {"form_id"=>"8"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 13:48:34', `updated_at` = '2013-02-17 13:48:34' WHERE `users`.`id` = 1
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 8 LIMIT 1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM `sms_codes` WHERE `sms_codes`.`form_id` = 8
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 8 ORDER BY rank[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 27 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 28 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 29 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 30 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.2ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 6 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (6)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (19, 20, 21, 22, 23)
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (19, 20, 21, 22, 23)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (19, 20, 21, 22, 23)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code
  [1m[36mQuestioning Load (0.6ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 13:48:34', 8, 19, 1, 37, '2013-02-17 13:48:34')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 13:48:34', 8, 20, 1, 37, '2013-02-17 13:48:34')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 13:48:34', 8, 21, 1, 37, '2013-02-17 13:48:34')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 13:48:34', 8, 22, 1, 37, '2013-02-17 13:48:34')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 13:48:34', 8, 23, 1, 37, '2013-02-17 13:48:34')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 26 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 7 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (7)
  [1m[36mOption Load (0.5ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 24, 25, 26, 27)[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 24, 25, 26, 27)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 24, 25, 26, 27)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 13:48:34', 8, 24, 2, 38, '2013-02-17 13:48:34')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 13:48:34', 8, 25, 2, 38, '2013-02-17 13:48:34')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 13:48:34', 8, 26, 2, 38, '2013-02-17 13:48:34')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 13:48:34', 8, 27, 2, 38, '2013-02-17 13:48:34')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 13:48:34', 8, 23, 2, 38, '2013-02-17 13:48:34')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 27 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.5ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 8 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (8)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 28, 29, 30, 31)
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 28, 29, 30, 31)[0m
  [1m[35mOptionSetting Load (0.2ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 28, 29, 30, 31)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 13:48:34', 8, 28, 3, 39, '2013-02-17 13:48:34')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 13:48:34', 8, 29, 3, 39, '2013-02-17 13:48:34')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 13:48:34', 8, 30, 3, 39, '2013-02-17 13:48:34')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 13:48:34', 8, 31, 3, 39, '2013-02-17 13:48:34')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 13:48:34', 8, 23, 3, 39, '2013-02-17 13:48:34')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 28 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 9 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (9)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 32, 33, 34, 35)[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 32, 33, 34, 35)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 32, 33, 34, 35)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 13:48:34', 8, 32, 4, 40, '2013-02-17 13:48:34')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 13:48:34', 8, 33, 4, 40, '2013-02-17 13:48:34')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 13:48:34', 8, 34, 4, 40, '2013-02-17 13:48:34')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 13:48:34', 8, 35, 4, 40, '2013-02-17 13:48:34')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 13:48:34', 8, 23, 4, 40, '2013-02-17 13:48:34')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 29 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 10 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (10)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 36, 37, 38, 39)
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 36, 37, 38, 39)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 36, 37, 38, 39)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 13:48:34', 8, 36, 5, 41, '2013-02-17 13:48:34')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 13:48:34', 8, 37, 5, 41, '2013-02-17 13:48:34')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 13:48:34', 8, 38, 5, 41, '2013-02-17 13:48:34')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 13:48:34', 8, 39, 5, 41, '2013-02-17 13:48:34')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 13:48:34', 8, 23, 5, 41, '2013-02-17 13:48:34')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 30 AND `translations`.`class_name` = 'Question'
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES (NULL, '2013-02-17 13:48:34', 8, NULL, 6, 42, '2013-02-17 13:48:34')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 31 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 8 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (8)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 28, 29, 30, 31)[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 28, 29, 30, 31)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 28, 29, 30, 31)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 13:48:34', 8, 28, 7, 43, '2013-02-17 13:48:34')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 13:48:34', 8, 29, 7, 43, '2013-02-17 13:48:34')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 13:48:34', 8, 30, 7, 43, '2013-02-17 13:48:34')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 13:48:34', 8, 31, 7, 43, '2013-02-17 13:48:34')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 13:48:34', 8, 23, 7, 43, '2013-02-17 13:48:34')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 32 AND `translations`.`class_name` = 'Question'[0m
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_codes/show.txt.erb (0.6ms)
Completed 200 OK in 234ms (Views: 3.0ms | ActiveRecord: 57.3ms)
Connecting to database specified by database.yml
  [1m[36m (1.7ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
  [1m[35m (0.4ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations` 
Migrating to CreateSmsCodes (20130217133401)
  [1m[36m (0.9ms)[0m  [1mDROP TABLE `sms_codes`[0m
  [1m[35m (0.5ms)[0m  DELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20130217133401'
  [1m[36m (0.3ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Connecting to database specified by database.yml
  [1m[36m (1.7ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateRoles (20110602191123)
Migrating to CreateLanguages (20110602191155)
Migrating to CreateUsers (20110602191220)
Migrating to CreatePlaces (20110621231556)
Migrating to CreatePlaceTypes (20110621231721)
Migrating to CreateGoogleGeolocations (20110622182016)
Migrating to CreatePlaceSuggs (20110623183148)
Migrating to CreatePlaceLookups (20110623193938)
Migrating to CreateSearches (20110624133714)
Migrating to CreateOptions (20110629190738)
Migrating to CreateOptionSets (20110629190744)
Migrating to CreateOptionSettings (20110629190749)
Migrating to CreateForms (20110629190755)
Migrating to CreateQuestions (20110629190801)
Migrating to CreateResponses (20110629190806)
Migrating to CreateAnswers (20110629190812)
Migrating to CreateQuestionTypes (20110629190817)
Migrating to CreateTranslations (20110629190823)
Migrating to CreateFormTypes (20110629190829)
Migrating to CreateQuestionings (20110629190834)
Migrating to ChangeLanguageToCode (20110630141414)
Migrating to ChangeTranslationsToPolymorphic (20110630154332)
Migrating to AddOdkNameToQuestionTypes (20110630160747)
Migrating to AddOdkTagToQuestionTypes (20110630195026)
Migrating to AddIncompleteToPlaces (20110713165635)
Migrating to AddPreloadStuffToQuestionTypes (20110713174932)
Migrating to CreateReviews (20110713185801)
Migrating to AddSessionsTable (20110713211903)
Migrating to QuestionShouldBeQuestioningForAnswer (20110719191108)
Migrating to CreateChoices (20110720164304)
Migrating to RenameObjectIdToObjIdInTranslation (20110721204754)
Migrating to AddReviewedToResponses (20110722194551)
Migrating to DropReviews (20110722194603)
Migrating to AddPhoneOnlyToQuestionType (20110722200238)
Migrating to RenameIsActiveToActiveForUser (20110722205622)
Migrating to CreateSettables (20110726143633)
Migrating to CreateSettings (20110726144308)
Migrating to AddLongNameToQuestionTypes (20110726185552)
Migrating to CreateBroadcasts (20110810133630)
Migrating to CreateBroadcastAddressings (20110810134344)
Migrating to AddDownloadsToForms (20110811154224)
Migrating to AddSourceToResponse (20110814182130)
Migrating to RemoveTimestampQuestions (20110814185101)
Migrating to AddLoginCountToUsers (20110815174137)
Migrating to AddDeviceAndNotesToUsers (20110815193346)
Migrating to RenameNumericToInteger (20110816185426)
Migrating to AddTranslationIndex (20110817175237)
Migrating to ChoiceForeignKey (20110817183704)
Migrating to CreateMainView (20110817184219)
Migrating to AddBooleanDefaults (20110823170400)
Migrating to StandardizeBooleanNames (20110823171727)
Migrating to AddObserverIdToMainView (20110901141457)
Migrating to CreateConditions (20110901175612)
Migrating to RenamePlacesIncompleteToTemporary (20110908165935)
Migrating to DropQuestionTypeFields (20110908195844)
Migrating to DropUnneededPlaceTables (20110908211409)
Migrating to AddPlaceTypeShortNames (20110913142741)
Migrating to AddRedundantLinksToPlaces (20110913143939)
Migrating to FixPlacesInMainView (20110913162231)
Migrating to CreatePlaceCreators (20110913202244)
Migrating to AddLastRequestAtToUsers (20110914144631)
Migrating to AddOrderingToOptionSets (20110922181111)
Migrating to AddOptionIdToCondition (20110923004101)
Migrating to AddTeamNumberToUsers (20111006155632)
Migrating to ChangeUserToOneNameField (20111103141618)
Migrating to RemoveTeamNumberFromUsers (20111103152358)
Migrating to DropGoogleGeolocations (20111122190536)
Migrating to RenameSearchesToSearchSearches (20120110163524)
Migrating to ClearSessions (20120110163624)
Migrating to RenameSearchQueryToStr (20120110163625)
Migrating to CreateReportReports (20120110163724)
Migrating to CreateReportGroupings (20120110163922)
Migrating to CreateReportCalculations (20120110163943)
Migrating to CreateReportAggregations (20120110164008)
Migrating to CreateReportFields (20120117191616)
Migrating to AddViewedAtAndViewCountToReportReports (20120131161053)
Migrating to CreateReportGroupingAttributes (20120131202355)
Migrating to UpdateGroupingToUseNewGroupingAttributeClass (20120131202427)
Migrating to ChangeReportTypeToKind (20120203164645)
Migrating to AddDisplayTypeToReportReport (20120221210027)
Migrating to AddStackedBarsToReportReport (20120223201044)
Migrating to DropViews (20120223205639)
Migrating to AddUnreviewedToReportReports (20120320153040)
Migrating to AddPercentagesToReportReports (20120321155330)
Migrating to RemoveKindFromReportReports (20120322151536)
Migrating to RenameReportGroupingAttributesToReportResponseAttributes (20120322173538)
Migrating to RenameReportFieldsAttribName (20120322175333)
Migrating to AddGroupableToReportResponseAttributes (20120322180750)
Migrating to AddDataTypeToReportResponseAttribute (20120413151514)
Migrating to AddQuestioningIdIndexToAnswers (20120426154100)
Migrating to ConvertBlankAnswerValuesToNulls (20120426182952)
Migrating to CreateUserBatches (20120519202915)
Migrating to RemovePhoneIsMobile (20120521191051)
Migrating to AddAlternatePhoneNumbers (20120521192411)
Migrating to AddWhichPhoneToBroadcasts (20120521221511)
Migrating to RemoveQuestionCodeSpaces (20120626184028)
Migrating to AddRangeToQuestions (20120629210925)
Migrating to AddDateTimeValuesToAnswers (20120702172029)
Migrating to ChangeTranslationLanguageIdToLanguageAndFixIndex (20120706180000)
Migrating to RemoveLanguageFromUsers (20120706183000)
Migrating to AddQuestioningCountAndResponseCountToForm (20120706184000)
Migrating to RemoveObservedAtFromResponses (20120706193519)
Migrating to RemoveDeviceFromUsers (20120706201054)
Migrating to RemovePlaces (20120717162456)
Migrating to AddUniqueRowsToReportReports (20120717182055)
Migrating to CreateMissions (20120820145220)
Migrating to AddAdminToUser (20120820165013)
Migrating to CreateAssignments (20120820181620)
Migrating to CreateDefaultMission (20120820181749)
Migrating to MoveUsersToDefaultMission (20120820181944)
Migrating to RemoveOldUserFields (20120820182538)
Migrating to AddCurrentMissionIdToUsers (20120820193330)
Migrating to AddMissionIdToModels (20120822152209)
Migrating to AddCompactNameIndexToMissions (20120822161441)
Migrating to RemoveSettables (20120906150610)
Migrating to RevampSettings (20120906155118)
Migrating to AddLanguagesToSettings (20120906170242)
Migrating to AddForeignKeyIndices (20120925145245)
Migrating to RemoveLanguages (20121008152421)
Migrating to AddForeignKeyIndicesToAssignments (20121008153636)
Migrating to AddValueCodeToReportResponseAttribute (20121015163120)
Migrating to AddFkIndices (20121015164830)
Migrating to DumpOldReports (20121018182218)
Migrating to DropOldReportTables (20121018183850)
Migrating to CreateNewReportReports (20121018184503)
Migrating to CreateNewReportCalculations (20121022153208)
Migrating to RenameReportFields (20121112143155)
Migrating to RemoveSecondCalculationFields (20121112143800)
Migrating to RemoveOmnibusCalculationFromReportReports (20121112174623)
Migrating to AddRankToReportCalculations (20121126153456)
Migrating to CreateReportOptionSetChoices (20121230200218)
Migrating to AddOutgoingSmsAdapterToSettings (20130213223146)
Migrating to AddOtherSmsFieldsToSettings (20130214013213)
Migrating to AddOutgoingSmsLanguageToSettings (20130214040034)
Migrating to CreateSmsCodes (20130217133401)
  [1m[35m (15.8ms)[0m  CREATE TABLE `sms_codes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `code` varchar(255) DEFAULT 0, `questioning_id` int(11), `option_id` int(11) DEFAULT 0, `form_id` int(11), `question_number` int(11), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (0.5ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130217133401')[0m
  [1m[35m (0.4ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations` 


Started GET "/sms_codes/show/3" for 127.0.0.1 at 2013-02-17 15:10:44 +0100
Processing by SmsCodesController#show as HTML
  Parameters: {"form_id"=>"3"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 14:10:45', `updated_at` = '2013-02-17 14:10:45' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 3 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM `sms_codes` WHERE `sms_codes`.`form_id` = 3
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 3 ORDER BY rank[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 6 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 7 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 11 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 19 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 20 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 21 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 22 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 23 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 24 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 25 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.2ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 14:10:45', 3, 1, 1, 9, '2013-02-17 14:10:45')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 14:10:45', 3, 2, 1, 9, '2013-02-17 14:10:45')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 14:10:45', 3, 3, 1, 9, '2013-02-17 14:10:45')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 6 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.6ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 14:10:45', 3, 1, 2, 10, '2013-02-17 14:10:45')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 14:10:45', 3, 2, 2, 10, '2013-02-17 14:10:45')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 14:10:45', 3, 3, 2, 10, '2013-02-17 14:10:45')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 7 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.6ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 14:10:45', 3, 1, 3, 12, '2013-02-17 14:10:45')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 14:10:45', 3, 2, 3, 12, '2013-02-17 14:10:45')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 14:10:45', 3, 3, 3, 12, '2013-02-17 14:10:45')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 9 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.2ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)[0m
  [1m[35mOptionSet Load (0.2ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.6ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 14:10:45', 3, 1, 4, 13, '2013-02-17 14:10:45')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 14:10:45', 3, 2, 4, 13, '2013-02-17 14:10:45')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 14:10:45', 3, 3, 4, 13, '2013-02-17 14:10:45')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 10 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 14:10:45', 3, 1, 5, 14, '2013-02-17 14:10:45')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 14:10:45', 3, 2, 5, 14, '2013-02-17 14:10:45')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 14:10:45', 3, 3, 5, 14, '2013-02-17 14:10:45')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 11 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.6ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 14:10:45', 3, 1, 6, 22, '2013-02-17 14:10:45')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 14:10:45', 3, 2, 6, 22, '2013-02-17 14:10:45')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 14:10:45', 3, 3, 6, 22, '2013-02-17 14:10:45')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mTranslation Load (0.7ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 19 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)[0m
  [1m[35mOption Load (0.5ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 14:10:45', 3, 1, 7, 23, '2013-02-17 14:10:45')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 14:10:45', 3, 2, 7, 23, '2013-02-17 14:10:45')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 14:10:45', 3, 3, 7, 23, '2013-02-17 14:10:45')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 20 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)
  [1m[36mOption Load (0.5ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.7ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.8ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 14:10:45', 3, 1, 8, 24, '2013-02-17 14:10:45')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 14:10:45', 3, 2, 8, 24, '2013-02-17 14:10:45')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 14:10:45', 3, 3, 8, 24, '2013-02-17 14:10:45')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 21 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 14:10:45', 3, 1, 9, 25, '2013-02-17 14:10:45')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 14:10:45', 3, 2, 9, 25, '2013-02-17 14:10:45')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 14:10:45', 3, 3, 9, 25, '2013-02-17 14:10:45')
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 22 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.7ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 14:10:45', 3, 1, 10, 26, '2013-02-17 14:10:45')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 14:10:45', 3, 2, 10, 26, '2013-02-17 14:10:45')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 14:10:45', 3, 3, 10, 26, '2013-02-17 14:10:45')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 23 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)
  [1m[36mTranslation Load (0.7ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 14:10:45', 3, 1, 11, 27, '2013-02-17 14:10:45')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 14:10:45', 3, 2, 11, 27, '2013-02-17 14:10:45')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 14:10:45', 3, 3, 11, 27, '2013-02-17 14:10:45')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 24 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 14:10:45', 3, 1, 12, 28, '2013-02-17 14:10:45')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 14:10:45', 3, 2, 12, 28, '2013-02-17 14:10:45')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 14:10:45', 3, 3, 12, 28, '2013-02-17 14:10:45')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 25 AND `translations`.`class_name` = 'Question'[0m
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_codes/show.txt.erb (0.1ms)
Completed 200 OK in 799ms (Views: 2.1ms | ActiveRecord: 108.7ms)


Started GET "/sms_responses/incoming" for 127.0.0.1 at 2013-02-17 15:24:35 +0100
Processing by SmsResponsesController#incoming as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 14:24:35', `updated_at` = '2013-02-17 14:24:35' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.4ms)
Completed 200 OK in 144ms (Views: 2.2ms | ActiveRecord: 7.8ms)


Started GET "/sms_responses/incoming?provider=isms" for 127.0.0.1 at 2013-02-17 15:27:45 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"isms"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-17 14:27:45', `updated_at` = '2013-02-17 14:27:45' WHERE `users`.`id` = 1[0m
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 152ms (Views: 2.8ms | ActiveRecord: 11.7ms)


Started GET "/sms_responses/incoming?provider=isms" for 127.0.0.1 at 2013-02-17 15:32:45 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"isms"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 14:32:46', `updated_at` = '2013-02-17 14:32:46' WHERE `users`.`id` = 1
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
Completed 500 Internal Server Error in 203ms

NameError (undefined local variable or method `isms_adapter' for #<SmsResponsesController:0x007fd3bd81f180>):
  app/controllers/sms_responses_controller.rb:4:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.4ms)


Started GET "/sms_responses/incoming?provider=isms" for 127.0.0.1 at 2013-02-17 15:40:52 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"isms"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-17 14:40:52', `updated_at` = '2013-02-17 14:40:52' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 153ms

NameError (uninitialized constant SmsResponsesController::ISMSAdapter):
  app/controllers/sms_responses_controller.rb:4:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.5ms)


Started GET "/sms_responses/incoming?provider=ISMS" for 127.0.0.1 at 2013-02-17 16:25:53 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 15:25:53', `updated_at` = '2013-02-17 15:25:53' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
Completed 500 Internal Server Error in 211ms

NoMethodError (undefined method `create' for Sms::Adapters::Factory:Class):
  app/controllers/sms_responses_controller.rb:4:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.5ms)


Started GET "/sms_responses/incoming?provider=ISMS" for 127.0.0.1 at 2013-02-17 16:26:18 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-17 15:26:18', `updated_at` = '2013-02-17 15:26:18' WHERE `users`.`id` = 1[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 183ms

NoMethodError (undefined method `create' for Sms::Adapters::Factory:Class):
  app/controllers/sms_responses_controller.rb:4:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.5ms)


Started GET "/sms_responses/incoming?provider=ISMS" for 127.0.0.1 at 2013-02-17 16:27:44 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.1ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 15:27:45', `updated_at` = '2013-02-17 15:27:45' WHERE `users`.`id` = 1
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 149ms (Views: 1.9ms | ActiveRecord: 9.8ms)


Started GET "/sms_responses/incoming?provider=ISMS" for 127.0.0.1 at 2013-02-17 16:29:46 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-17 15:29:46', `updated_at` = '2013-02-17 15:29:46' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 148ms

NoMethodError (undefined method `create' for Sms::Adapters::Factory:Class):
  app/controllers/sms_responses_controller.rb:4:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (6.6ms)
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (1.8ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
  [1m[35m (0.3ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations` 
Migrating to CreateSmsCodes (20130217133401)
  [1m[36m (1.9ms)[0m  [1mDROP TABLE `sms_codes`[0m
  [1m[35m (1.0ms)[0m  DELETE FROM `schema_migrations` WHERE `schema_migrations`.`version` = '20130217133401'
  [1m[36m (0.3ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Connecting to database specified by database.yml
  [1m[36m (1.7ms)[0m  [1mSELECT `schema_migrations`.`version` FROM `schema_migrations` [0m
Migrating to CreateRoles (20110602191123)
Migrating to CreateLanguages (20110602191155)
Migrating to CreateUsers (20110602191220)
Migrating to CreatePlaces (20110621231556)
Migrating to CreatePlaceTypes (20110621231721)
Migrating to CreateGoogleGeolocations (20110622182016)
Migrating to CreatePlaceSuggs (20110623183148)
Migrating to CreatePlaceLookups (20110623193938)
Migrating to CreateSearches (20110624133714)
Migrating to CreateOptions (20110629190738)
Migrating to CreateOptionSets (20110629190744)
Migrating to CreateOptionSettings (20110629190749)
Migrating to CreateForms (20110629190755)
Migrating to CreateQuestions (20110629190801)
Migrating to CreateResponses (20110629190806)
Migrating to CreateAnswers (20110629190812)
Migrating to CreateQuestionTypes (20110629190817)
Migrating to CreateTranslations (20110629190823)
Migrating to CreateFormTypes (20110629190829)
Migrating to CreateQuestionings (20110629190834)
Migrating to ChangeLanguageToCode (20110630141414)
Migrating to ChangeTranslationsToPolymorphic (20110630154332)
Migrating to AddOdkNameToQuestionTypes (20110630160747)
Migrating to AddOdkTagToQuestionTypes (20110630195026)
Migrating to AddIncompleteToPlaces (20110713165635)
Migrating to AddPreloadStuffToQuestionTypes (20110713174932)
Migrating to CreateReviews (20110713185801)
Migrating to AddSessionsTable (20110713211903)
Migrating to QuestionShouldBeQuestioningForAnswer (20110719191108)
Migrating to CreateChoices (20110720164304)
Migrating to RenameObjectIdToObjIdInTranslation (20110721204754)
Migrating to AddReviewedToResponses (20110722194551)
Migrating to DropReviews (20110722194603)
Migrating to AddPhoneOnlyToQuestionType (20110722200238)
Migrating to RenameIsActiveToActiveForUser (20110722205622)
Migrating to CreateSettables (20110726143633)
Migrating to CreateSettings (20110726144308)
Migrating to AddLongNameToQuestionTypes (20110726185552)
Migrating to CreateBroadcasts (20110810133630)
Migrating to CreateBroadcastAddressings (20110810134344)
Migrating to AddDownloadsToForms (20110811154224)
Migrating to AddSourceToResponse (20110814182130)
Migrating to RemoveTimestampQuestions (20110814185101)
Migrating to AddLoginCountToUsers (20110815174137)
Migrating to AddDeviceAndNotesToUsers (20110815193346)
Migrating to RenameNumericToInteger (20110816185426)
Migrating to AddTranslationIndex (20110817175237)
Migrating to ChoiceForeignKey (20110817183704)
Migrating to CreateMainView (20110817184219)
Migrating to AddBooleanDefaults (20110823170400)
Migrating to StandardizeBooleanNames (20110823171727)
Migrating to AddObserverIdToMainView (20110901141457)
Migrating to CreateConditions (20110901175612)
Migrating to RenamePlacesIncompleteToTemporary (20110908165935)
Migrating to DropQuestionTypeFields (20110908195844)
Migrating to DropUnneededPlaceTables (20110908211409)
Migrating to AddPlaceTypeShortNames (20110913142741)
Migrating to AddRedundantLinksToPlaces (20110913143939)
Migrating to FixPlacesInMainView (20110913162231)
Migrating to CreatePlaceCreators (20110913202244)
Migrating to AddLastRequestAtToUsers (20110914144631)
Migrating to AddOrderingToOptionSets (20110922181111)
Migrating to AddOptionIdToCondition (20110923004101)
Migrating to AddTeamNumberToUsers (20111006155632)
Migrating to ChangeUserToOneNameField (20111103141618)
Migrating to RemoveTeamNumberFromUsers (20111103152358)
Migrating to DropGoogleGeolocations (20111122190536)
Migrating to RenameSearchesToSearchSearches (20120110163524)
Migrating to ClearSessions (20120110163624)
Migrating to RenameSearchQueryToStr (20120110163625)
Migrating to CreateReportReports (20120110163724)
Migrating to CreateReportGroupings (20120110163922)
Migrating to CreateReportCalculations (20120110163943)
Migrating to CreateReportAggregations (20120110164008)
Migrating to CreateReportFields (20120117191616)
Migrating to AddViewedAtAndViewCountToReportReports (20120131161053)
Migrating to CreateReportGroupingAttributes (20120131202355)
Migrating to UpdateGroupingToUseNewGroupingAttributeClass (20120131202427)
Migrating to ChangeReportTypeToKind (20120203164645)
Migrating to AddDisplayTypeToReportReport (20120221210027)
Migrating to AddStackedBarsToReportReport (20120223201044)
Migrating to DropViews (20120223205639)
Migrating to AddUnreviewedToReportReports (20120320153040)
Migrating to AddPercentagesToReportReports (20120321155330)
Migrating to RemoveKindFromReportReports (20120322151536)
Migrating to RenameReportGroupingAttributesToReportResponseAttributes (20120322173538)
Migrating to RenameReportFieldsAttribName (20120322175333)
Migrating to AddGroupableToReportResponseAttributes (20120322180750)
Migrating to AddDataTypeToReportResponseAttribute (20120413151514)
Migrating to AddQuestioningIdIndexToAnswers (20120426154100)
Migrating to ConvertBlankAnswerValuesToNulls (20120426182952)
Migrating to CreateUserBatches (20120519202915)
Migrating to RemovePhoneIsMobile (20120521191051)
Migrating to AddAlternatePhoneNumbers (20120521192411)
Migrating to AddWhichPhoneToBroadcasts (20120521221511)
Migrating to RemoveQuestionCodeSpaces (20120626184028)
Migrating to AddRangeToQuestions (20120629210925)
Migrating to AddDateTimeValuesToAnswers (20120702172029)
Migrating to ChangeTranslationLanguageIdToLanguageAndFixIndex (20120706180000)
Migrating to RemoveLanguageFromUsers (20120706183000)
Migrating to AddQuestioningCountAndResponseCountToForm (20120706184000)
Migrating to RemoveObservedAtFromResponses (20120706193519)
Migrating to RemoveDeviceFromUsers (20120706201054)
Migrating to RemovePlaces (20120717162456)
Migrating to AddUniqueRowsToReportReports (20120717182055)
Migrating to CreateMissions (20120820145220)
Migrating to AddAdminToUser (20120820165013)
Migrating to CreateAssignments (20120820181620)
Migrating to CreateDefaultMission (20120820181749)
Migrating to MoveUsersToDefaultMission (20120820181944)
Migrating to RemoveOldUserFields (20120820182538)
Migrating to AddCurrentMissionIdToUsers (20120820193330)
Migrating to AddMissionIdToModels (20120822152209)
Migrating to AddCompactNameIndexToMissions (20120822161441)
Migrating to RemoveSettables (20120906150610)
Migrating to RevampSettings (20120906155118)
Migrating to AddLanguagesToSettings (20120906170242)
Migrating to AddForeignKeyIndices (20120925145245)
Migrating to RemoveLanguages (20121008152421)
Migrating to AddForeignKeyIndicesToAssignments (20121008153636)
Migrating to AddValueCodeToReportResponseAttribute (20121015163120)
Migrating to AddFkIndices (20121015164830)
Migrating to DumpOldReports (20121018182218)
Migrating to DropOldReportTables (20121018183850)
Migrating to CreateNewReportReports (20121018184503)
Migrating to CreateNewReportCalculations (20121022153208)
Migrating to RenameReportFields (20121112143155)
Migrating to RemoveSecondCalculationFields (20121112143800)
Migrating to RemoveOmnibusCalculationFromReportReports (20121112174623)
Migrating to AddRankToReportCalculations (20121126153456)
Migrating to CreateReportOptionSetChoices (20121230200218)
Migrating to AddOutgoingSmsAdapterToSettings (20130213223146)
Migrating to AddOtherSmsFieldsToSettings (20130214013213)
Migrating to AddOutgoingSmsLanguageToSettings (20130214040034)
Migrating to CreateSmsCodes (20130217133401)
  [1m[35m (20.7ms)[0m  CREATE TABLE `sms_codes` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `code` varchar(255), `questioning_id` int(11), `option_id` int(11), `form_id` int(11), `question_number` int(11), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (0.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130217133401')[0m
Migrating to CreateSmsResponses (20130217153912)
  [1m[35m (6.1ms)[0m  CREATE TABLE `sms_responses` (`id` int(11) DEFAULT NULL auto_increment PRIMARY KEY, `message` varchar(255), `response_id` int(11), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (0.4ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20130217153912')[0m
  [1m[35m (0.5ms)[0m  SELECT `schema_migrations`.`version` FROM `schema_migrations` 


Started GET "/sms_codes/show/3" for 127.0.0.1 at 2013-02-17 16:46:11 +0100
Processing by SmsCodesController#show as HTML
  Parameters: {"form_id"=>"3"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 15:46:11', `updated_at` = '2013-02-17 15:46:11' WHERE `users`.`id` = 1
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mForm Load (0.2ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 3 LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM `sms_codes` WHERE `sms_codes`.`form_id` = 3
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 3 ORDER BY rank[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 6 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.5ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 7 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 11 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 19 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 20 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 21 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 22 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 23 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 24 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 25 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mOptionSet Load (0.5ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.6ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:11', 3, 1, 1, 9, '2013-02-17 15:46:11')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:12', 3, 2, 1, 9, '2013-02-17 15:46:12')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:12', 3, 3, 1, 9, '2013-02-17 15:46:12')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 6 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)[0m
  [1m[35mTranslation Load (0.8ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)
  [1m[36mOptionSetting Load (0.5ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)[0m
  [1m[35mOptionSet Load (0.6ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:12', 3, 1, 2, 10, '2013-02-17 15:46:12')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:12', 3, 2, 2, 10, '2013-02-17 15:46:12')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:12', 3, 3, 2, 10, '2013-02-17 15:46:12')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 7 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.8ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:12', 3, 1, 3, 12, '2013-02-17 15:46:12')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:12', 3, 2, 3, 12, '2013-02-17 15:46:12')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:12', 3, 3, 3, 12, '2013-02-17 15:46:12')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 9 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.6ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)
  [1m[36mOption Load (0.8ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)
  [1m[36mOptionSetting Load (0.6ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)[0m
  [1m[35mOptionSet Load (0.5ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:12', 3, 1, 4, 13, '2013-02-17 15:46:12')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:12', 3, 2, 4, 13, '2013-02-17 15:46:12')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:12', 3, 3, 4, 13, '2013-02-17 15:46:12')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 10 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)
  [1m[36mTranslation Load (0.8ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.8ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:12', 3, 1, 5, 14, '2013-02-17 15:46:12')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:12', 3, 2, 5, 14, '2013-02-17 15:46:12')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:12', 3, 3, 5, 14, '2013-02-17 15:46:12')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.7ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 11 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:12', 3, 1, 6, 22, '2013-02-17 15:46:12')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:12', 3, 2, 6, 22, '2013-02-17 15:46:12')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:12', 3, 3, 6, 22, '2013-02-17 15:46:12')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 19 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.5ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)[0m
  [1m[35mOption Load (0.6ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)
  [1m[36mOptionSet Load (0.2ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.7ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (1.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:12', 3, 1, 7, 23, '2013-02-17 15:46:12')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:12', 3, 2, 7, 23, '2013-02-17 15:46:12')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:12', 3, 3, 7, 23, '2013-02-17 15:46:12')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 20 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.6ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:12', 3, 1, 8, 24, '2013-02-17 15:46:12')[0m
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:12', 3, 2, 8, 24, '2013-02-17 15:46:12')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:12', 3, 3, 8, 24, '2013-02-17 15:46:12')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mTranslation Load (0.9ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 21 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)
  [1m[36mTranslation Load (0.7ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:12', 3, 1, 9, 25, '2013-02-17 15:46:12')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:12', 3, 2, 9, 25, '2013-02-17 15:46:12')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:12', 3, 3, 9, 25, '2013-02-17 15:46:12')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 22 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:12', 3, 1, 10, 26, '2013-02-17 15:46:12')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:12', 3, 2, 10, 26, '2013-02-17 15:46:12')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:12', 3, 3, 10, 26, '2013-02-17 15:46:12')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 23 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)[0m
  [1m[35mOptionSetting Load (0.6ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.6ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:12', 3, 1, 11, 27, '2013-02-17 15:46:12')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:12', 3, 2, 11, 27, '2013-02-17 15:46:12')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:12', 3, 3, 11, 27, '2013-02-17 15:46:12')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.7ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 24 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:12', 3, 1, 12, 28, '2013-02-17 15:46:12')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:12', 3, 2, 12, 28, '2013-02-17 15:46:12')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:12', 3, 3, 12, 28, '2013-02-17 15:46:12')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 25 AND `translations`.`class_name` = 'Question'[0m
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_codes/show.txt.erb (0.2ms)
Completed 200 OK in 953ms (Views: 3.1ms | ActiveRecord: 130.7ms)


Started GET "/sms_codes/show/5" for 127.0.0.1 at 2013-02-17 16:46:17 +0100
Processing by SmsCodesController#show as HTML
  Parameters: {"form_id"=>"5"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 15:46:17', `updated_at` = '2013-02-17 15:46:17' WHERE `users`.`id` = 1
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 5 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `sms_codes` WHERE `sms_codes`.`form_id` = 5
  [1m[36mQuestioning Load (0.9ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 5 ORDER BY rank[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 27 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 28 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 29 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 30 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 6 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (6)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (19, 20, 21, 22, 23)
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (19, 20, 21, 22, 23)[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (19, 20, 21, 22, 23)
  [1m[36mOptionSet Load (0.5ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name[0m
  [1m[35mQuestion Load (0.7ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code
  [1m[36mQuestioning Load (0.7ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:17', 5, 19, 1, 29, '2013-02-17 15:46:17')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:17', 5, 20, 1, 29, '2013-02-17 15:46:17')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:17', 5, 21, 1, 29, '2013-02-17 15:46:17')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 15:46:17', 5, 22, 1, 29, '2013-02-17 15:46:17')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 15:46:17', 5, 23, 1, 29, '2013-02-17 15:46:17')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.9ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 26 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 7 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (7)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 24, 25, 26, 27)[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 24, 25, 26, 27)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 24, 25, 26, 27)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:17', 5, 24, 2, 30, '2013-02-17 15:46:17')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:17', 5, 25, 2, 30, '2013-02-17 15:46:17')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:17', 5, 26, 2, 30, '2013-02-17 15:46:17')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 15:46:17', 5, 27, 2, 30, '2013-02-17 15:46:17')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 15:46:17', 5, 23, 2, 30, '2013-02-17 15:46:17')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 27 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 8 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.5ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (8)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 28, 29, 30, 31)
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 28, 29, 30, 31)[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 28, 29, 30, 31)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name[0m
  [1m[35mQuestion Load (0.7ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:17', 5, 28, 3, 31, '2013-02-17 15:46:17')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:17', 5, 29, 3, 31, '2013-02-17 15:46:17')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:17', 5, 30, 3, 31, '2013-02-17 15:46:17')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 15:46:17', 5, 31, 3, 31, '2013-02-17 15:46:17')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 15:46:17', 5, 23, 3, 31, '2013-02-17 15:46:17')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 28 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 9 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (9)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 32, 33, 34, 35)[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 32, 33, 34, 35)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 32, 33, 34, 35)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code[0m
  [1m[35mQuestioning Load (0.6ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:17', 5, 32, 4, 32, '2013-02-17 15:46:17')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:17', 5, 33, 4, 32, '2013-02-17 15:46:17')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:17', 5, 34, 4, 32, '2013-02-17 15:46:17')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 15:46:17', 5, 35, 4, 32, '2013-02-17 15:46:17')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 15:46:17', 5, 23, 4, 32, '2013-02-17 15:46:17')[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 29 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 10 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (10)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 36, 37, 38, 39)
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 36, 37, 38, 39)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 36, 37, 38, 39)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code
  [1m[36mQuestioning Load (0.7ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:17', 5, 36, 5, 33, '2013-02-17 15:46:17')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:17', 5, 37, 5, 33, '2013-02-17 15:46:17')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:17', 5, 38, 5, 33, '2013-02-17 15:46:17')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 15:46:17', 5, 39, 5, 33, '2013-02-17 15:46:17')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 15:46:17', 5, 23, 5, 33, '2013-02-17 15:46:17')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 30 AND `translations`.`class_name` = 'Question'
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_codes/show.txt.erb (0.1ms)
Completed 200 OK in 244ms (Views: 1.9ms | ActiveRecord: 53.8ms)


Started GET "/sms_codes/show/9" for 127.0.0.1 at 2013-02-17 16:46:23 +0100
Processing by SmsCodesController#show as HTML
  Parameters: {"form_id"=>"9"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-17 15:46:23', `updated_at` = '2013-02-17 15:46:23' WHERE `users`.`id` = 1[0m
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.6ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM `sms_codes` WHERE `sms_codes`.`form_id` = 9[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 9 ORDER BY rank
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.8ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.6ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES (NULL, '2013-02-17 15:46:23', 9, NULL, 1, 49, '2013-02-17 15:46:23')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.8ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 31 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 8 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (8)
  [1m[36mOption Load (0.5ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 28, 29, 30, 31)[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 28, 29, 30, 31)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 28, 29, 30, 31)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:23', 9, 28, 2, 50, '2013-02-17 15:46:23')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:23', 9, 29, 2, 50, '2013-02-17 15:46:23')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:23', 9, 30, 2, 50, '2013-02-17 15:46:23')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 15:46:23', 9, 31, 2, 50, '2013-02-17 15:46:23')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 15:46:23', 9, 23, 2, 50, '2013-02-17 15:46:23')[0m
  [1m[35m (0.2ms)[0m  COMMIT
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 32 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 6 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (6)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (19, 20, 21, 22, 23)
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (19, 20, 21, 22, 23)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (19, 20, 21, 22, 23)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-17 15:46:23', 9, 19, 3, 51, '2013-02-17 15:46:23')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-17 15:46:23', 9, 20, 3, 51, '2013-02-17 15:46:23')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-17 15:46:23', 9, 21, 3, 51, '2013-02-17 15:46:23')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-17 15:46:23', 9, 22, 3, 51, '2013-02-17 15:46:23')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-17 15:46:23', 9, 23, 3, 51, '2013-02-17 15:46:23')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 26 AND `translations`.`class_name` = 'Question'
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_codes/show.txt.erb (0.1ms)
Completed 200 OK in 120ms (Views: 2.2ms | ActiveRecord: 28.2ms)


Started GET "/settings" for 127.0.0.1 at 2013-02-17 21:24:05 +0100
Processing by SettingsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
Redirected to http://0.0.0.0:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 58ms (ActiveRecord: 4.6ms)


Started GET "/login" for 127.0.0.1 at 2013-02-17 21:24:05 +0100
Processing by UserSessionsController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.8ms)
  Rendered user_sessions/new.html.erb within layouts/application (6.8ms)
Completed 200 OK in 232ms (Views: 226.5ms | ActiveRecord: 0.5ms)


Started POST "/user_session" for 127.0.0.1 at 2013-02-17 21:24:11 +0100
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"LX45QZZ6mfPV+wKtylMGcAGVFuZqPHCkgj6LmZ3AtsY=", "user_session"=>{"login"=>"super", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (LOWER(`users`.login) = 'super') ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `login_count` = 29, `last_request_at` = '2013-02-17 20:24:11', `updated_at` = '2013-02-17 20:24:11' WHERE `users`.`id` = 1
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `perishable_token` = 'HteLZukxzkQWhzYl4P9', `updated_at` = '2013-02-17 20:24:11' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `assignments` WHERE `assignments`.`user_id` = 1 AND `assignments`.`active` = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 1
  [1m[36m (0.3ms)[0m  [1mUPDATE `users` SET `current_mission_id` = NULL, `updated_at` = '2013-02-17 20:24:11' WHERE `users`.`id` = 1[0m
  [1m[35m (0.5ms)[0m  COMMIT
Redirected to http://0.0.0.0:3000/settings
Completed 302 Found in 212ms (ActiveRecord: 9.2ms)


Started GET "/settings" for 127.0.0.1 at 2013-02-17 21:24:11 +0100
Processing by SettingsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (1.0ms)
  Rendered permissions/no.html.erb within layouts/application (2.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Filter chain halted as :authorize rendered or redirected
Completed 401 Unauthorized in 34ms (Views: 24.7ms | ActiveRecord: 3.1ms)


Started PUT "/users/1" for 127.0.0.1 at 2013-02-17 21:24:17 +0100
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/3IohLtb0FZ89yX9DbKgnNeuztjyPV/RqLRhxpe0evw=", "user"=>{"current_mission_id"=>"1"}, "changing_current_mission"=>"1", "id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.9ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 20:24:17', `updated_at` = '2013-02-17 20:24:17' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `current_mission_id` = 1, `updated_at` = '2013-02-17 20:24:17' WHERE `users`.`id` = 1[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
Redirected to http://0.0.0.0:3000/settings
Completed 302 Found in 45ms (ActiveRecord: 10.2ms)


Started GET "/settings" for 127.0.0.1 at 2013-02-17 21:24:17 +0100
Processing by SettingsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSetting Load (0.6ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.6ms)
  Rendered settings/_tableau_sql.html.erb (0.1ms)
  Rendered settings/index.html.erb within layouts/application (49.5ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 72ms (Views: 61.6ms | ActiveRecord: 2.9ms)


Started PUT "/settings/1" for 127.0.0.1 at 2013-02-17 21:27:21 +0100
Processing by SettingsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/3IohLtb0FZ89yX9DbKgnNeuztjyPV/RqLRhxpe0evw=", "setting"=>{"mission_id"=>"1", "timezone"=>"UTC", "languages"=>"eng", "outgoing_sms_adapter"=>"ISMS", "outgoing_sms_username"=>"admin", "outgoing_sms_password1"=>"[FILTERED]", "outgoing_sms_password2"=>"[FILTERED]", "outgoing_sms_language"=>"frn", "outgoing_sms_extra"=>"192.168.1.142:81"}, "commit"=>"Submit", "id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-17 20:27:21', `updated_at` = '2013-02-17 20:27:21' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSetting Load (0.4ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `settings` SET `outgoing_sms_adapter` = 'ISMS', `outgoing_sms_username` = 'admin', `outgoing_sms_language` = 'frn', `outgoing_sms_extra` = '192.168.1.142:81', `outgoing_sms_password` = 'admin', `updated_at` = '2013-02-17 20:27:22' WHERE `settings`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
Redirected to http://0.0.0.0:3000/settings
Completed 302 Found in 66ms (ActiveRecord: 3.8ms)


Started GET "/settings" for 127.0.0.1 at 2013-02-17 21:27:22 +0100
Processing by SettingsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-17 20:27:22', `updated_at` = '2013-02-17 20:27:22' WHERE `users`.`id` = 1[0m
  [1m[35m (1.7ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.2ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.7ms)
  Rendered settings/_tableau_sql.html.erb (0.2ms)
  Rendered settings/index.html.erb within layouts/application (16.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 44ms (Views: 30.2ms | ActiveRecord: 5.1ms)


Started PUT "/settings/1" for 127.0.0.1 at 2013-02-17 22:14:06 +0100
Processing by SettingsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/3IohLtb0FZ89yX9DbKgnNeuztjyPV/RqLRhxpe0evw=", "setting"=>{"mission_id"=>"1", "timezone"=>"UTC", "languages"=>"eng", "outgoing_sms_adapter"=>"ISMS", "outgoing_sms_username"=>"admin", "outgoing_sms_password1"=>"[FILTERED]", "outgoing_sms_password2"=>"[FILTERED]", "outgoing_sms_language"=>"fra", "outgoing_sms_extra"=>"192.168.1.142:81"}, "commit"=>"Submit", "id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-17 21:14:06', `updated_at` = '2013-02-17 21:14:06' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `settings` SET `outgoing_sms_language` = 'fra', `updated_at` = '2013-02-17 21:14:06' WHERE `settings`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
Redirected to http://0.0.0.0:3000/settings
Completed 302 Found in 240ms (ActiveRecord: 14.6ms)


Started GET "/settings" for 127.0.0.1 at 2013-02-17 22:14:06 +0100
Processing by SettingsController#index as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSetting Load (0.5ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (0.8ms)
  Rendered settings/_tableau_sql.html.erb (0.2ms)
  Rendered settings/index.html.erb within layouts/application (13.2ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 179ms (Views: 166.3ms | ActiveRecord: 3.2ms)
Connecting to database specified by database.yml


Started GET "/sms_responses/incoming?provider=isms&lng=fra" for 127.0.0.1 at 2013-02-23 15:14:09 +0100

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/controllers/sms_responses_controller.rb:31: syntax error, unexpected keyword_else
/Users/damienbrockmann/Desktop/elmo/app/controllers/sms_responses_controller.rb:33: syntax error, unexpected keyword_end
/Users/damienbrockmann/Desktop/elmo/app/controllers/sms_responses_controller.rb:37: syntax error, unexpected keyword_end
/Users/damienbrockmann/Desktop/elmo/app/controllers/sms_responses_controller.rb:46: syntax error, unexpected ')', expecting keyword_end
/Users/damienbrockmann/Desktop/elmo/app/controllers/sms_responses_controller.rb:54: syntax error, unexpected $end, expecting keyword_end):
  activesupport (3.2.11) lib/active_support/dependencies.rb:469:in `load'
  activesupport (3.2.11) lib/active_support/dependencies.rb:469:in `block in load_file'
  activesupport (3.2.11) lib/active_support/dependencies.rb:639:in `new_constants_in'
  activesupport (3.2.11) lib/active_support/dependencies.rb:468:in `load_file'
  activesupport (3.2.11) lib/active_support/dependencies.rb:353:in `require_or_load'
  activesupport (3.2.11) lib/active_support/dependencies.rb:502:in `load_missing_constant'
  activesupport (3.2.11) lib/active_support/dependencies.rb:192:in `block in const_missing'
  activesupport (3.2.11) lib/active_support/dependencies.rb:190:in `each'
  activesupport (3.2.11) lib/active_support/dependencies.rb:190:in `const_missing'
  activesupport (3.2.11) lib/active_support/inflector/methods.rb:230:in `block in constantize'
  activesupport (3.2.11) lib/active_support/inflector/methods.rb:229:in `each'
  activesupport (3.2.11) lib/active_support/inflector/methods.rb:229:in `constantize'
  activesupport (3.2.11) lib/active_support/dependencies.rb:554:in `get'
  actionpack (3.2.11) lib/action_dispatch/routing/route_set.rb:69:in `controller_reference'
  actionpack (3.2.11) lib/action_dispatch/routing/route_set.rb:54:in `controller'
  actionpack (3.2.11) lib/action_dispatch/routing/route_set.rb:32:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.11) lib/action_dispatch/routing/route_set.rb:601:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.4) lib/rack/etag.rb:23:in `call'
  rack (1.4.4) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/flash.rb:242:in `call'
  rack (1.4.4) lib/rack/session/abstract/id.rb:210:in `context'
  rack (1.4.4) lib/rack/session/abstract/id.rb:205:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/cookies.rb:341:in `call'
  activerecord (3.2.11) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.11) lib/active_record/connection_adapters/abstract/connection_pool.rb:479:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.11) lib/active_support/callbacks.rb:405:in `_run__282497364850705285__call__2573215163778655052__callbacks'
  activesupport (3.2.11) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.11) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.11) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.11) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.11) lib/rails/rack/logger.rb:32:in `call_app'
  railties (3.2.11) lib/rails/rack/logger.rb:16:in `block in call'
  activesupport (3.2.11) lib/active_support/tagged_logging.rb:22:in `tagged'
  railties (3.2.11) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.4) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.4) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.11) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.4) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.11) lib/rails/engine.rb:479:in `call'
  railties (3.2.11) lib/rails/application.rb:223:in `call'
  rack (1.4.4) lib/rack/content_length.rb:14:in `call'
  railties (3.2.11) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.4) lib/rack/handler/webrick.rb:59:in `service'
  /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.1ms)


Started GET "/sms_responses/incoming?provider=isms&lng=fra" for 127.0.0.1 at 2013-02-23 15:15:01 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"isms", "lng"=>"fra"}
Completed 500 Internal Server Error in 397ms

ArgumentError (syntax error on line 19, col 3: `   success: "Succes! Votre message a Ã©tÃ© reÃ§u: <%{message}>"'):
  app/models/user.rb:18:in `block in <class:User>'
  app/models/user.rb:15:in `<class:User>'
  app/models/user.rb:2:in `<top (required)>'
  app/controllers/application_controller.rb:152:in `get_user_and_mission'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.8ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.3ms)


Started GET "/" for 127.0.0.1 at 2013-02-23 15:19:49 +0100
Processing by WelcomeController#index as HTML
  [1m[36mUser Load (4.2ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
Redirected to http://0.0.0.0:3000/login
Completed 302 Found in 101ms (ActiveRecord: 10.4ms)


Started GET "/login" for 127.0.0.1 at 2013-02-23 15:19:49 +0100
Processing by UserSessionsController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  Rendered layouts/_object_errors.html.erb (0.6ms)
  Rendered layouts/_flash.html.erb (2.4ms)
  Rendered user_sessions/new.html.erb within layouts/application (17.1ms)
Completed 200 OK in 368ms (Views: 363.3ms | ActiveRecord: 0.5ms)


Started POST "/user_session" for 127.0.0.1 at 2013-02-23 15:19:55 +0100
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/3IohLtb0FZ89yX9DbKgnNeuztjyPV/RqLRhxpe0evw=", "user_session"=>{"login"=>"super", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mUser Load (3.5ms)[0m  SELECT `users`.* FROM `users` WHERE (LOWER(`users`.login) = 'super') ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (1.1ms)[0m  UPDATE `users` SET `login_count` = 30, `last_request_at` = '2013-02-23 14:19:55', `updated_at` = '2013-02-23 14:19:55' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  UPDATE `users` SET `perishable_token` = 'Ih1vtP3M4vGCYjYoqSJs', `updated_at` = '2013-02-23 14:19:55' WHERE `users`.`id` = 1
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (3.3ms)[0m  SELECT COUNT(*) FROM `assignments` WHERE `assignments`.`user_id` = 1 AND `assignments`.`active` = 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mAssignment Load (0.6ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 1
  [1m[36m (1.9ms)[0m  [1mUPDATE `users` SET `current_mission_id` = NULL, `updated_at` = '2013-02-23 14:19:55' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
Redirected to http://0.0.0.0:3000/settings
Completed 302 Found in 230ms (ActiveRecord: 20.5ms)


Started GET "/settings" for 127.0.0.1 at 2013-02-23 15:19:55 +0100
Processing by SettingsController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.8ms)
  Rendered permissions/no.html.erb within layouts/application (2.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Filter chain halted as :authorize rendered or redirected
Completed 401 Unauthorized in 77ms (Views: 24.9ms | ActiveRecord: 3.9ms)


Started PUT "/users/1" for 127.0.0.1 at 2013-02-23 15:20:01 +0100
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"7BObjb9Qp/07Ki6TdKBZtSsWPT++HxG4O22hpMsxqTk=", "user"=>{"current_mission_id"=>"1"}, "changing_current_mission"=>"1", "id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (1.2ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 14:20:01', `updated_at` = '2013-02-23 14:20:01' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (8.9ms)[0m  [1mUPDATE `users` SET `current_mission_id` = 1, `updated_at` = '2013-02-23 14:20:01' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSetting Load (1.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
Redirected to http://0.0.0.0:3000/settings
Completed 302 Found in 72ms (ActiveRecord: 18.9ms)


Started GET "/settings" for 127.0.0.1 at 2013-02-23 15:20:01 +0100
Processing by SettingsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSetting Load (0.5ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (0.8ms)
  Rendered settings/_tableau_sql.html.erb (0.9ms)
  Rendered settings/index.html.erb within layouts/application (506.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.6ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 543ms (Views: 527.2ms | ActiveRecord: 4.7ms)


Started GET "/forms" for 127.0.0.1 at 2013-02-23 15:20:06 +0100
Processing by FormsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (1.6ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 14:20:06', `updated_at` = '2013-02-23 14:20:06' WHERE `users`.`id` = 1[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (2.6ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.7ms)
  Rendered layouts/_index_table.html.erb (22.9ms)
  Rendered forms/index.html.erb within layouts/application (27.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 160ms (Views: 44.7ms | ActiveRecord: 14.2ms)


Started GET "/forms/3" for 127.0.0.1 at 2013-02-23 15:20:15 +0100
Processing by FormsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (2.6ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 14:20:15', `updated_at` = '2013-02-23 14:20:15' WHERE `users`.`id` = 1[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mForm Load (1.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 3 LIMIT 1
  [1m[36mForm Load (11.9ms)[0m  [1mSELECT DISTINCT `forms`.id FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` LEFT OUTER JOIN `questionings` ON `questionings`.`form_id` = `forms`.`id` LEFT OUTER JOIN `forms` `forms_questionings` ON `forms_questionings`.`id` = `questionings`.`form_id` LEFT OUTER JOIN `conditions` ON `conditions`.`questioning_id` = `questionings`.`id` LEFT OUTER JOIN `questions` ON `questions`.`id` = `questionings`.`question_id` LEFT OUTER JOIN `question_types` ON `question_types`.`id` = `questions`.`question_type_id` LEFT OUTER JOIN `translations` ON `translations`.`obj_id` = `questions`.`id` AND `translations`.`class_name` = 'Question' LEFT OUTER JOIN `option_sets` ON `option_sets`.`id` = `questions`.`option_set_id` LEFT OUTER JOIN `option_settings` ON `option_settings`.`option_set_id` = `option_sets`.`id` LEFT OUTER JOIN `options` ON `options`.`id` = `option_settings`.`option_id` LEFT OUTER JOIN `translations` `translations_options` ON `translations_options`.`obj_id` = `options`.`id` AND `translations_options`.`class_name` = 'Option' WHERE `forms`.`id` = 3 ORDER BY questionings.rank LIMIT 1[0m
  [1m[35mSQL (22.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4, `questionings`.`id` AS t2_r0, `questionings`.`question_id` AS t2_r1, `questionings`.`form_id` AS t2_r2, `questionings`.`rank` AS t2_r3, `questionings`.`required` AS t2_r4, `questionings`.`hidden` AS t2_r5, `questionings`.`created_at` AS t2_r6, `questionings`.`updated_at` AS t2_r7, `forms_questionings`.`id` AS t3_r0, `forms_questionings`.`name` AS t3_r1, `forms_questionings`.`created_at` AS t3_r2, `forms_questionings`.`updated_at` AS t3_r3, `forms_questionings`.`published` AS t3_r4, `forms_questionings`.`form_type_id` AS t3_r5, `forms_questionings`.`downloads` AS t3_r6, `forms_questionings`.`questionings_count` AS t3_r7, `forms_questionings`.`responses_count` AS t3_r8, `forms_questionings`.`mission_id` AS t3_r9, `conditions`.`id` AS t4_r0, `conditions`.`questioning_id` AS t4_r1, `conditions`.`ref_qing_id` AS t4_r2, `conditions`.`op` AS t4_r3, `conditions`.`value` AS t4_r4, `conditions`.`created_at` AS t4_r5, `conditions`.`updated_at` AS t4_r6, `conditions`.`option_id` AS t4_r7, `questions`.`id` AS t5_r0, `questions`.`code` AS t5_r1, `questions`.`option_set_id` AS t5_r2, `questions`.`created_at` AS t5_r3, `questions`.`updated_at` AS t5_r4, `questions`.`question_type_id` AS t5_r5, `questions`.`minimum` AS t5_r6, `questions`.`maximum` AS t5_r7, `questions`.`maxstrictly` AS t5_r8, `questions`.`minstrictly` AS t5_r9, `questions`.`mission_id` AS t5_r10, `question_types`.`id` AS t6_r0, `question_types`.`name` AS t6_r1, `question_types`.`created_at` AS t6_r2, `question_types`.`updated_at` AS t6_r3, `question_types`.`odk_name` AS t6_r4, `question_types`.`odk_tag` AS t6_r5, `question_types`.`long_name` AS t6_r6, `translations`.`id` AS t7_r0, `translations`.`str` AS t7_r1, `translations`.`created_at` AS t7_r2, `translations`.`updated_at` AS t7_r3, `translations`.`fld` AS t7_r4, `translations`.`class_name` AS t7_r5, `translations`.`obj_id` AS t7_r6, `translations`.`language` AS t7_r7, `option_sets`.`id` AS t8_r0, `option_sets`.`name` AS t8_r1, `option_sets`.`created_at` AS t8_r2, `option_sets`.`updated_at` AS t8_r3, `option_sets`.`ordering` AS t8_r4, `option_sets`.`mission_id` AS t8_r5, `options`.`id` AS t9_r0, `options`.`value` AS t9_r1, `options`.`created_at` AS t9_r2, `options`.`updated_at` AS t9_r3, `options`.`mission_id` AS t9_r4, `translations_options`.`id` AS t10_r0, `translations_options`.`str` AS t10_r1, `translations_options`.`created_at` AS t10_r2, `translations_options`.`updated_at` AS t10_r3, `translations_options`.`fld` AS t10_r4, `translations_options`.`class_name` AS t10_r5, `translations_options`.`obj_id` AS t10_r6, `translations_options`.`language` AS t10_r7 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` LEFT OUTER JOIN `questionings` ON `questionings`.`form_id` = `forms`.`id` LEFT OUTER JOIN `forms` `forms_questionings` ON `forms_questionings`.`id` = `questionings`.`form_id` LEFT OUTER JOIN `conditions` ON `conditions`.`questioning_id` = `questionings`.`id` LEFT OUTER JOIN `questions` ON `questions`.`id` = `questionings`.`question_id` LEFT OUTER JOIN `question_types` ON `question_types`.`id` = `questions`.`question_type_id` LEFT OUTER JOIN `translations` ON `translations`.`obj_id` = `questions`.`id` AND `translations`.`class_name` = 'Question' LEFT OUTER JOIN `option_sets` ON `option_sets`.`id` = `questions`.`option_set_id` LEFT OUTER JOIN `option_settings` ON `option_settings`.`option_set_id` = `option_sets`.`id` LEFT OUTER JOIN `options` ON `options`.`id` = `option_settings`.`option_id` LEFT OUTER JOIN `translations` `translations_options` ON `translations_options`.`obj_id` = `options`.`id` AND `translations_options`.`class_name` = 'Option' WHERE `forms`.`id` = 3 AND `forms`.`id` IN (3) ORDER BY questionings.rank
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (0.7ms)
  [1m[36mFormType Load (0.5ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`mission_id` = 1 AND (1) ORDER BY name[0m
  Rendered layouts/_index_table.html.erb (11.3ms)
  Rendered forms/form.html.erb within layouts/application (18.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 383ms (Views: 30.9ms | ActiveRecord: 62.4ms)


Started GET "/forms/6" for 127.0.0.1 at 2013-02-23 15:20:52 +0100
Processing by FormsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (3.2ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 14:20:52', `updated_at` = '2013-02-23 14:20:52' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 6 LIMIT 1[0m
  [1m[35mForm Load (2.3ms)[0m  SELECT DISTINCT `forms`.id FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` LEFT OUTER JOIN `questionings` ON `questionings`.`form_id` = `forms`.`id` LEFT OUTER JOIN `forms` `forms_questionings` ON `forms_questionings`.`id` = `questionings`.`form_id` LEFT OUTER JOIN `conditions` ON `conditions`.`questioning_id` = `questionings`.`id` LEFT OUTER JOIN `questions` ON `questions`.`id` = `questionings`.`question_id` LEFT OUTER JOIN `question_types` ON `question_types`.`id` = `questions`.`question_type_id` LEFT OUTER JOIN `translations` ON `translations`.`obj_id` = `questions`.`id` AND `translations`.`class_name` = 'Question' LEFT OUTER JOIN `option_sets` ON `option_sets`.`id` = `questions`.`option_set_id` LEFT OUTER JOIN `option_settings` ON `option_settings`.`option_set_id` = `option_sets`.`id` LEFT OUTER JOIN `options` ON `options`.`id` = `option_settings`.`option_id` LEFT OUTER JOIN `translations` `translations_options` ON `translations_options`.`obj_id` = `options`.`id` AND `translations_options`.`class_name` = 'Option' WHERE `forms`.`id` = 6 ORDER BY questionings.rank LIMIT 1
  [1m[36mSQL (6.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4, `questionings`.`id` AS t2_r0, `questionings`.`question_id` AS t2_r1, `questionings`.`form_id` AS t2_r2, `questionings`.`rank` AS t2_r3, `questionings`.`required` AS t2_r4, `questionings`.`hidden` AS t2_r5, `questionings`.`created_at` AS t2_r6, `questionings`.`updated_at` AS t2_r7, `forms_questionings`.`id` AS t3_r0, `forms_questionings`.`name` AS t3_r1, `forms_questionings`.`created_at` AS t3_r2, `forms_questionings`.`updated_at` AS t3_r3, `forms_questionings`.`published` AS t3_r4, `forms_questionings`.`form_type_id` AS t3_r5, `forms_questionings`.`downloads` AS t3_r6, `forms_questionings`.`questionings_count` AS t3_r7, `forms_questionings`.`responses_count` AS t3_r8, `forms_questionings`.`mission_id` AS t3_r9, `conditions`.`id` AS t4_r0, `conditions`.`questioning_id` AS t4_r1, `conditions`.`ref_qing_id` AS t4_r2, `conditions`.`op` AS t4_r3, `conditions`.`value` AS t4_r4, `conditions`.`created_at` AS t4_r5, `conditions`.`updated_at` AS t4_r6, `conditions`.`option_id` AS t4_r7, `questions`.`id` AS t5_r0, `questions`.`code` AS t5_r1, `questions`.`option_set_id` AS t5_r2, `questions`.`created_at` AS t5_r3, `questions`.`updated_at` AS t5_r4, `questions`.`question_type_id` AS t5_r5, `questions`.`minimum` AS t5_r6, `questions`.`maximum` AS t5_r7, `questions`.`maxstrictly` AS t5_r8, `questions`.`minstrictly` AS t5_r9, `questions`.`mission_id` AS t5_r10, `question_types`.`id` AS t6_r0, `question_types`.`name` AS t6_r1, `question_types`.`created_at` AS t6_r2, `question_types`.`updated_at` AS t6_r3, `question_types`.`odk_name` AS t6_r4, `question_types`.`odk_tag` AS t6_r5, `question_types`.`long_name` AS t6_r6, `translations`.`id` AS t7_r0, `translations`.`str` AS t7_r1, `translations`.`created_at` AS t7_r2, `translations`.`updated_at` AS t7_r3, `translations`.`fld` AS t7_r4, `translations`.`class_name` AS t7_r5, `translations`.`obj_id` AS t7_r6, `translations`.`language` AS t7_r7, `option_sets`.`id` AS t8_r0, `option_sets`.`name` AS t8_r1, `option_sets`.`created_at` AS t8_r2, `option_sets`.`updated_at` AS t8_r3, `option_sets`.`ordering` AS t8_r4, `option_sets`.`mission_id` AS t8_r5, `options`.`id` AS t9_r0, `options`.`value` AS t9_r1, `options`.`created_at` AS t9_r2, `options`.`updated_at` AS t9_r3, `options`.`mission_id` AS t9_r4, `translations_options`.`id` AS t10_r0, `translations_options`.`str` AS t10_r1, `translations_options`.`created_at` AS t10_r2, `translations_options`.`updated_at` AS t10_r3, `translations_options`.`fld` AS t10_r4, `translations_options`.`class_name` AS t10_r5, `translations_options`.`obj_id` AS t10_r6, `translations_options`.`language` AS t10_r7 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` LEFT OUTER JOIN `questionings` ON `questionings`.`form_id` = `forms`.`id` LEFT OUTER JOIN `forms` `forms_questionings` ON `forms_questionings`.`id` = `questionings`.`form_id` LEFT OUTER JOIN `conditions` ON `conditions`.`questioning_id` = `questionings`.`id` LEFT OUTER JOIN `questions` ON `questions`.`id` = `questionings`.`question_id` LEFT OUTER JOIN `question_types` ON `question_types`.`id` = `questions`.`question_type_id` LEFT OUTER JOIN `translations` ON `translations`.`obj_id` = `questions`.`id` AND `translations`.`class_name` = 'Question' LEFT OUTER JOIN `option_sets` ON `option_sets`.`id` = `questions`.`option_set_id` LEFT OUTER JOIN `option_settings` ON `option_settings`.`option_set_id` = `option_sets`.`id` LEFT OUTER JOIN `options` ON `options`.`id` = `option_settings`.`option_id` LEFT OUTER JOIN `translations` `translations_options` ON `translations_options`.`obj_id` = `options`.`id` AND `translations_options`.`class_name` = 'Option' WHERE `forms`.`id` = 6 AND `forms`.`id` IN (6) ORDER BY questionings.rank[0m
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (1.1ms)
  [1m[35mFormType Load (0.5ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`mission_id` = 1 AND (1) ORDER BY name
  Rendered layouts/_index_table.html.erb (2.8ms)
  Rendered forms/form.html.erb within layouts/application (13.9ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 112ms (Views: 69.0ms | ActiveRecord: 16.0ms)


Started GET "/forms/7" for 127.0.0.1 at 2013-02-23 15:21:05 +0100
Processing by FormsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (1.6ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 14:21:05', `updated_at` = '2013-02-23 14:21:05' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.9ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mForm Load (0.8ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mForm Load (1.7ms)[0m  [1mSELECT DISTINCT `forms`.id FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` LEFT OUTER JOIN `questionings` ON `questionings`.`form_id` = `forms`.`id` LEFT OUTER JOIN `forms` `forms_questionings` ON `forms_questionings`.`id` = `questionings`.`form_id` LEFT OUTER JOIN `conditions` ON `conditions`.`questioning_id` = `questionings`.`id` LEFT OUTER JOIN `questions` ON `questions`.`id` = `questionings`.`question_id` LEFT OUTER JOIN `question_types` ON `question_types`.`id` = `questions`.`question_type_id` LEFT OUTER JOIN `translations` ON `translations`.`obj_id` = `questions`.`id` AND `translations`.`class_name` = 'Question' LEFT OUTER JOIN `option_sets` ON `option_sets`.`id` = `questions`.`option_set_id` LEFT OUTER JOIN `option_settings` ON `option_settings`.`option_set_id` = `option_sets`.`id` LEFT OUTER JOIN `options` ON `options`.`id` = `option_settings`.`option_id` LEFT OUTER JOIN `translations` `translations_options` ON `translations_options`.`obj_id` = `options`.`id` AND `translations_options`.`class_name` = 'Option' WHERE `forms`.`id` = 7 ORDER BY questionings.rank LIMIT 1[0m
  [1m[35mSQL (6.1ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4, `questionings`.`id` AS t2_r0, `questionings`.`question_id` AS t2_r1, `questionings`.`form_id` AS t2_r2, `questionings`.`rank` AS t2_r3, `questionings`.`required` AS t2_r4, `questionings`.`hidden` AS t2_r5, `questionings`.`created_at` AS t2_r6, `questionings`.`updated_at` AS t2_r7, `forms_questionings`.`id` AS t3_r0, `forms_questionings`.`name` AS t3_r1, `forms_questionings`.`created_at` AS t3_r2, `forms_questionings`.`updated_at` AS t3_r3, `forms_questionings`.`published` AS t3_r4, `forms_questionings`.`form_type_id` AS t3_r5, `forms_questionings`.`downloads` AS t3_r6, `forms_questionings`.`questionings_count` AS t3_r7, `forms_questionings`.`responses_count` AS t3_r8, `forms_questionings`.`mission_id` AS t3_r9, `conditions`.`id` AS t4_r0, `conditions`.`questioning_id` AS t4_r1, `conditions`.`ref_qing_id` AS t4_r2, `conditions`.`op` AS t4_r3, `conditions`.`value` AS t4_r4, `conditions`.`created_at` AS t4_r5, `conditions`.`updated_at` AS t4_r6, `conditions`.`option_id` AS t4_r7, `questions`.`id` AS t5_r0, `questions`.`code` AS t5_r1, `questions`.`option_set_id` AS t5_r2, `questions`.`created_at` AS t5_r3, `questions`.`updated_at` AS t5_r4, `questions`.`question_type_id` AS t5_r5, `questions`.`minimum` AS t5_r6, `questions`.`maximum` AS t5_r7, `questions`.`maxstrictly` AS t5_r8, `questions`.`minstrictly` AS t5_r9, `questions`.`mission_id` AS t5_r10, `question_types`.`id` AS t6_r0, `question_types`.`name` AS t6_r1, `question_types`.`created_at` AS t6_r2, `question_types`.`updated_at` AS t6_r3, `question_types`.`odk_name` AS t6_r4, `question_types`.`odk_tag` AS t6_r5, `question_types`.`long_name` AS t6_r6, `translations`.`id` AS t7_r0, `translations`.`str` AS t7_r1, `translations`.`created_at` AS t7_r2, `translations`.`updated_at` AS t7_r3, `translations`.`fld` AS t7_r4, `translations`.`class_name` AS t7_r5, `translations`.`obj_id` AS t7_r6, `translations`.`language` AS t7_r7, `option_sets`.`id` AS t8_r0, `option_sets`.`name` AS t8_r1, `option_sets`.`created_at` AS t8_r2, `option_sets`.`updated_at` AS t8_r3, `option_sets`.`ordering` AS t8_r4, `option_sets`.`mission_id` AS t8_r5, `options`.`id` AS t9_r0, `options`.`value` AS t9_r1, `options`.`created_at` AS t9_r2, `options`.`updated_at` AS t9_r3, `options`.`mission_id` AS t9_r4, `translations_options`.`id` AS t10_r0, `translations_options`.`str` AS t10_r1, `translations_options`.`created_at` AS t10_r2, `translations_options`.`updated_at` AS t10_r3, `translations_options`.`fld` AS t10_r4, `translations_options`.`class_name` AS t10_r5, `translations_options`.`obj_id` AS t10_r6, `translations_options`.`language` AS t10_r7 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` LEFT OUTER JOIN `questionings` ON `questionings`.`form_id` = `forms`.`id` LEFT OUTER JOIN `forms` `forms_questionings` ON `forms_questionings`.`id` = `questionings`.`form_id` LEFT OUTER JOIN `conditions` ON `conditions`.`questioning_id` = `questionings`.`id` LEFT OUTER JOIN `questions` ON `questions`.`id` = `questionings`.`question_id` LEFT OUTER JOIN `question_types` ON `question_types`.`id` = `questions`.`question_type_id` LEFT OUTER JOIN `translations` ON `translations`.`obj_id` = `questions`.`id` AND `translations`.`class_name` = 'Question' LEFT OUTER JOIN `option_sets` ON `option_sets`.`id` = `questions`.`option_set_id` LEFT OUTER JOIN `option_settings` ON `option_settings`.`option_set_id` = `option_sets`.`id` LEFT OUTER JOIN `options` ON `options`.`id` = `option_settings`.`option_id` LEFT OUTER JOIN `translations` `translations_options` ON `translations_options`.`obj_id` = `options`.`id` AND `translations_options`.`class_name` = 'Option' WHERE `forms`.`id` = 7 AND `forms`.`id` IN (7) ORDER BY questionings.rank
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (1.2ms)
  [1m[36mFormType Load (0.4ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`mission_id` = 1 AND (1) ORDER BY name[0m
  Rendered layouts/_index_table.html.erb (3.2ms)
  Rendered forms/form.html.erb within layouts/application (13.4ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 73ms (Views: 27.5ms | ActiveRecord: 14.2ms)


Started GET "/sms_codes/show/7" for 127.0.0.1 at 2013-02-23 15:21:19 +0100
Processing by SmsCodesController#show as HTML
  Parameters: {"form_id"=>"7"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (1.7ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 14:21:19', `updated_at` = '2013-02-23 14:21:19' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mForm Load (0.7ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mSQL (1.8ms)[0m  DELETE FROM `sms_codes` WHERE `sms_codes`.`form_id` = 7
Completed 500 Internal Server Error in 36ms

NameError (undefined local variable or method `form' for #<SmsCodesController:0x007fca7613a6f8>):
  app/controllers/sms_codes_controller.rb:18:in `make_code'
  app/controllers/sms_codes_controller.rb:5:in `show'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (35.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (45.9ms)


Started GET "/sms_codes/show/7" for 127.0.0.1 at 2013-02-23 15:22:25 +0100
Processing by SmsCodesController#show as HTML
  Parameters: {"form_id"=>"7"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (1.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 14:22:26', `updated_at` = '2013-02-23 14:22:26' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.6ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `sms_codes` WHERE `sms_codes`.`form_id` = 7[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (2.1ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.7ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-23 14:22:26', 7, 1, 1, 35, '2013-02-23 14:22:26')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-23 14:22:26', 7, 2, 1, 35, '2013-02-23 14:22:26')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-23 14:22:26', 7, 3, 1, 35, '2013-02-23 14:22:26')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 9 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.5ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.7ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)[0m
  [1m[35mOptionSetting Load (0.2ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.7ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (1.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-23 14:22:26', 7, 1, 2, 36, '2013-02-23 14:22:26')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-23 14:22:26', 7, 2, 2, 36, '2013-02-23 14:22:26')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-23 14:22:26', 7, 3, 2, 36, '2013-02-23 14:22:26')
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 10 AND `translations`.`class_name` = 'Question'
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_codes/show.txt.erb (0.8ms)
Completed 200 OK in 589ms (Views: 4.3ms | ActiveRecord: 55.2ms)


Started GET "/sms_responses/incoming?provider=isms&lng=fra" for 127.0.0.1 at 2013-02-23 15:23:11 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"isms", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (1.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 14:23:11', `updated_at` = '2013-02-23 14:23:11' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 179ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/controllers/sms_responses_controller.rb:11:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.8ms)


Started GET "/sms_responses/incoming?provider=isms&lng=fra" for 127.0.0.1 at 2013-02-23 15:27:25 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"isms", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 14:27:25', `updated_at` = '2013-02-23 14:27:25' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
Completed 500 Internal Server Error in 179ms

ArgumentError (Invalid adapter name):
  app/models/sms/adapters/factory.rb:10:in `create'
  app/controllers/sms_responses_controller.rb:13:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 15:27:42 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 14:27:42', `updated_at` = '2013-02-23 14:27:42' WHERE `users`.`id` = 1[0m
  [1m[35m (2.5ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.2ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 22ms

NameError (undefined local variable or method `adapter' for #<SmsResponsesController:0x007fca74452b30>):
  app/controllers/sms_responses_controller.rb:14:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.8ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 15:28:12 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 14:28:12', `updated_at` = '2013-02-23 14:28:12' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
Completed 500 Internal Server Error in 292ms

NoMethodError (undefined method `phone' for {:phone=>"+243816107022", :message=>"!7 1.a 2.b"}:Hash):
  app/controllers/sms_responses_controller.rb:20:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (13.6ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 15:30:46 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 14:30:46', `updated_at` = '2013-02-23 14:30:46' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.2ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
Completed 500 Internal Server Error in 183ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:29: syntax error, unexpected tIVAR, expecting ':'
				@outgoing_message = 'sms.success'
				                 ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:141: syntax error, unexpected '|', expecting ')'
					answers.each( |a|
					               ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:150: syntax error, unexpected '}', expecting keyword_end
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:155: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:158: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:177: syntax error, unexpected keyword_end, expecting '}'):
  app/controllers/sms_responses_controller.rb:28:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.3ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 15:34:40 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.0ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 14:34:40', `updated_at` = '2013-02-23 14:34:40' WHERE `users`.`id` = 1
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
Completed 500 Internal Server Error in 188ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:29: syntax error, unexpected tIVAR, expecting ':'
				@outgoing_message_vars = {:message=>@message}
				                      ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:141: syntax error, unexpected '|', expecting ')'
					answers.each( |a|
					               ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:150: syntax error, unexpected '}', expecting keyword_end
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:155: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:158: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:177: syntax error, unexpected keyword_end, expecting '}'):
  app/controllers/sms_responses_controller.rb:28:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.8ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 15:49:13 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (1.8ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 14:49:14', `updated_at` = '2013-02-23 14:49:14' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
Completed 500 Internal Server Error in 185ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:29: syntax error, unexpected tIVAR, expecting ':'
				@outgoing_message_vars = {:message=>@message}
				                      ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:141: syntax error, unexpected '|', expecting ')'
					answers.each( |a|
					               ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:150: syntax error, unexpected '}', expecting keyword_end
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:155: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:158: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:177: syntax error, unexpected keyword_end, expecting '}'):
  app/controllers/sms_responses_controller.rb:28:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.3ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 15:50:33 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (1.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 14:50:33', `updated_at` = '2013-02-23 14:50:33' WHERE `users`.`id` = 1
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (1.9ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
Completed 500 Internal Server Error in 238ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:29: syntax error, unexpected tIVAR, expecting ':'
				@outgoing_message_vars = {:message=>@message}
				                      ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:141: syntax error, unexpected '|', expecting ')'
					answers.each( |a|
					               ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:150: syntax error, unexpected '}', expecting keyword_end
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:155: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:158: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:177: syntax error, unexpected keyword_end, expecting '}'):
  app/controllers/sms_responses_controller.rb:28:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.3ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 15:53:22 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 14:53:22', `updated_at` = '2013-02-23 14:53:22' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
Completed 500 Internal Server Error in 275ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:142: syntax error, unexpected '|', expecting ')'
					answers.each( |a|
					               ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:151: syntax error, unexpected '}', expecting keyword_end
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:156: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:159: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:178: syntax error, unexpected keyword_end, expecting '}'):
  app/controllers/sms_responses_controller.rb:28:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.9ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 15:56:09 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 14:56:10', `updated_at` = '2013-02-23 14:56:10' WHERE `users`.`id` = 1
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
Completed 500 Internal Server Error in 226ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:142: syntax error, unexpected keyword_do_block
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:152: syntax error, unexpected keyword_else, expecting keyword_end
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:156: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:159: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:178: syntax error, unexpected keyword_end, expecting '}'):
  app/controllers/sms_responses_controller.rb:28:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 15:57:54 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (2.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 14:57:54', `updated_at` = '2013-02-23 14:57:54' WHERE `users`.`id` = 1[0m
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.5ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
Completed 500 Internal Server Error in 218ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:142: syntax error, unexpected keyword_do_block
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:153: syntax error, unexpected keyword_else, expecting keyword_end
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:157: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:160: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:179: syntax error, unexpected keyword_end, expecting '}'):
  app/controllers/sms_responses_controller.rb:28:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.9ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 15:58:49 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 14:58:49', `updated_at` = '2013-02-23 14:58:49' WHERE `users`.`id` = 1
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
Completed 500 Internal Server Error in 186ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:143: syntax error, unexpected keyword_do_block
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:154: syntax error, unexpected keyword_else, expecting keyword_end
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:158: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:161: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:180: syntax error, unexpected keyword_end, expecting '}'):
  app/controllers/sms_responses_controller.rb:28:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.0ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:01:14 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (1.2ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 15:01:14', `updated_at` = '2013-02-23 15:01:14' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
Completed 500 Internal Server Error in 193ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:144: syntax error, unexpected keyword_do_block
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:155: syntax error, unexpected keyword_else, expecting keyword_end
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:159: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:162: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:181: syntax error, unexpected keyword_end, expecting '}'):
  app/controllers/sms_responses_controller.rb:28:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:01:23 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (3.0ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 15:01:23', `updated_at` = '2013-02-23 15:01:23' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.8ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
Completed 500 Internal Server Error in 24ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:144: syntax error, unexpected keyword_do_block
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:155: syntax error, unexpected keyword_else, expecting keyword_end
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:159: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:162: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:181: syntax error, unexpected keyword_end, expecting '}'):
  app/controllers/sms_responses_controller.rb:28:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.9ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:03:24 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (1.9ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 15:03:25', `updated_at` = '2013-02-23 15:03:25' WHERE `users`.`id` = 1[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
Completed 500 Internal Server Error in 199ms

NoMethodError (undefined method `new' for #<SmsResponsesController:0x007fca741fc5c0>):
  app/controllers/sms_responses_controller.rb:28:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:04:56 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (1.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 15:04:56', `updated_at` = '2013-02-23 15:04:56' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.2ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
Completed 500 Internal Server Error in 282ms

NoMethodError (undefined method `delete' for nil:NilClass):
  app/models/sms_response.rb:79:in `message_decoded?'
  app/models/sms_response.rb:17:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:30:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.9ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:07:15 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 15:07:16', `updated_at` = '2013-02-23 15:07:16' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
[["!7 1.a 2.b", "7", "1.a 2.b", nil]]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
Completed 500 Internal Server Error in 278ms

NoMethodError (undefined method `delete' for nil:NilClass):
  app/models/sms_response.rb:80:in `message_decoded?'
  app/models/sms_response.rb:17:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:30:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:08:15 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 15:08:15', `updated_at` = '2013-02-23 15:08:15' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
[]
Completed 500 Internal Server Error in 246ms

NameError (undefined local variable or method `outgoing_messages' for #<Sms::Adapters::ISMSAdapter:0x007fca7423d3e0>):
  app/models/sms/adapters/isms_adapter.rb:59:in `get_reply'
  app/controllers/sms_responses_controller.rb:61:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (15.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:11:22 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.9ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 15:11:22', `updated_at` = '2013-02-23 15:11:22' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.2ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
[["!7 1.a 2.b", "7", "1.a 2.b", nil]]
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)
Completed 500 Internal Server Error in 254ms

NoMethodError (undefined method `delete' for nil:NilClass):
  app/models/sms_response.rb:81:in `message_decoded?'
  app/models/sms_response.rb:17:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:30:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:12:02 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 15:12:02', `updated_at` = '2013-02-23 15:12:02' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.2ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
["!7 1.a 2.b", "7", "1.a 2.b", nil]
"!7 1.a 2.b"
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)
Completed 500 Internal Server Error in 280ms

NoMethodError (undefined method `delete' for nil:NilClass):
  app/models/sms_response.rb:81:in `message_decoded?'
  app/models/sms_response.rb:17:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:30:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.6ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:12:36 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 15:12:36', `updated_at` = '2013-02-23 15:12:36' WHERE `users`.`id` = 1[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.2ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
nil
Completed 500 Internal Server Error in 240ms

NoMethodError (undefined method `[]' for nil:NilClass):
  app/models/sms_response.rb:63:in `message_decoded?'
  app/models/sms_response.rb:17:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:30:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:13:43 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 15:13:43', `updated_at` = '2013-02-23 15:13:43' WHERE `users`.`id` = 1
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
Completed 500 Internal Server Error in 279ms

NoMethodError (undefined method `delete' for nil:NilClass):
  app/models/sms_response.rb:80:in `message_decoded?'
  app/models/sms_response.rb:17:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:30:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:14:55 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (1.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 15:14:55', `updated_at` = '2013-02-23 15:14:55' WHERE `users`.`id` = 1
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
Completed 500 Internal Server Error in 253ms

NoMethodError (undefined method `delete' for nil:NilClass):
  app/models/sms_response.rb:80:in `message_decoded?'
  app/models/sms_response.rb:17:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:30:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:17:42 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 15:17:42', `updated_at` = '2013-02-23 15:17:42' WHERE `users`.`id` = 1
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.2ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
#<SmsResponse not initialized>
Completed 500 Internal Server Error in 270ms

NoMethodError (undefined method `delete' for nil:NilClass):
  app/models/sms_response.rb:81:in `message_decoded?'
  app/models/sms_response.rb:17:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:30:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.3ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:24:35 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 15:24:35', `updated_at` = '2013-02-23 15:24:35' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
initialized!
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
#<SmsResponse not initialized>
Completed 500 Internal Server Error in 286ms

NoMethodError (undefined method `delete' for nil:NilClass):
  app/models/sms_response.rb:82:in `message_decoded?'
  app/models/sms_response.rb:18:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:30:in `block in incoming'
  app/controllers/sms_responses_controller.rb:18:in `each'
  app/controllers/sms_responses_controller.rb:18:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:36:26 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 15:36:26', `updated_at` = '2013-02-23 15:36:26' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
Completed 500 Internal Server Error in 181ms

NameError (undefined local variable or method `test2' for #<Class:0x007fca7436fcb8>):
  app/models/sms_response.rb:18:in `test'
  app/controllers/sms_responses_controller.rb:3:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.6ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:36:38 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 15:36:38', `updated_at` = '2013-02-23 15:36:38' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.7ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 226ms

NoMethodError (undefined method `test2' for #<Class:0x007fca742c8148>):
  app/models/sms_response.rb:18:in `test'
  app/controllers/sms_responses_controller.rb:3:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.3ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:37:08 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (1.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 15:37:08', `updated_at` = '2013-02-23 15:37:08' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
Completed 500 Internal Server Error in 214ms

TypeError (can't convert Symbol into Integer):
  app/controllers/sms_responses_controller.rb:4:in `[]'
  app/controllers/sms_responses_controller.rb:4:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:38:24 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (2.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 15:38:24', `updated_at` = '2013-02-23 15:38:24' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
Completed 500 Internal Server Error in 223ms

ActionView::MissingTemplate (Missing template sms_responses/ok. with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder]}. Searched in:
  * "/Users/damienbrockmann/Desktop/elmo/app/views"
):
  app/controllers/sms_responses_controller.rb:4:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:46:31 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 15:46:32', `updated_at` = '2013-02-23 15:46:32' WHERE `users`.`id` = 1
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
Completed 500 Internal Server Error in 173ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:10: syntax error, unexpected tSTRING_BEG, expecting keyword_end
		@test ' hello'
		       ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:61: syntax error, unexpected tIVAR):
  app/controllers/sms_responses_controller.rb:3:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:46:49 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 15:46:49', `updated_at` = '2013-02-23 15:46:49' WHERE `users`.`id` = 1[0m
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.5ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 171ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:61: syntax error, unexpected tIVAR):
  app/controllers/sms_responses_controller.rb:3:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:47:16 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 15:47:16', `updated_at` = '2013-02-23 15:47:16' WHERE `users`.`id` = 1
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
Completed 500 Internal Server Error in 187ms

ActionView::MissingTemplate (Missing template sms_responses/ok. with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder]}. Searched in:
  * "/Users/damienbrockmann/Desktop/elmo/app/views"
):
  app/controllers/sms_responses_controller.rb:5:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:48:38 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 15:48:39', `updated_at` = '2013-02-23 15:48:39' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.2ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
{:output=>" hello", "format"=>"txt"}
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
Completed 500 Internal Server Error in 180ms

ActionView::MissingTemplate (Missing template sms_responses/ok. with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder]}. Searched in:
  * "/Users/damienbrockmann/Desktop/elmo/app/views"
):
  app/controllers/sms_responses_controller.rb:6:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:50:11 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 15:50:11', `updated_at` = '2013-02-23 15:50:11' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
{:output=>" hello", "format"=>"txt"}

sms_responses/ok..erb
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
Completed 500 Internal Server Error in 217ms

ActionView::MissingTemplate (Missing template sms_responses/ok. with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder]}. Searched in:
  * "/Users/damienbrockmann/Desktop/elmo/app/views"
):
  app/controllers/sms_responses_controller.rb:9:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.6ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:50:47 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 15:50:47', `updated_at` = '2013-02-23 15:50:47' WHERE `users`.`id` = 1[0m
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
{:output=>" hello", ":format"=>"txt"}

sms_responses/ok..erb
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
Completed 500 Internal Server Error in 215ms

ActionView::MissingTemplate (Missing template sms_responses/ok. with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder]}. Searched in:
  * "/Users/damienbrockmann/Desktop/elmo/app/views"
):
  app/controllers/sms_responses_controller.rb:9:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 16:52:40 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 15:52:40', `updated_at` = '2013-02-23 15:52:40' WHERE `users`.`id` = 1
  [1m[36m (2.8ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
{:output=>" hello", ":format"=>"txt"}

sms_responses/ok..erb
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
Completed 500 Internal Server Error in 14ms

ActionView::MissingTemplate (Missing template sms_responses/ok. with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder]}. Searched in:
  * "/Users/damienbrockmann/Desktop/elmo/app/views"
):
  app/controllers/sms_responses_controller.rb:9:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 17:03:29 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 16:03:29', `updated_at` = '2013-02-23 16:03:29' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
{:output=>" hello", ":format"=>"txt"}

sms_responses/ok..erb
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
Completed 500 Internal Server Error in 212ms

ActionView::MissingTemplate (Missing template sms_responses/ok. with {:locale=>[:en], :formats=>[:html], :handlers=>[:erb, :builder]}. Searched in:
  * "/Users/damienbrockmann/Desktop/elmo/app/views"
):
  app/controllers/sms_responses_controller.rb:9:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/missing_template.erb within rescues/layout (0.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 17:04:05 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 16:04:05', `updated_at` = '2013-02-23 16:04:05' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
{:output=>" hello", :format=>"txt"}
txt
sms_responses/ok.txt.erb
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.4ms)
Completed 200 OK in 173ms (Views: 2.9ms | ActiveRecord: 10.0ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 17:41:58 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 16:41:59', `updated_at` = '2013-02-23 16:41:59' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 174ms

NoMethodError (private method `test' called for #<Class:0x007fca7445ee58>):
  app/controllers/sms_responses_controller.rb:3:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 17:42:23 +0100

AbstractController::ActionNotFound (The action 'incoming' could not be found for SmsResponsesController):
  actionpack (3.2.11) lib/abstract_controller/base.rb:116:in `process'
  actionpack (3.2.11) lib/abstract_controller/rendering.rb:45:in `process'
  actionpack (3.2.11) lib/action_controller/metal.rb:203:in `dispatch'
  actionpack (3.2.11) lib/action_controller/metal/rack_delegation.rb:14:in `dispatch'
  actionpack (3.2.11) lib/action_controller/metal.rb:246:in `block in action'
  actionpack (3.2.11) lib/action_dispatch/routing/route_set.rb:73:in `call'
  actionpack (3.2.11) lib/action_dispatch/routing/route_set.rb:73:in `dispatch'
  actionpack (3.2.11) lib/action_dispatch/routing/route_set.rb:36:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.11) lib/action_dispatch/routing/route_set.rb:601:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.4) lib/rack/etag.rb:23:in `call'
  rack (1.4.4) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/flash.rb:242:in `call'
  rack (1.4.4) lib/rack/session/abstract/id.rb:210:in `context'
  rack (1.4.4) lib/rack/session/abstract/id.rb:205:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/cookies.rb:341:in `call'
  activerecord (3.2.11) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.11) lib/active_record/connection_adapters/abstract/connection_pool.rb:479:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.11) lib/active_support/callbacks.rb:405:in `_run__282497364850705285__call__2573215163778655052__callbacks'
  activesupport (3.2.11) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.11) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.11) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.11) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.11) lib/rails/rack/logger.rb:32:in `call_app'
  railties (3.2.11) lib/rails/rack/logger.rb:16:in `block in call'
  activesupport (3.2.11) lib/active_support/tagged_logging.rb:22:in `tagged'
  railties (3.2.11) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.4) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.4) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.11) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.4) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.11) lib/rails/engine.rb:479:in `call'
  railties (3.2.11) lib/rails/application.rb:223:in `call'
  rack (1.4.4) lib/rack/content_length.rb:14:in `call'
  railties (3.2.11) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.4) lib/rack/handler/webrick.rb:59:in `service'
  /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/unknown_action.erb within rescues/layout (0.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 17:42:39 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 16:42:39', `updated_at` = '2013-02-23 16:42:39' WHERE `users`.`id` = 1
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
Completed 500 Internal Server Error in 268ms

NoMethodError (undefined method `get_outgoing_message' for #<Class:0x007fca761d1508>):
  app/controllers/sms_responses_controller.rb:46:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.6ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 17:48:38 +0100

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/controllers/sms_responses_controller.rb:50: syntax error, unexpected ',', expecting ')'
				@adapter.add_outgoing_message (message, sms[:phone])
				                                       ^
/Users/damienbrockmann/Desktop/elmo/app/controllers/sms_responses_controller.rb:50: syntax error, unexpected ')', expecting keyword_end
/Users/damienbrockmann/Desktop/elmo/app/controllers/sms_responses_controller.rb:58: syntax error, unexpected $end, expecting keyword_end):
  activesupport (3.2.11) lib/active_support/dependencies.rb:469:in `load'
  activesupport (3.2.11) lib/active_support/dependencies.rb:469:in `block in load_file'
  activesupport (3.2.11) lib/active_support/dependencies.rb:639:in `new_constants_in'
  activesupport (3.2.11) lib/active_support/dependencies.rb:468:in `load_file'
  activesupport (3.2.11) lib/active_support/dependencies.rb:353:in `require_or_load'
  activesupport (3.2.11) lib/active_support/dependencies.rb:502:in `load_missing_constant'
  activesupport (3.2.11) lib/active_support/dependencies.rb:192:in `block in const_missing'
  activesupport (3.2.11) lib/active_support/dependencies.rb:190:in `each'
  activesupport (3.2.11) lib/active_support/dependencies.rb:190:in `const_missing'
  activesupport (3.2.11) lib/active_support/inflector/methods.rb:230:in `block in constantize'
  activesupport (3.2.11) lib/active_support/inflector/methods.rb:229:in `each'
  activesupport (3.2.11) lib/active_support/inflector/methods.rb:229:in `constantize'
  activesupport (3.2.11) lib/active_support/dependencies.rb:554:in `get'
  actionpack (3.2.11) lib/action_dispatch/routing/route_set.rb:69:in `controller_reference'
  actionpack (3.2.11) lib/action_dispatch/routing/route_set.rb:54:in `controller'
  actionpack (3.2.11) lib/action_dispatch/routing/route_set.rb:32:in `call'
  journey (1.0.4) lib/journey/router.rb:68:in `block in call'
  journey (1.0.4) lib/journey/router.rb:56:in `each'
  journey (1.0.4) lib/journey/router.rb:56:in `call'
  actionpack (3.2.11) lib/action_dispatch/routing/route_set.rb:601:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'
  rack (1.4.4) lib/rack/etag.rb:23:in `call'
  rack (1.4.4) lib/rack/conditionalget.rb:25:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/head.rb:14:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/params_parser.rb:21:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/flash.rb:242:in `call'
  rack (1.4.4) lib/rack/session/abstract/id.rb:210:in `context'
  rack (1.4.4) lib/rack/session/abstract/id.rb:205:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/cookies.rb:341:in `call'
  activerecord (3.2.11) lib/active_record/query_cache.rb:64:in `call'
  activerecord (3.2.11) lib/active_record/connection_adapters/abstract/connection_pool.rb:479:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
  activesupport (3.2.11) lib/active_support/callbacks.rb:405:in `_run__282497364850705285__call__2573215163778655052__callbacks'
  activesupport (3.2.11) lib/active_support/callbacks.rb:405:in `__run_callback'
  activesupport (3.2.11) lib/active_support/callbacks.rb:385:in `_run_call_callbacks'
  activesupport (3.2.11) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (3.2.11) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/reloader.rb:65:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/remote_ip.rb:31:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.11) lib/rails/rack/logger.rb:32:in `call_app'
  railties (3.2.11) lib/rails/rack/logger.rb:16:in `block in call'
  activesupport (3.2.11) lib/active_support/tagged_logging.rb:22:in `tagged'
  railties (3.2.11) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.4) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.4) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.11) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.4) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.11) lib/action_dispatch/middleware/static.rb:62:in `call'
  railties (3.2.11) lib/rails/engine.rb:479:in `call'
  railties (3.2.11) lib/rails/application.rb:223:in `call'
  rack (1.4.4) lib/rack/content_length.rb:14:in `call'
  railties (3.2.11) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.4) lib/rack/handler/webrick.rb:59:in `service'
  /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 17:49:49 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 16:49:49', `updated_at` = '2013-02-23 16:49:49' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.2ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
Completed 500 Internal Server Error in 240ms

NameError (undefined local variable or method `outgoing_messages' for #<Sms::Adapters::ISMSAdapter:0x007fca7423e600>):
  app/models/sms/adapters/isms_adapter.rb:59:in `get_reply'
  app/controllers/sms_responses_controller.rb:55:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 17:50:22 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 16:50:22', `updated_at` = '2013-02-23 16:50:22' WHERE `users`.`id` = 1
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.7ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.7ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
Completed 500 Internal Server Error in 356ms

NoMethodError (undefined method `phone' for #<Hash:0x007fca74257ec0>):
  app/models/sms/adapters/isms_adapter.rb:60:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:59:in `each'
  app/models/sms/adapters/isms_adapter.rb:59:in `get_reply'
  app/controllers/sms_responses_controller.rb:55:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.8ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 18:06:49 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 17:06:50', `updated_at` = '2013-02-23 17:06:50' WHERE `users`.`id` = 1
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
Completed 500 Internal Server Error in 170ms

NoMethodError (undefined method `s' for "translation missing: en.no key":String):
  app/controllers/sms_responses_controller.rb:4:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (45.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (52.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 18:15:56 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 17:15:57', `updated_at` = '2013-02-23 17:15:57' WHERE `users`.`id` = 1[0m
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
Completed 500 Internal Server Error in 176ms

NoMethodError (undefined method `s' for "translation missing: en.no key":String):
  app/controllers/sms_responses_controller.rb:4:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.0ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 18:16:11 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 17:16:12', `updated_at` = '2013-02-23 17:16:12' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
Completed 500 Internal Server Error in 278ms

NoMethodError (undefined method `to' for #<Hash:0x007fca77285340>):
  app/models/sms/adapters/adapter.rb:13:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:37:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:61:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:60:in `each'
  app/models/sms/adapters/isms_adapter.rb:60:in `get_reply'
  app/controllers/sms_responses_controller.rb:55:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 18:21:48 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 17:21:48', `updated_at` = '2013-02-23 17:21:48' WHERE `users`.`id` = 1
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.2ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
Completed 500 Internal Server Error in 266ms

NoMethodError (undefined method `each' for "+243816107022":String):
  app/models/sms/adapters/isms_adapter.rb:40:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:60:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:59:in `each'
  app/models/sms/adapters/isms_adapter.rb:59:in `get_reply'
  app/controllers/sms_responses_controller.rb:55:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 18:22:41 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 17:22:41', `updated_at` = '2013-02-23 17:22:41' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
http request: 
Completed 500 Internal Server Error in 268ms

URI::InvalidURIError (bad URI(is not URI?): http://www.intellisoftware.co.uk/smsgateway/sendmsg.aspx?username=#<Configatron::Store:0x007fca7450f208>&password=#<Configatron::Store:0x007fca7450efb0>&to="+243816107022"&text=D%C3%A9sol%C3%A9.%20Le%20nombre%20de%20r%C3%A9ponses%20%3C2%3E%20ne%20correspond%20pas%20au%20nombre%20de%20questions%20dans%20la%20fiche%20%3C0%3E.%20Veuillez%20et%20recommencez%20votre%20message:%20%3C!7%201.a%202.b%3E.):
  app/models/sms/adapters/isms_adapter.rb:82:in `send_request'
  app/models/sms/adapters/isms_adapter.rb:46:in `block in deliver'
  app/models/sms/adapters/isms_adapter.rb:39:in `each'
  app/models/sms/adapters/isms_adapter.rb:39:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:59:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:58:in `each'
  app/models/sms/adapters/isms_adapter.rb:58:in `get_reply'
  app/controllers/sms_responses_controller.rb:55:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 18:24:11 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 17:24:11', `updated_at` = '2013-02-23 17:24:11' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.2ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
http request: 
Completed 500 Internal Server Error in 224ms

URI::InvalidURIError (bad URI(is not URI?): http://192.168.1.142:81/sendmsg?user=&passwd=&cat=1&to="+243816107022"&text=D%C3%A9sol%C3%A9.%20Le%20nombre%20de%20r%C3%A9ponses%20%3C2%3E%20ne%20correspond%20pas%20au%20nombre%20de%20questions%20dans%20la%20fiche%20%3C0%3E.%20Veuillez%20et%20recommencez%20votre%20message:%20%3C!7%201.a%202.b%3E.):
  app/models/sms/adapters/isms_adapter.rb:80:in `send_request'
  app/models/sms/adapters/isms_adapter.rb:46:in `block in deliver'
  app/models/sms/adapters/isms_adapter.rb:39:in `each'
  app/models/sms/adapters/isms_adapter.rb:39:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:59:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:58:in `each'
  app/models/sms/adapters/isms_adapter.rb:58:in `get_reply'
  app/controllers/sms_responses_controller.rb:55:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.6ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 18:28:53 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 17:28:54', `updated_at` = '2013-02-23 17:28:54' WHERE `users`.`id` = 1
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
http request: 
Completed 500 Internal Server Error in 298ms

URI::InvalidURIError (bad URI(is not URI?): http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to="+243816107022"&text=D%C3%A9sol%C3%A9.%20Le%20nombre%20de%20r%C3%A9ponses%20%3C2%3E%20ne%20correspond%20pas%20au%20nombre%20de%20questions%20dans%20la%20fiche%20%3C0%3E.%20Veuillez%20et%20recommencez%20votre%20message:%20%3C!7%201.a%202.b%3E.):
  app/models/sms/adapters/isms_adapter.rb:80:in `send_request'
  app/models/sms/adapters/isms_adapter.rb:46:in `block in deliver'
  app/models/sms/adapters/isms_adapter.rb:39:in `each'
  app/models/sms/adapters/isms_adapter.rb:39:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:59:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:58:in `each'
  app/models/sms/adapters/isms_adapter.rb:58:in `get_reply'
  app/controllers/sms_responses_controller.rb:55:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.3ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:03:47 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.7ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
http request: 
Completed 500 Internal Server Error in 205ms

URI::InvalidURIError (bad URI(is not URI?): http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to="+243816107022"&text=hello):
  app/models/sms/adapters/isms_adapter.rb:80:in `send_request'
  app/models/sms/adapters/isms_adapter.rb:46:in `block in deliver'
  app/models/sms/adapters/isms_adapter.rb:39:in `each'
  app/models/sms/adapters/isms_adapter.rb:39:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:59:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:58:in `each'
  app/models/sms/adapters/isms_adapter.rb:58:in `get_reply'
  app/controllers/sms_responses_controller.rb:55:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.9ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:04:25 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
http request: 
Completed 500 Internal Server Error in 75984ms

Errno::ETIMEDOUT (Operation timed out - connect(2)):
  app/models/sms/adapters/isms_adapter.rb:80:in `send_request'
  app/models/sms/adapters/isms_adapter.rb:46:in `block in deliver'
  app/models/sms/adapters/isms_adapter.rb:39:in `each'
  app/models/sms/adapters/isms_adapter.rb:39:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:59:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:58:in `each'
  app/models/sms/adapters/isms_adapter.rb:58:in `get_reply'
  app/controllers/sms_responses_controller.rb:55:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:05:41 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Le%20nombre%20de%20r%C3%A9ponses%20%3C2%3E%20ne%20correspond%20pas%20au%20nombre%20de%20questions%20dans%20la%20fiche%20%3C0%3E.%20Veuillez%20et%20recommencez%20votre%20message:%20%3C!7%201.a%202.b%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.4ms)
Completed 200 OK in 235ms (Views: 2.7ms | ActiveRecord: 15.3ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:06:13 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.2ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Le%20nombre%20de%20r%C3%A9ponses%20%3C2%3E%20ne%20correspond%20pas%20au%20nombre%20de%20questions%20dans%20la%20fiche%20%3C0%3E.%20Veuillez%20et%20recommencez%20votre%20message:%20%3C!7%201.a%202.b%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 14ms (Views: 2.9ms | ActiveRecord: 2.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:06:20 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Le%20nombre%20de%20r%C3%A9ponses%20%3C2%3E%20ne%20correspond%20pas%20au%20nombre%20de%20questions%20dans%20la%20fiche%20%3C0%3E.%20Veuillez%20et%20recommencez%20votre%20message:%20%3C!7%201.a%202.b%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 12ms (Views: 2.5ms | ActiveRecord: 2.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:07:57 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Le%20nombre%20de%20r%C3%A9ponses%20%3C2%3E%20ne%20correspond%20pas%20au%20nombre%20de%20questions%20dans%20la%20fiche%20%3C0%3E.%20Veuillez%20et%20recommencez%20votre%20message:%20%3C!7%201.a%202.b%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.4ms)
Completed 200 OK in 247ms (Views: 3.4ms | ActiveRecord: 18.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:09:13 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
Completed 500 Internal Server Error in 255ms

NoMethodError (undefined method `gsub' for #<Hash:0x007fca74523820>):
  app/models/sms/adapters/isms_adapter.rb:38:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:59:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:58:in `each'
  app/models/sms/adapters/isms_adapter.rb:58:in `get_reply'
  app/controllers/sms_responses_controller.rb:56:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.9ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:11:00 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
Completed 500 Internal Server Error in 15ms

NoMethodError (undefined method `gsub' for #<Hash:0x007fca76109120>):
  app/models/sms/adapters/isms_adapter.rb:38:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:59:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:58:in `each'
  app/models/sms/adapters/isms_adapter.rb:58:in `get_reply'
  app/controllers/sms_responses_controller.rb:56:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.0ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:11:30 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.2ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Le%20nombre%20de%20r%C3%A9ponses%20%3C2%3E%20ne%20correspond%20pas%20au%20nombre%20de%20questions%20dans%20la%20fiche%20%3C0%3E.%20Veuillez%20et%20recommencez%20votre%20message:%20%3C!7%201.a%202.b%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 210ms (Views: 3.8ms | ActiveRecord: 15.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:12:46 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
sms.error.message.no_of_answers
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Le%20nombre%20de%20r%C3%A9ponses%20%3C2%3E%20ne%20correspond%20pas%20au%20nombre%20de%20questions%20dans%20la%20fiche%20%3C0%3E.%20Veuillez%20et%20recommencez%20votre%20message:%20%3C!7%201.a%202.b%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.0ms)
Completed 200 OK in 200ms (Views: 2.0ms | ActiveRecord: 12.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:13:28 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL)[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
sms.error.message.no_of_answers
{:message=>"!7 1.a 2.b", :no_responses=>2, :no_questions=>0}
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Le%20nombre%20de%20r%C3%A9ponses%20%3C2%3E%20ne%20correspond%20pas%20au%20nombre%20de%20questions%20dans%20la%20fiche%20%3C0%3E.%20Veuillez%20et%20recommencez%20votre%20message:%20%3C!7%201.a%202.b%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 203ms (Views: 3.4ms | ActiveRecord: 15.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:14:47 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL AND question_number = '1') LIMIT 1
Completed 500 Internal Server Error in 347ms

NoMethodError (undefined method `questioning' for nil:NilClass):
  app/models/sms_response.rb:111:in `block in get_answers'
  app/models/sms_response.rb:99:in `each'
  app/models/sms_response.rb:99:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:30:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.9ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:16:12 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL AND question_number = '1') LIMIT 1[0m
Completed 500 Internal Server Error in 307ms

NoMethodError (undefined method `questioning' for nil:NilClass):
  app/models/sms_response.rb:111:in `block in get_answers'
  app/models/sms_response.rb:99:in `each'
  app/models/sms_response.rb:99:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:30:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.0ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:17:06 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = NULL AND question_number = '1')
[]
Completed 500 Internal Server Error in 282ms

NoMethodError (undefined method `questioning' for nil:NilClass):
  app/models/sms_response.rb:112:in `block in get_answers'
  app/models/sms_response.rb:99:in `each'
  app/models/sms_response.rb:99:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:30:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.6ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:18:03 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.6ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.7ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
Completed 500 Internal Server Error in 553ms

NameError (undefined local variable or method `noerrors' for #<Class:0x007fca7420c830>):
  app/models/sms_response.rb:156:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:30:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.0ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:18:25 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1
  [1m[36mTranslation Load (0.3ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)[0m
  [1m[35mOptionSetting Load (0.6ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (1.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')[0m
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
Completed 500 Internal Server Error in 560ms

NoMethodError (undefined method `get_mission' for #<Class:0x007fca7421a548>):
  app/controllers/sms_responses_controller.rb:32:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.0ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:18:53 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.2ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.8ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mSetting Load (0.4ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
Completed 500 Internal Server Error in 586ms

NoMethodError (undefined method `can_access_mission?' for nil:NilClass):
  app/controllers/sms_responses_controller.rb:35:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:19:38 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.6ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
Completed 500 Internal Server Error in 579ms

NoMethodError (undefined method `can_access_mission?' for nil:NilClass):
  app/controllers/sms_responses_controller.rb:36:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:20:17 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
SENDER INFO
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.3ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.8ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.8ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mSetting Load (0.4ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
Completed 500 Internal Server Error in 558ms

NoMethodError (undefined method `can_access_mission?' for nil:NilClass):
  app/controllers/sms_responses_controller.rb:37:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (12.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:21:39 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
SENDER INFO
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
SENDER INFO
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.6ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.8ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.6ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mSetting Load (0.2ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
Completed 500 Internal Server Error in 531ms

NoMethodError (undefined method `can_access_mission?' for nil:NilClass):
  app/controllers/sms_responses_controller.rb:39:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (41.7ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (49.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:24:11 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.2ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.6ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
Completed 500 Internal Server Error in 750ms

ActiveModel::MassAssignmentSecurity::Error (Can't mass-assign protected attributes: response):
  app/models/sms_response.rb:27:in `save_answers'
  app/controllers/sms_responses_controller.rb:42:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.3ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:25:59 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.7ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.3ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.6ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestioning Load (0.6ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
sms.success
{:message=>"!7 1.a 2.b"}
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=translation%20missing:%20fra.sms.success
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 757ms (Views: 2.8ms | ActiveRecord: 54.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:27:28 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.3ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
response saved!
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
sms.success
{:message=>"!7 1.a 2.b"}
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=translation%20missing:%20fra.sms.success
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 752ms (Views: 2.5ms | ActiveRecord: 56.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:29:22 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.5ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.6ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.7ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mSetting Load (0.2ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.7ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
response saved!
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
sms.success
{:message=>"!7 1.a 2.b"}
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=translation%20missing:%20fra.sms.success
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 754ms (Views: 2.8ms | ActiveRecord: 57.3ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:30:12 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.3ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.2ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.6ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mSetting Load (0.2ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
Completed 422 Unprocessable Entity in 705ms

ActiveRecord::RecordInvalid (translation missing: fra.activerecord.errors.messages.record_invalid):
  app/models/sms_response.rb:24:in `save_answers'
  app/controllers/sms_responses_controller.rb:42:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 20:56:20 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.7ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.9ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.8ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.9ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.5ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mSetting Load (0.4ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.5ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
Completed 422 Unprocessable Entity in 844ms

ActiveRecord::RecordInvalid (translation missing: fra.activerecord.errors.messages.record_invalid):
  app/models/sms_response.rb:24:in `save_answers'
  app/controllers/sms_responses_controller.rb:42:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.8ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (14.6ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:01:16 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.2ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.5ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.5ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.7ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mSetting Load (0.4ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.6ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
Completed 422 Unprocessable Entity in 731ms

ActiveRecord::RecordInvalid (Validation failed: Not all questions have answers):
  app/models/sms_response.rb:24:in `save_answers'
  app/controllers/sms_responses_controller.rb:42:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.3ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:02:22 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.5ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.2ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.7ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
{{:relevant=>"true", :response_id=>"", :option_id=>1, :questioning_id=>35, :value=>nil}=>{:relevant=>"true", :response_id=>"", :option_id=>2, :questioning_id=>36, :value=>nil}}
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
Completed 422 Unprocessable Entity in 741ms

ActiveRecord::RecordInvalid (Validation failed: Not all questions have answers):
  app/models/sms_response.rb:25:in `save_answers'
  app/controllers/sms_responses_controller.rb:42:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:03:43 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.5ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.3ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.2ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.6ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.6ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.6ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
[{:relevant=>"true", :response_id=>"", :option_id=>1, :questioning_id=>35, :value=>nil}, {:relevant=>"true", :response_id=>"", :option_id=>2, :questioning_id=>36, :value=>nil}]
{{:relevant=>"true", :response_id=>"", :option_id=>1, :questioning_id=>35, :value=>nil}=>{:relevant=>"true", :response_id=>"", :option_id=>2, :questioning_id=>36, :value=>nil}}
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
Completed 422 Unprocessable Entity in 734ms

ActiveRecord::RecordInvalid (Validation failed: Not all questions have answers):
  app/models/sms_response.rb:26:in `save_answers'
  app/controllers/sms_responses_controller.rb:42:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.8ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:07:29 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.6ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.2ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.8ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.5ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mSetting Load (0.2ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
["0", {:relevant=>"true", :response_id=>"", :option_id=>1, :questioning_id=>35, :value=>nil}, "1", {:relevant=>"true", :response_id=>"", :option_id=>2, :questioning_id=>36, :value=>nil}]
{"0"=>{:relevant=>"true", :response_id=>"", :option_id=>1, :questioning_id=>35, :value=>nil}, "1"=>{:relevant=>"true", :response_id=>"", :option_id=>2, :questioning_id=>36, :value=>nil}}
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `responses` (`created_at`, `form_id`, `mission_id`, `reviewed`, `source`, `updated_at`, `user_id`) VALUES ('2013-02-23 20:07:30', 7, 1, 0, 'sms', '2013-02-23 20:07:30', 3)[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE `forms` SET `responses_count` = COALESCE(`responses_count`, 0) + 1 WHERE `forms`.`id` = 7
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 20:07:30', NULL, NULL, 1, 35, 83, NULL, '2013-02-23 20:07:30', NULL)[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 20:07:30', NULL, NULL, 2, 36, 83, NULL, '2013-02-23 20:07:30', NULL)
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
sms.response.not_valid
{:message=>"!7 1.a 2.b"}
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=translation%20missing:%20en.sms.response.not_valid
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.3ms)
Completed 200 OK in 762ms (Views: 2.4ms | ActiveRecord: 64.3ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:10:01 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
GETING SENDER INFO
SENDER INFO
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name[0m
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')[0m
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.5ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mSetting Load (0.4ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC
  [1m[36mMission Load (0.9ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))[0m
["0", {:relevant=>"true", :response_id=>"", :option_id=>1, :questioning_id=>35, :value=>nil}, "1", {:relevant=>"true", :response_id=>"", :option_id=>2, :questioning_id=>36, :value=>nil}]
{"0"=>{:relevant=>"true", :response_id=>"", :option_id=>1, :questioning_id=>35, :value=>nil}, "1"=>{:relevant=>"true", :response_id=>"", :option_id=>2, :questioning_id=>36, :value=>nil}}
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `responses` (`created_at`, `form_id`, `mission_id`, `reviewed`, `source`, `updated_at`, `user_id`) VALUES ('2013-02-23 20:10:02', 7, 1, 0, 'sms', '2013-02-23 20:10:02', 3)
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE `forms` SET `responses_count` = COALESCE(`responses_count`, 0) + 1 WHERE `forms`.`id` = 7[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 20:10:02', NULL, NULL, 1, 35, 84, NULL, '2013-02-23 20:10:02', NULL)
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 20:10:02', NULL, NULL, 2, 36, 84, NULL, '2013-02-23 20:10:02', NULL)[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
sms.error.response.not_valid
{:message=>"!7 1.a 2.b"}
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Vous%20avez%20une%20erreur%20dans%20votre%20message.%20Veuillez%20et%20recommencez%20votre%20message:%20%3C!7%201.a%202.b%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 781ms (Views: 2.8ms | ActiveRecord: 62.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:10:41 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.8ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.6ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1
  [1m[36mTranslation Load (0.7ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.6ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
["0", {:relevant=>"true", :response_id=>"", :option_id=>1, :questioning_id=>35, :value=>nil}, "1", {:relevant=>"true", :response_id=>"", :option_id=>2, :questioning_id=>36, :value=>nil}]
{"0"=>{:relevant=>"true", :response_id=>"", :option_id=>1, :questioning_id=>35, :value=>nil}, "1"=>{:relevant=>"true", :response_id=>"", :option_id=>2, :questioning_id=>36, :value=>nil}}
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `responses` (`created_at`, `form_id`, `mission_id`, `reviewed`, `source`, `updated_at`, `user_id`) VALUES ('2013-02-23 20:10:42', 7, 1, 0, 'sms', '2013-02-23 20:10:42', 3)[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE `forms` SET `responses_count` = COALESCE(`responses_count`, 0) + 1 WHERE `forms`.`id` = 7
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 20:10:42', NULL, NULL, 1, 35, 85, NULL, '2013-02-23 20:10:42', NULL)[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 20:10:42', NULL, NULL, 2, 36, 85, NULL, '2013-02-23 20:10:42', NULL)
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
sms.error.response.not_valid
{:message=>"!7 1.a 2.b"}
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Vous%20avez%20une%20erreur%20dans%20votre%20message.%20Veuillez%20et%20recommencez%20votre%20message:%20%3C!7%201.a%202.b%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 717ms (Views: 2.0ms | ActiveRecord: 59.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:12:24 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
GETING SENDER INFO
SENDER INFO
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name[0m
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!7 1.a 2.b", "7", "1.a 2.b", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
"!7 1.a 2.b"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')
[#<SmsCode id: 73, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 74, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 75, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')[0m
[#<SmsCode id: 76, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 77, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">, #<SmsCode id: 78, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 14:22:26", updated_at: "2013-02-23 14:22:26">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 2 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (2)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (2)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mSetting Load (0.2ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
  [1m[35mAssignment Load (0.2ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC
  [1m[36mMission Load (0.5ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))[0m
["0", {:relevant=>"true", :response_id=>"", :option_id=>1, :questioning_id=>35, :value=>nil}, "1", {:relevant=>"true", :response_id=>"", :option_id=>2, :questioning_id=>36, :value=>nil}]
{"0"=>{:relevant=>"true", :response_id=>"", :option_id=>1, :questioning_id=>35, :value=>nil}, "1"=>{:relevant=>"true", :response_id=>"", :option_id=>2, :questioning_id=>36, :value=>nil}}
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `responses` (`created_at`, `form_id`, `mission_id`, `reviewed`, `source`, `updated_at`, `user_id`) VALUES ('2013-02-23 20:12:24', 7, 1, 0, 'sms', '2013-02-23 20:12:24', 3)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `forms` SET `responses_count` = COALESCE(`responses_count`, 0) + 1 WHERE `forms`.`id` = 7[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 20:12:24', NULL, NULL, 1, 35, 86, NULL, '2013-02-23 20:12:24', NULL)
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 20:12:25', NULL, NULL, 2, 36, 86, NULL, '2013-02-23 20:12:25', NULL)[0m
  [1m[35m (0.4ms)[0m  COMMIT
response saved!
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `sms_responses` (`created_at`, `message`, `response_id`, `updated_at`) VALUES ('2013-02-23 20:12:25', '!7 1.a 2.b', 86, '2013-02-23 20:12:25')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
sms.success
{:message=>"!7 1.a 2.b"}
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=Succes!%20Votre%20message%20a%20%C3%A9t%C3%A9%20re%C3%A7u:%20%3C!7%201.a%202.b%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 730ms (Views: 2.2ms | ActiveRecord: 58.5ms)


Started GET "/responses" for 127.0.0.1 at 2013-02-23 21:12:43 +0100
Processing by ResponsesController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
Redirected to http://0.0.0.0:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)


Started GET "/login" for 127.0.0.1 at 2013-02-23 21:12:43 +0100
Processing by UserSessionsController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (1.1ms)
  Rendered user_sessions/new.html.erb within layouts/application (7.4ms)
Completed 200 OK in 50ms (Views: 44.5ms | ActiveRecord: 0.5ms)


Started POST "/user_session" for 127.0.0.1 at 2013-02-23 21:12:49 +0100
Processing by UserSessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"7BObjb9Qp/07Ki6TdKBZtSsWPT++HxG4O22hpMsxqTk=", "user_session"=>{"login"=>"super", "password"=>"[FILTERED]"}, "commit"=>"Login"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (LOWER(`users`.login) = 'super') ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `login_count` = 31, `last_request_at` = '2013-02-23 20:12:49', `updated_at` = '2013-02-23 20:12:49' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `perishable_token` = 'LsWIHt9VE4dqEORE4j', `updated_at` = '2013-02-23 20:12:49' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `assignments` WHERE `assignments`.`user_id` = 1 AND `assignments`.`active` = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 1[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `current_mission_id` = NULL, `updated_at` = '2013-02-23 20:12:49' WHERE `users`.`id` = 1
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Redirected to http://0.0.0.0:3000/responses
Completed 302 Found in 37ms (ActiveRecord: 6.1ms)


Started GET "/responses" for 127.0.0.1 at 2013-02-23 21:12:49 +0100
Processing by ResponsesController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (1.0ms)
  Rendered permissions/no.html.erb within layouts/application (1.5ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Filter chain halted as :authorize rendered or redirected
Completed 401 Unauthorized in 27ms (Views: 18.1ms | ActiveRecord: 1.9ms)


Started PUT "/users/1" for 127.0.0.1 at 2013-02-23 21:12:54 +0100
Processing by UsersController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"5BYfl3vy6tMIjg8gM1iq2NeE2m8smA/2z36MbOAlDWE=", "user"=>{"current_mission_id"=>"1"}, "changing_current_mission"=>"1", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.7ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 20:12:54', `updated_at` = '2013-02-23 20:12:54' WHERE `users`.`id` = 1[0m
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `current_mission_id` = 1, `updated_at` = '2013-02-23 20:12:54' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSetting Load (0.8ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
Redirected to http://0.0.0.0:3000/responses
Completed 302 Found in 23ms (ActiveRecord: 6.6ms)


Started GET "/responses" for 127.0.0.1 at 2013-02-23 21:12:54 +0100
Processing by ResponsesController#index as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (2.6ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (7, 9, 6)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.7ms)
  Rendered searches/_form.html.erb (0.6ms)
  [1m[36m (1.2ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.7ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (39.6ms)
  Rendered responses/index.html.erb within layouts/application (56.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 127ms (Views: 71.4ms | ActiveRecord: 12.3ms)


Started GET "/responses/86" for 127.0.0.1 at 2013-02-23 21:13:01 +0100
Processing by ResponsesController#show as HTML
  Parameters: {"id"=>"86"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 20:13:01', `updated_at` = '2013-02-23 20:13:01' WHERE `users`.`id` = 1[0m
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.6ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (0.4ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`id` = 86 ORDER BY responses.created_at DESC LIMIT 1
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (7)[0m
  [1m[35mFormType Load (0.4ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35mSQL (2.1ms)[0m  SELECT `answers`.`id` AS t0_r0, `answers`.`response_id` AS t0_r1, `answers`.`option_id` AS t0_r2, `answers`.`value` AS t0_r3, `answers`.`created_at` AS t0_r4, `answers`.`updated_at` AS t0_r5, `answers`.`questioning_id` AS t0_r6, `answers`.`time_value` AS t0_r7, `answers`.`date_value` AS t0_r8, `answers`.`datetime_value` AS t0_r9, `questionings`.`id` AS t1_r0, `questionings`.`question_id` AS t1_r1, `questionings`.`form_id` AS t1_r2, `questionings`.`rank` AS t1_r3, `questionings`.`required` AS t1_r4, `questionings`.`hidden` AS t1_r5, `questionings`.`created_at` AS t1_r6, `questionings`.`updated_at` AS t1_r7 FROM `answers` LEFT OUTER JOIN `questionings` ON `questionings`.`id` = `answers`.`questioning_id` WHERE `answers`.`response_id` IN (86) ORDER BY questionings.rank
  [1m[36mChoice Load (0.4ms)[0m  [1mSELECT `choices`.* FROM `choices` WHERE `choices`.`answer_id` IN (1663, 1664)[0m
  [1m[35mOption Load (0.5ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2)
  [1m[36mTranslation Load (0.7ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2)[0m
  [1m[35mOptionSetting Load (0.7ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2)
  [1m[36mOptionSet Load (0.5ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.6ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36mCondition Load (0.3ms)[0m  [1mSELECT `conditions`.* FROM `conditions` WHERE `conditions`.`questioning_id` IN (35, 36)[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` IN (9, 10) ORDER BY code
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` IN (18) ORDER BY long_name[0m
  [1m[35mTranslation Load (0.7ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Question' AND `translations`.`obj_id` IN (9, 10)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)
  [1m[36mOption Load (0.8ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  Rendered layouts/_location_picker.html.erb (0.7ms)
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (0.6ms)
  [1m[35mUser Load (1.4ms)[0m  SELECT `users`.* FROM `users` WHERE (users.id IN (SELECT user_id FROM assignments WHERE mission_id = 1)) ORDER BY users.name
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank[0m
  Rendered responses/_answer.html.erb (4.2ms)
  Rendered responses/form.html.erb within layouts/application (18.6ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 197ms (Views: 34.0ms | ActiveRecord: 24.0ms)


Started GET "/responses" for 127.0.0.1 at 2013-02-23 21:13:12 +0100
Processing by ResponsesController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.8ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 20:13:12', `updated_at` = '2013-02-23 20:13:12' WHERE `users`.`id` = 1
  [1m[36m (2.8ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.7ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.2ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (7, 9, 6)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.7ms)
  Rendered searches/_form.html.erb (0.2ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (35.5ms)
  Rendered responses/index.html.erb within layouts/application (46.6ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 89ms (Views: 57.0ms | ActiveRecord: 10.1ms)


Started GET "/responses.csv" for 127.0.0.1 at 2013-02-23 21:13:17 +0100
Processing by ResponsesController#index as CSV
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 20:13:17', `updated_at` = '2013-02-23 20:13:17' WHERE `users`.`id` = 1
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (42.2ms)[0m  [1mSELECT responses.id AS response_id, responses.created_at AS submission_time, responses.reviewed AS is_reviewed, forms.name AS form_name, form_types.name AS form_type, questions.code AS question_code, question_trans.str AS question_name, question_types.name AS question_type, users.name AS submitter_name, answers.id AS answer_id, answers.value AS answer_value, answers.datetime_value AS answer_datetime_value, answers.date_value AS answer_date_value, answers.time_value AS answer_time_value, IFNULL(aotr.str, cotr.str) AS choice_name, IFNULL(ao.value, co.value) AS choice_value, option_sets.name AS option_set FROM `responses` LEFT JOIN users users ON responses.user_id = users.id INNER JOIN forms forms ON responses.form_id = forms.id INNER JOIN form_types form_types ON forms.form_type_id = form_types.id LEFT JOIN answers answers ON answers.response_id = responses.id INNER JOIN questionings questionings ON answers.questioning_id = questionings.id INNER JOIN questions questions ON questionings.question_id = questions.id INNER JOIN question_types question_types ON questions.question_type_id = question_types.id INNER JOIN translations question_trans ON (question_trans.obj_id = questions.id 
 AND question_trans.fld = 'name' AND question_trans.class_name = 'Question' 
 AND question_trans.language = 'eng') LEFT JOIN option_sets option_sets ON questions.option_set_id = option_sets.id LEFT JOIN options ao ON answers.option_id = ao.id LEFT JOIN translations aotr ON (aotr.obj_id = ao.id and aotr.fld = 'name' and aotr.class_name = 'Option' AND aotr.language = 'eng') LEFT JOIN choices choices ON choices.answer_id = answers.id LEFT JOIN options co ON choices.option_id = co.id LEFT JOIN translations cotr ON (cotr.obj_id = co.id and cotr.fld = 'name' and cotr.class_name = 'Option' AND cotr.language = 'eng') WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC[0m
  Rendered responses/index.csv.erb (27.5ms)
Completed 200 OK in 167ms (Views: 28.7ms | ActiveRecord: 47.1ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 21:13:42 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (2.4ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (7, 9, 6)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (29.1ms)
  Rendered responses/_table_only.html.erb (37.0ms)
Completed 200 OK in 57ms (Views: 37.0ms | ActiveRecord: 5.8ms)


Started GET "/forms" for 127.0.0.1 at 2013-02-23 21:14:03 +0100
Processing by FormsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 20:14:03', `updated_at` = '2013-02-23 20:14:03' WHERE `users`.`id` = 1[0m
  [1m[35m (98.8ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.6ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.7ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.9ms)
  Rendered layouts/_index_table.html.erb (19.2ms)
  Rendered forms/index.html.erb within layouts/application (23.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 156ms (Views: 39.5ms | ActiveRecord: 102.9ms)


Started GET "/forms/7" for 127.0.0.1 at 2013-02-23 21:14:08 +0100
Processing by FormsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 20:14:08', `updated_at` = '2013-02-23 20:14:08' WHERE `users`.`id` = 1[0m
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mForm Load (2.2ms)[0m  [1mSELECT DISTINCT `forms`.id FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` LEFT OUTER JOIN `questionings` ON `questionings`.`form_id` = `forms`.`id` LEFT OUTER JOIN `forms` `forms_questionings` ON `forms_questionings`.`id` = `questionings`.`form_id` LEFT OUTER JOIN `conditions` ON `conditions`.`questioning_id` = `questionings`.`id` LEFT OUTER JOIN `questions` ON `questions`.`id` = `questionings`.`question_id` LEFT OUTER JOIN `question_types` ON `question_types`.`id` = `questions`.`question_type_id` LEFT OUTER JOIN `translations` ON `translations`.`obj_id` = `questions`.`id` AND `translations`.`class_name` = 'Question' LEFT OUTER JOIN `option_sets` ON `option_sets`.`id` = `questions`.`option_set_id` LEFT OUTER JOIN `option_settings` ON `option_settings`.`option_set_id` = `option_sets`.`id` LEFT OUTER JOIN `options` ON `options`.`id` = `option_settings`.`option_id` LEFT OUTER JOIN `translations` `translations_options` ON `translations_options`.`obj_id` = `options`.`id` AND `translations_options`.`class_name` = 'Option' WHERE `forms`.`id` = 7 ORDER BY questionings.rank LIMIT 1[0m
  [1m[35mSQL (4.0ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4, `questionings`.`id` AS t2_r0, `questionings`.`question_id` AS t2_r1, `questionings`.`form_id` AS t2_r2, `questionings`.`rank` AS t2_r3, `questionings`.`required` AS t2_r4, `questionings`.`hidden` AS t2_r5, `questionings`.`created_at` AS t2_r6, `questionings`.`updated_at` AS t2_r7, `forms_questionings`.`id` AS t3_r0, `forms_questionings`.`name` AS t3_r1, `forms_questionings`.`created_at` AS t3_r2, `forms_questionings`.`updated_at` AS t3_r3, `forms_questionings`.`published` AS t3_r4, `forms_questionings`.`form_type_id` AS t3_r5, `forms_questionings`.`downloads` AS t3_r6, `forms_questionings`.`questionings_count` AS t3_r7, `forms_questionings`.`responses_count` AS t3_r8, `forms_questionings`.`mission_id` AS t3_r9, `conditions`.`id` AS t4_r0, `conditions`.`questioning_id` AS t4_r1, `conditions`.`ref_qing_id` AS t4_r2, `conditions`.`op` AS t4_r3, `conditions`.`value` AS t4_r4, `conditions`.`created_at` AS t4_r5, `conditions`.`updated_at` AS t4_r6, `conditions`.`option_id` AS t4_r7, `questions`.`id` AS t5_r0, `questions`.`code` AS t5_r1, `questions`.`option_set_id` AS t5_r2, `questions`.`created_at` AS t5_r3, `questions`.`updated_at` AS t5_r4, `questions`.`question_type_id` AS t5_r5, `questions`.`minimum` AS t5_r6, `questions`.`maximum` AS t5_r7, `questions`.`maxstrictly` AS t5_r8, `questions`.`minstrictly` AS t5_r9, `questions`.`mission_id` AS t5_r10, `question_types`.`id` AS t6_r0, `question_types`.`name` AS t6_r1, `question_types`.`created_at` AS t6_r2, `question_types`.`updated_at` AS t6_r3, `question_types`.`odk_name` AS t6_r4, `question_types`.`odk_tag` AS t6_r5, `question_types`.`long_name` AS t6_r6, `translations`.`id` AS t7_r0, `translations`.`str` AS t7_r1, `translations`.`created_at` AS t7_r2, `translations`.`updated_at` AS t7_r3, `translations`.`fld` AS t7_r4, `translations`.`class_name` AS t7_r5, `translations`.`obj_id` AS t7_r6, `translations`.`language` AS t7_r7, `option_sets`.`id` AS t8_r0, `option_sets`.`name` AS t8_r1, `option_sets`.`created_at` AS t8_r2, `option_sets`.`updated_at` AS t8_r3, `option_sets`.`ordering` AS t8_r4, `option_sets`.`mission_id` AS t8_r5, `options`.`id` AS t9_r0, `options`.`value` AS t9_r1, `options`.`created_at` AS t9_r2, `options`.`updated_at` AS t9_r3, `options`.`mission_id` AS t9_r4, `translations_options`.`id` AS t10_r0, `translations_options`.`str` AS t10_r1, `translations_options`.`created_at` AS t10_r2, `translations_options`.`updated_at` AS t10_r3, `translations_options`.`fld` AS t10_r4, `translations_options`.`class_name` AS t10_r5, `translations_options`.`obj_id` AS t10_r6, `translations_options`.`language` AS t10_r7 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` LEFT OUTER JOIN `questionings` ON `questionings`.`form_id` = `forms`.`id` LEFT OUTER JOIN `forms` `forms_questionings` ON `forms_questionings`.`id` = `questionings`.`form_id` LEFT OUTER JOIN `conditions` ON `conditions`.`questioning_id` = `questionings`.`id` LEFT OUTER JOIN `questions` ON `questions`.`id` = `questionings`.`question_id` LEFT OUTER JOIN `question_types` ON `question_types`.`id` = `questions`.`question_type_id` LEFT OUTER JOIN `translations` ON `translations`.`obj_id` = `questions`.`id` AND `translations`.`class_name` = 'Question' LEFT OUTER JOIN `option_sets` ON `option_sets`.`id` = `questions`.`option_set_id` LEFT OUTER JOIN `option_settings` ON `option_settings`.`option_set_id` = `option_sets`.`id` LEFT OUTER JOIN `options` ON `options`.`id` = `option_settings`.`option_id` LEFT OUTER JOIN `translations` `translations_options` ON `translations_options`.`obj_id` = `options`.`id` AND `translations_options`.`class_name` = 'Option' WHERE `forms`.`id` = 7 AND `forms`.`id` IN (7) ORDER BY questionings.rank
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (0.7ms)
  [1m[36mFormType Load (0.9ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`mission_id` = 1 AND (1) ORDER BY name[0m
  Rendered layouts/_index_table.html.erb (4.7ms)
  Rendered forms/form.html.erb within layouts/application (13.1ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 65ms (Views: 25.3ms | ActiveRecord: 13.8ms)


Started GET "/forms" for 127.0.0.1 at 2013-02-23 21:14:13 +0100
Processing by FormsController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 20:14:13', `updated_at` = '2013-02-23 20:14:13' WHERE `users`.`id` = 1
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (1.2ms)
  Rendered layouts/_index_table.html.erb (14.2ms)
  Rendered forms/index.html.erb within layouts/application (18.5ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.2ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 52ms (Views: 31.4ms | ActiveRecord: 6.1ms)


Started GET "/forms/9" for 127.0.0.1 at 2013-02-23 21:14:18 +0100
Processing by FormsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 20:14:18', `updated_at` = '2013-02-23 20:14:18' WHERE `users`.`id` = 1
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mForm Load (2.6ms)[0m  SELECT DISTINCT `forms`.id FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` LEFT OUTER JOIN `questionings` ON `questionings`.`form_id` = `forms`.`id` LEFT OUTER JOIN `forms` `forms_questionings` ON `forms_questionings`.`id` = `questionings`.`form_id` LEFT OUTER JOIN `conditions` ON `conditions`.`questioning_id` = `questionings`.`id` LEFT OUTER JOIN `questions` ON `questions`.`id` = `questionings`.`question_id` LEFT OUTER JOIN `question_types` ON `question_types`.`id` = `questions`.`question_type_id` LEFT OUTER JOIN `translations` ON `translations`.`obj_id` = `questions`.`id` AND `translations`.`class_name` = 'Question' LEFT OUTER JOIN `option_sets` ON `option_sets`.`id` = `questions`.`option_set_id` LEFT OUTER JOIN `option_settings` ON `option_settings`.`option_set_id` = `option_sets`.`id` LEFT OUTER JOIN `options` ON `options`.`id` = `option_settings`.`option_id` LEFT OUTER JOIN `translations` `translations_options` ON `translations_options`.`obj_id` = `options`.`id` AND `translations_options`.`class_name` = 'Option' WHERE `forms`.`id` = 9 ORDER BY questionings.rank LIMIT 1
  [1m[36mSQL (12.3ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4, `questionings`.`id` AS t2_r0, `questionings`.`question_id` AS t2_r1, `questionings`.`form_id` AS t2_r2, `questionings`.`rank` AS t2_r3, `questionings`.`required` AS t2_r4, `questionings`.`hidden` AS t2_r5, `questionings`.`created_at` AS t2_r6, `questionings`.`updated_at` AS t2_r7, `forms_questionings`.`id` AS t3_r0, `forms_questionings`.`name` AS t3_r1, `forms_questionings`.`created_at` AS t3_r2, `forms_questionings`.`updated_at` AS t3_r3, `forms_questionings`.`published` AS t3_r4, `forms_questionings`.`form_type_id` AS t3_r5, `forms_questionings`.`downloads` AS t3_r6, `forms_questionings`.`questionings_count` AS t3_r7, `forms_questionings`.`responses_count` AS t3_r8, `forms_questionings`.`mission_id` AS t3_r9, `conditions`.`id` AS t4_r0, `conditions`.`questioning_id` AS t4_r1, `conditions`.`ref_qing_id` AS t4_r2, `conditions`.`op` AS t4_r3, `conditions`.`value` AS t4_r4, `conditions`.`created_at` AS t4_r5, `conditions`.`updated_at` AS t4_r6, `conditions`.`option_id` AS t4_r7, `questions`.`id` AS t5_r0, `questions`.`code` AS t5_r1, `questions`.`option_set_id` AS t5_r2, `questions`.`created_at` AS t5_r3, `questions`.`updated_at` AS t5_r4, `questions`.`question_type_id` AS t5_r5, `questions`.`minimum` AS t5_r6, `questions`.`maximum` AS t5_r7, `questions`.`maxstrictly` AS t5_r8, `questions`.`minstrictly` AS t5_r9, `questions`.`mission_id` AS t5_r10, `question_types`.`id` AS t6_r0, `question_types`.`name` AS t6_r1, `question_types`.`created_at` AS t6_r2, `question_types`.`updated_at` AS t6_r3, `question_types`.`odk_name` AS t6_r4, `question_types`.`odk_tag` AS t6_r5, `question_types`.`long_name` AS t6_r6, `translations`.`id` AS t7_r0, `translations`.`str` AS t7_r1, `translations`.`created_at` AS t7_r2, `translations`.`updated_at` AS t7_r3, `translations`.`fld` AS t7_r4, `translations`.`class_name` AS t7_r5, `translations`.`obj_id` AS t7_r6, `translations`.`language` AS t7_r7, `option_sets`.`id` AS t8_r0, `option_sets`.`name` AS t8_r1, `option_sets`.`created_at` AS t8_r2, `option_sets`.`updated_at` AS t8_r3, `option_sets`.`ordering` AS t8_r4, `option_sets`.`mission_id` AS t8_r5, `options`.`id` AS t9_r0, `options`.`value` AS t9_r1, `options`.`created_at` AS t9_r2, `options`.`updated_at` AS t9_r3, `options`.`mission_id` AS t9_r4, `translations_options`.`id` AS t10_r0, `translations_options`.`str` AS t10_r1, `translations_options`.`created_at` AS t10_r2, `translations_options`.`updated_at` AS t10_r3, `translations_options`.`fld` AS t10_r4, `translations_options`.`class_name` AS t10_r5, `translations_options`.`obj_id` AS t10_r6, `translations_options`.`language` AS t10_r7 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` LEFT OUTER JOIN `questionings` ON `questionings`.`form_id` = `forms`.`id` LEFT OUTER JOIN `forms` `forms_questionings` ON `forms_questionings`.`id` = `questionings`.`form_id` LEFT OUTER JOIN `conditions` ON `conditions`.`questioning_id` = `questionings`.`id` LEFT OUTER JOIN `questions` ON `questions`.`id` = `questionings`.`question_id` LEFT OUTER JOIN `question_types` ON `question_types`.`id` = `questions`.`question_type_id` LEFT OUTER JOIN `translations` ON `translations`.`obj_id` = `questions`.`id` AND `translations`.`class_name` = 'Question' LEFT OUTER JOIN `option_sets` ON `option_sets`.`id` = `questions`.`option_set_id` LEFT OUTER JOIN `option_settings` ON `option_settings`.`option_set_id` = `option_sets`.`id` LEFT OUTER JOIN `options` ON `options`.`id` = `option_settings`.`option_id` LEFT OUTER JOIN `translations` `translations_options` ON `translations_options`.`obj_id` = `options`.`id` AND `translations_options`.`class_name` = 'Option' WHERE `forms`.`id` = 9 AND `forms`.`id` IN (9) ORDER BY questionings.rank[0m
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (1.1ms)
  [1m[35mFormType Load (0.5ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`mission_id` = 1 AND (1) ORDER BY name
  Rendered layouts/_index_table.html.erb (3.2ms)
  Rendered forms/form.html.erb within layouts/application (12.3ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.2ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 81ms (Views: 27.6ms | ActiveRecord: 20.6ms)


Started GET "/sms_codes/show/9" for 127.0.0.1 at 2013-02-23 21:14:54 +0100
Processing by SmsCodesController#show as HTML
  Parameters: {"form_id"=>"9"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 20:14:54', `updated_at` = '2013-02-23 20:14:54' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM `sms_codes` WHERE `sms_codes`.`form_id` = 9[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 9 ORDER BY rank
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.5ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES (NULL, '2013-02-23 20:14:54', 9, NULL, 1, 49, '2013-02-23 20:14:54')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.9ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 31 AND `translations`.`class_name` = 'Question'
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 8 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (8)
  [1m[36mOption Load (0.5ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 28, 29, 30, 31)[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (23, 28, 29, 30, 31)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (23, 28, 29, 30, 31)[0m
  [1m[35mOptionSet Load (0.7ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name
  [1m[36mQuestion Load (0.7ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code[0m
  [1m[35mQuestioning Load (0.7ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-23 20:14:54', 9, 28, 2, 50, '2013-02-23 20:14:54')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-23 20:14:54', 9, 29, 2, 50, '2013-02-23 20:14:54')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-23 20:14:54', 9, 30, 2, 50, '2013-02-23 20:14:54')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-23 20:14:54', 9, 31, 2, 50, '2013-02-23 20:14:54')
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-23 20:14:54', 9, 23, 2, 50, '2013-02-23 20:14:54')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 32 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 6 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (6)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (19, 20, 21, 22, 23)
  [1m[36mTranslation Load (1.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (19, 20, 21, 22, 23)[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (19, 20, 21, 22, 23)
  [1m[36mOptionSet Load (0.6ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name[0m
  [1m[35mQuestion Load (0.9ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-23 20:14:54', 9, 19, 3, 51, '2013-02-23 20:14:54')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-23 20:14:54', 9, 20, 3, 51, '2013-02-23 20:14:54')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-23 20:14:54', 9, 21, 3, 51, '2013-02-23 20:14:54')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('d', '2013-02-23 20:14:54', 9, 22, 3, 51, '2013-02-23 20:14:54')[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('e', '2013-02-23 20:14:54', 9, 23, 3, 51, '2013-02-23 20:14:54')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (0.8ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 26 AND `translations`.`class_name` = 'Question'
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_codes/show.txt.erb (0.1ms)
Completed 200 OK in 182ms (Views: 3.3ms | ActiveRecord: 29.3ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:15:59 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 20:16:00', `updated_at` = '2013-02-23 20:16:00' WHERE `users`.`id` = 1[0m
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!9 1.5 2.bc 3.d", "9", "1.5 2.bc 3.d", nil]
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.6ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
"!9 1.5 2.bc 3.d"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
Completed 500 Internal Server Error in 472ms

NoMethodError (undefined method `incoming_answer' for #<Class:0x007fca7621a460>):
  app/models/sms_response.rb:120:in `block in get_answers'
  app/models/sms_response.rb:103:in `each'
  app/models/sms_response.rb:103:in `each_with_index'
  app/models/sms_response.rb:103:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:35:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:17:42 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 20:17:42', `updated_at` = '2013-02-23 20:17:42' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
GETING SENDER INFO
SENDER INFO
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name[0m
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!9 1.5 2.bc 3.d", "9", "1.5 2.bc 3.d", nil]
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
"!9 1.5 2.bc 3.d"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
Completed 500 Internal Server Error in 431ms

NoMethodError (undefined method `incoming_answer' for #<Class:0x007fca743a2d20>):
  app/models/sms_response.rb:121:in `block in get_answers'
  app/models/sms_response.rb:103:in `each'
  app/models/sms_response.rb:103:in `each_with_index'
  app/models/sms_response.rb:103:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:35:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (6.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:19:27 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 20:19:28', `updated_at` = '2013-02-23 20:19:28' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!9 1.5 2.bc 3.d", "9", "1.5 2.bc 3.d", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
"!9 1.5 2.bc 3.d"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
incoming answer

  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
incoming answer

  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
answering!
incoming answer

  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.2ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.2ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
sms.error.system
{:message=>"!9 1.5 2.bc 3.d", :question_no=>"1", :response=>"5"}
Completed 500 Internal Server Error in 558ms

NoMethodError (undefined method `gsub' for #<Hash:0x007fca7610cb68>):
  app/models/sms/adapters/isms_adapter.rb:38:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:59:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:58:in `each'
  app/models/sms/adapters/isms_adapter.rb:58:in `get_reply'
  app/controllers/sms_responses_controller.rb:62:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:21:16 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 20:21:16', `updated_at` = '2013-02-23 20:21:16' WHERE `users`.`id` = 1
  [1m[36m (0.7ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
GETING SENDER INFO
SENDER INFO
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name[0m
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!9 1.5 2.bc 3.d", "9", "1.5 2.bc 3.d", nil]
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
"!9 1.5 2.bc 3.d"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
incoming answer

  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
incoming answer

  [1m[36mSmsCode Load (0.8ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
incoming answer

  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.5ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
sms.error.system
{:message=>"!9 1.5 2.bc 3.d", :question_no=>"1", :response=>"5"}
Completed 500 Internal Server Error in 573ms

NoMethodError (undefined method `gsub' for #<Hash:0x007fca7610cb68>):
  app/models/sms/adapters/isms_adapter.rb:38:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:59:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:58:in `each'
  app/models/sms/adapters/isms_adapter.rb:58:in `get_reply'
  app/controllers/sms_responses_controller.rb:62:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:24:19 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 20:24:19', `updated_at` = '2013-02-23 20:24:19' WHERE `users`.`id` = 1[0m
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
Completed 500 Internal Server Error in 237ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:121: syntax error, unexpected tFID, expecting keyword_then or ';' or '\n'
					if @incoming_answer is_a? Integer
					                         ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:130: syntax error, unexpected keyword_when, expecting keyword_end
				when 'select_one'
				    ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:140: syntax error, unexpected keyword_when, expecting keyword_end
				when 'select_mutiple'
				    ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:160: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:163: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:183: syntax error, unexpected keyword_end, expecting '}'):
  app/controllers/sms_responses_controller.rb:35:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.7ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.9ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:26:09 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 20:26:10', `updated_at` = '2013-02-23 20:26:10' WHERE `users`.`id` = 1
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.6ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
GETING SENDER INFO
SENDER INFO
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name[0m
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!9 1.5 2.bc 3.d", "9", "1.5 2.bc 3.d", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
"!9 1.5 2.bc 3.d"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.6ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
Completed 500 Internal Server Error in 423ms

NoMethodError (undefined method `incoming_answer' for #<Class:0x007fca76188e48>):
  app/models/sms_response.rb:123:in `block in get_answers'
  app/models/sms_response.rb:103:in `each'
  app/models/sms_response.rb:103:in `each_with_index'
  app/models/sms_response.rb:103:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:35:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:41:10 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 20:41:10', `updated_at` = '2013-02-23 20:41:10' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!9 1.5 2.bc 3.d", "9", "1.5 2.bc 3.d", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.7ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
"!9 1.5 2.bc 3.d"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
incoming answer
5
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
"5"
is an integer
5
is an integer
Completed 500 Internal Server Error in 415ms

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/models/sms_response.rb:173:in `add_answer'
  app/models/sms_response.rb:129:in `block in get_answers'
  app/models/sms_response.rb:103:in `each'
  app/models/sms_response.rb:103:in `each_with_index'
  app/models/sms_response.rb:103:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:35:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:42:36 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 20:42:36', `updated_at` = '2013-02-23 20:42:36' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
GETING SENDER INFO
SENDER INFO
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name[0m
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
Completed 500 Internal Server Error in 230ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:126: syntax error, unexpected '='
					if int !== nil
					          ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:135: syntax error, unexpected keyword_when, expecting keyword_end
				when 'select_one'
				    ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:145: syntax error, unexpected keyword_when, expecting keyword_end
				when 'select_mutiple'
				    ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:165: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:168: syntax error, unexpected keyword_end, expecting '}'
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:188: syntax error, unexpected keyword_end, expecting '}'):
  app/controllers/sms_responses_controller.rb:35:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:43:02 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 20:43:02', `updated_at` = '2013-02-23 20:43:02' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!9 1.5 2.bc 3.d", "9", "1.5 2.bc 3.d", nil]
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.6ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
"!9 1.5 2.bc 3.d"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
incoming answer
5
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
"5"
5
is an integer
Completed 500 Internal Server Error in 422ms

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/models/sms_response.rb:172:in `add_answer'
  app/models/sms_response.rb:128:in `block in get_answers'
  app/models/sms_response.rb:103:in `each'
  app/models/sms_response.rb:103:in `each_with_index'
  app/models/sms_response.rb:103:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:35:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.0ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:44:30 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 20:44:30', `updated_at` = '2013-02-23 20:44:30' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
GETING SENDER INFO
SENDER INFO
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name[0m
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
Completed 500 Internal Server Error in 186ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:172: syntax error, unexpected ',', expecting ')'
... == nil ? nil : code.option.id, :questioning_id => code.ques...
...                               ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:172: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
... code.questioning.id, :value => value }
...                               ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:188: syntax error, unexpected keyword_end, expecting ')'):
  app/controllers/sms_responses_controller.rb:35:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (6.6ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:45:27 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 20:45:27', `updated_at` = '2013-02-23 20:45:27' WHERE `users`.`id` = 1[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
Completed 500 Internal Server Error in 31ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:172: syntax error, unexpected ',', expecting ')'
... == nil ? nil : code.option.id, :questioning_id => code.ques...
...                               ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:172: syntax error, unexpected tASSOC, expecting tCOLON2 or '[' or '.'
... code.questioning.id, :value => value }
...                               ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:188: syntax error, unexpected keyword_end, expecting ')'):
  app/controllers/sms_responses_controller.rb:35:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (6.6ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:46:04 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 20:46:05', `updated_at` = '2013-02-23 20:46:05' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
GETING SENDER INFO
SENDER INFO
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name[0m
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!9 1.5 2.bc 3.d", "9", "1.5 2.bc 3.d", nil]
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
"!9 1.5 2.bc 3.d"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
5
is an integer
incoming answer
bc
  [1m[36mSmsCode Load (0.6ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
"bc"
incoming answer
d
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
"d"
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
sms.error.system
{:message=>"!9 1.5 2.bc 3.d"}
Completed 500 Internal Server Error in 537ms

NoMethodError (undefined method `gsub' for #<Hash:0x007fca7610cb68>):
  app/models/sms/adapters/isms_adapter.rb:38:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:59:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:58:in `each'
  app/models/sms/adapters/isms_adapter.rb:58:in `get_reply'
  app/controllers/sms_responses_controller.rb:62:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 21:47:23 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 20:47:23', `updated_at` = '2013-02-23 20:47:23' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!9 1.5 2.c 3.d", "9", "1.5 2.c 3.d", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.2ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.6ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
"!9 1.5 2.c 3.d"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
incoming answer
5
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
"5"
5
is an integer
incoming answer
c
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
answering!
"c"
incoming answer
d
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
"d"
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
sms.error.system
{:message=>"!9 1.5 2.c 3.d"}
Completed 500 Internal Server Error in 542ms

NoMethodError (undefined method `gsub' for #<Hash:0x007fca7610cb68>):
  app/models/sms/adapters/isms_adapter.rb:38:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:59:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:58:in `each'
  app/models/sms/adapters/isms_adapter.rb:58:in `get_reply'
  app/controllers/sms_responses_controller.rb:62:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (45.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (52.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 22:02:13 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.6ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 21:02:13', `updated_at` = '2013-02-23 21:02:13' WHERE `users`.`id` = 1
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
GETING SENDER INFO
SENDER INFO
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name[0m
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!9 1.5 2.c 3.d", "9", "1.5 2.c 3.d", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
"!9 1.5 2.c 3.d"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
5
is an integer
incoming answer
c
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
"c"
incoming answer
d
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
"d"
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.2ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (1.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
sms.error.system
{:message=>"!9 1.5 2.c 3.d"}
[#<Sms::Message:0x007fca743a3360 @direction=:outgoing, @to=["+243816107022"], @body={:general=>"DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <%{message}>.", :multiple_users=>"Nous avons reÃ§u <%{message}>."}>]
Completed 500 Internal Server Error in 630ms

NoMethodError (undefined method `gsub' for #<Hash:0x007fca7610cb68>):
  app/models/sms/adapters/isms_adapter.rb:38:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:60:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:59:in `each'
  app/models/sms/adapters/isms_adapter.rb:59:in `get_reply'
  app/controllers/sms_responses_controller.rb:62:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 22:40:56 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 21:40:56', `updated_at` = '2013-02-23 21:40:56' WHERE `users`.`id` = 1[0m
  [1m[35m (0.7ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!9 1.5 2.c 3.d", "9", "1.5 2.c 3.d", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
"!9 1.5 2.c 3.d"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
incoming answer
5
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
"5"
5
is an integer
incoming answer
c
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
answering!
"c"
incoming answer
d
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
"d"
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
sms.error.system
{:message=>"!9 1.5 2.c 3.d"}
[#<Sms::Message:0x007fca744b4c68 @direction=:outgoing, @to=["+243816107022"], @body={:general=>"DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <%{message}>.", :multiple_users=>"Nous avons reÃ§u <%{message}>."}>]
message
#<Sms::Message:0x007fca744b4c68 @direction=:outgoing, @to=["+243816107022"], @body={:general=>"DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <%{message}>.", :multiple_users=>"Nous avons reÃ§u <%{message}>."}>
Completed 500 Internal Server Error in 611ms

NoMethodError (undefined method `gsub' for #<Hash:0x007fca7610cb68>):
  app/models/sms/adapters/isms_adapter.rb:40:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:62:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:61:in `each'
  app/models/sms/adapters/isms_adapter.rb:61:in `get_reply'
  app/controllers/sms_responses_controller.rb:62:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:01:47 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 22:01:48', `updated_at` = '2013-02-23 22:01:48' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
GETING SENDER INFO
SENDER INFO
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name[0m
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!9 1.5 2.c 3.d", "9", "1.5 2.c 3.d", nil]
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.6ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
"!9 1.5 2.c 3.d"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
5
is an integer
incoming answer
c
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
"c"
incoming answer
d
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
"d"
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.2ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
sms.error.system
{:message=>"!9 1.5 2.c 3.d"}
#<Sms::Message:0x007fca761b39b8>
[#<Sms::Message:0x007fca761b39b8 @direction=:outgoing, @to=["+243816107022"], @body={:general=>"DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <%{message}>.", :multiple_users=>"Nous avons reÃ§u <%{message}>."}>]
message
#<Sms::Message:0x007fca761b39b8 @direction=:outgoing, @to=["+243816107022"], @body={:general=>"DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <%{message}>.", :multiple_users=>"Nous avons reÃ§u <%{message}>."}>
Completed 500 Internal Server Error in 577ms

NoMethodError (undefined method `gsub' for #<Hash:0x007fca7610cb68>):
  app/models/sms/adapters/isms_adapter.rb:41:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:63:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:62:in `each'
  app/models/sms/adapters/isms_adapter.rb:62:in `get_reply'
  app/controllers/sms_responses_controller.rb:62:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:02:14 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 22:02:14', `updated_at` = '2013-02-23 22:02:14' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
GETING SENDER INFO
SENDER INFO
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name
[#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
GETTING FIRST SENDER
#<User id: 3, login: "tester", email: "", phone: "+243816107022", password_salt: "3O09Sd17cdfBfFFSUY0", crypted_password: "eb0e48a41a68eb688a86dd32e53e15c4a1961f5472d0b1feb55...", single_access_token: "J9GAPOd0EJxdjuVpkne4", perishable_token: "CWJCXknnmkOFKXXhxTp", persistence_token: "34d64fff97578047f785858edfb25c0eca55c73d590ca88e369...", created_at: "2013-01-30 08:14:01", updated_at: "2013-01-30 11:23:30", login_count: 1, notes: "", last_request_at: "2013-01-30 09:05:57", name: "Test User", phone2: nil, admin: false, current_mission_id: 1>
["!9 1.5 2.c 3.d", "9", "1.5 2.c 3.d", nil]
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
"!9 1.5 2.c 3.d"
SmsResponse(id: integer, message: string, response_id: integer, created_at: datetime, updated_at: datetime)
get answers!
incoming answer
5
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
"5"
5
is an integer
incoming answer
c
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
answering!
"c"
incoming answer
d
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
"d"
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.9ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
sms.error.system
{:message=>"!9 1.5 2.c 3.d"}
#<Sms::Message:0x007fca782c89a0 @direction=:outgoing, @to=["+243816107022"], @body={:general=>"DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <%{message}>.", :multiple_users=>"Nous avons reÃ§u <%{message}>."}>
[#<Sms::Message:0x007fca782c89a0 @direction=:outgoing, @to=["+243816107022"], @body={:general=>"DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <%{message}>.", :multiple_users=>"Nous avons reÃ§u <%{message}>."}>]
message
#<Sms::Message:0x007fca782c89a0 @direction=:outgoing, @to=["+243816107022"], @body={:general=>"DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <%{message}>.", :multiple_users=>"Nous avons reÃ§u <%{message}>."}>
Completed 500 Internal Server Error in 549ms

NoMethodError (undefined method `gsub' for #<Hash:0x007fca7610cb68>):
  app/models/sms/adapters/isms_adapter.rb:41:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:63:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:62:in `each'
  app/models/sms/adapters/isms_adapter.rb:62:in `get_reply'
  app/controllers/sms_responses_controller.rb:62:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:06:18 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 22:06:18', `updated_at` = '2013-02-23 22:06:18' WHERE `users`.`id` = 1
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.7ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.6ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
5
is an integer
incoming answer
c
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
"c"
incoming answer
d
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
"d"
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
#<Sms::Message:0x007fca743955a8 @direction=:outgoing, @to=["+243816107022"], @body={:general=>"DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <%{message}>.", :multiple_users=>"Nous avons reÃ§u <%{message}>."}>
[#<Sms::Message:0x007fca743955a8 @direction=:outgoing, @to=["+243816107022"], @body={:general=>"DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <%{message}>.", :multiple_users=>"Nous avons reÃ§u <%{message}>."}>]
message
#<Sms::Message:0x007fca743955a8 @direction=:outgoing, @to=["+243816107022"], @body={:general=>"DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <%{message}>.", :multiple_users=>"Nous avons reÃ§u <%{message}>."}>
Completed 500 Internal Server Error in 605ms

NoMethodError (undefined method `gsub' for #<Hash:0x007fca7610cb68>):
  app/models/sms/adapters/isms_adapter.rb:41:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:63:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:62:in `each'
  app/models/sms/adapters/isms_adapter.rb:62:in `get_reply'
  app/controllers/sms_responses_controller.rb:54:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:08:24 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 22:08:24', `updated_at` = '2013-02-23 22:08:24' WHERE `users`.`id` = 1[0m
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
get answers!
incoming answer
5
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
"5"
5
is an integer
incoming answer
c
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
answering!
"c"
incoming answer
d
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
"d"
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (1.2ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.2ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
message:
{:message=>"sms.error.system", :vars=>{:message=>"!9 1.5 2.c 3.d"}}
#<Sms::Message:0x007fca743eca88 @direction=:outgoing, @to=["+243816107022"], @body={:general=>"DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <%{message}>.", :multiple_users=>"Nous avons reÃ§u <%{message}>."}>
[#<Sms::Message:0x007fca743eca88 @direction=:outgoing, @to=["+243816107022"], @body={:general=>"DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <%{message}>.", :multiple_users=>"Nous avons reÃ§u <%{message}>."}>]
message
#<Sms::Message:0x007fca743eca88 @direction=:outgoing, @to=["+243816107022"], @body={:general=>"DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <%{message}>.", :multiple_users=>"Nous avons reÃ§u <%{message}>."}>
Completed 500 Internal Server Error in 569ms

NoMethodError (undefined method `gsub' for #<Hash:0x007fca7610cb68>):
  app/models/sms/adapters/isms_adapter.rb:41:in `deliver'
  app/models/sms/adapters/isms_adapter.rb:63:in `block in get_reply'
  app/models/sms/adapters/isms_adapter.rb:62:in `each'
  app/models/sms/adapters/isms_adapter.rb:62:in `get_reply'
  app/controllers/sms_responses_controller.rb:56:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (6.9ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:10:51 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 22:10:51', `updated_at` = '2013-02-23 22:10:51' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
5
is an integer
incoming answer
c
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
"c"
incoming answer
d
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
"d"
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.5ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
message:
{:message=>"sms.error.system.general", :vars=>{:message=>"!9 1.5 2.c 3.d"}}
#<Sms::Message:0x007fca74505f78 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.c 3.d>.">
[#<Sms::Message:0x007fca74505f78 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.c 3.d>.">]
message
#<Sms::Message:0x007fca74505f78 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.c 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Il%20y%20avait%20une%20erreur%20dans%20le%20syt%C3%A8me.%20Veuillez%20et%20recommencez%20votre%20message.%20%20Nous%20avons%20re%C3%A7u%20%3C!9%201.5%202.c%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 606ms (Views: 1.9ms | ActiveRecord: 43.8ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:12:41 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 22:12:41', `updated_at` = '2013-02-23 22:12:41' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
get answers!
incoming answer
5
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.5ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
"5"
5
is an integer
incoming answer
c
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
answering!
"c"
incoming answer
d
  [1m[35mSmsCode Load (0.7ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
"d"
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (0.3ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.2ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.6ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
message:
{:message=>"sms.error.system.general", :vars=>{:message=>"!9 1.5 2.c 3.d"}}
#<Sms::Message:0x007fca76164160 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.c 3.d>.">
#<Sms::Message:0x007fca76164160 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.c 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Il%20y%20avait%20une%20erreur%20dans%20le%20syt%C3%A8me.%20Veuillez%20et%20recommencez%20votre%20message.%20%20Nous%20avons%20re%C3%A7u%20%3C!9%201.5%202.c%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 570ms (Views: 2.0ms | ActiveRecord: 42.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:15:38 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 22:15:38', `updated_at` = '2013-02-23 22:15:38' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
5
is an integer
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>"5"}]
incoming answer
c
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
"c"
incoming answer
d
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
"d"
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.2ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.7ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>"5"}, "2", {:relevant=>"true", :response_id=>"", :option_id=>22, :questioning_id=>51, :value=>nil}]
message:
{:message=>"sms.error.system.general", :vars=>{:message=>"!9 1.5 2.c 3.d"}}
#<Sms::Message:0x007fca761e9ba8 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.c 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Il%20y%20avait%20une%20erreur%20dans%20le%20syt%C3%A8me.%20Veuillez%20et%20recommencez%20votre%20message.%20%20Nous%20avons%20re%C3%A7u%20%3C!9%201.5%202.c%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 547ms (Views: 1.9ms | ActiveRecord: 41.8ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:16:54 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 22:16:54', `updated_at` = '2013-02-23 22:16:54' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
get answers!
incoming answer
5
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
"5"
5
is an integer
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>"5"}]
incoming answer
c
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
answering!
"c"
incoming answer
d
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
"d"
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>"5"}, "2", {:relevant=>"true", :response_id=>"", :option_id=>22, :questioning_id=>51, :value=>nil}]
message:
{:message=>"sms.error.system.general", :vars=>{:message=>"!9 1.5 2.c 3.d"}}
#<Sms::Message:0x007fca78534608 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.c 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Il%20y%20avait%20une%20erreur%20dans%20le%20syt%C3%A8me.%20Veuillez%20et%20recommencez%20votre%20message.%20%20Nous%20avons%20re%C3%A7u%20%3C!9%201.5%202.c%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 544ms (Views: 1.9ms | ActiveRecord: 43.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:18:05 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 22:18:05', `updated_at` = '2013-02-23 22:18:05' WHERE `users`.`id` = 1
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.7ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
5
is an integer
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}]
incoming answer
c
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
"c"
incoming answer
d
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
"d"
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.2ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}, "2", {:relevant=>"true", :response_id=>"", :option_id=>22, :questioning_id=>51, :value=>nil}]
message:
{:message=>"sms.error.system.general", :vars=>{:message=>"!9 1.5 2.c 3.d"}}
#<Sms::Message:0x007fca773a7c50 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.c 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Il%20y%20avait%20une%20erreur%20dans%20le%20syt%C3%A8me.%20Veuillez%20et%20recommencez%20votre%20message.%20%20Nous%20avons%20re%C3%A7u%20%3C!9%201.5%202.c%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 586ms (Views: 2.6ms | ActiveRecord: 41.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:23:15 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 22:23:15', `updated_at` = '2013-02-23 22:23:15' WHERE `users`.`id` = 1[0m
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.6ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
get answers!
incoming answer
5
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
"5"
integer
5
is an integer
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}]
incoming answer
c
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
answering!
"c"
select_multiple
incoming answer
d
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
"d"
select_one
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.2ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}, "2", {:relevant=>"true", :response_id=>"", :option_id=>22, :questioning_id=>51, :value=>nil}]
message:
{:message=>"sms.error.system.general", :vars=>{:message=>"!9 1.5 2.c 3.d"}}
#<Sms::Message:0x007fca742c14d8 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.c 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Il%20y%20avait%20une%20erreur%20dans%20le%20syt%C3%A8me.%20Veuillez%20et%20recommencez%20votre%20message.%20%20Nous%20avons%20re%C3%A7u%20%3C!9%201.5%202.c%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.0ms)
Completed 200 OK in 601ms (Views: 1.9ms | ActiveRecord: 42.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:24:52 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 22:24:52', `updated_at` = '2013-02-23 22:24:52' WHERE `users`.`id` = 1
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.7ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
integer
5
is an integer
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}]
incoming answer
c
  [1m[36mSmsCode Load (0.6ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
"c"
select_multiple
incoming answer
d
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
"d"
select_one
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}, "2", {:relevant=>"true", :response_id=>"", :option_id=>22, :questioning_id=>51, :value=>nil}]
message:
{:message=>"sms.error.system.general", :vars=>{:message=>"!9 1.5 2.c 3.d"}}
#<Sms::Message:0x007fca7421ae08 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.c 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Il%20y%20avait%20une%20erreur%20dans%20le%20syt%C3%A8me.%20Veuillez%20et%20recommencez%20votre%20message.%20%20Nous%20avons%20re%C3%A7u%20%3C!9%201.5%202.c%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 627ms (Views: 2.2ms | ActiveRecord: 44.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:27:25 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 22:27:25', `updated_at` = '2013-02-23 22:27:25' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.2ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
get answers!
incoming answer
5
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
"5"
integer
answering integer
5
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}]
incoming answer
c
  [1m[35mSmsCode Load (0.8ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
answering!
"c"
select_multiple
incoming answer
d
  [1m[35mSmsCode Load (0.7ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
"d"
select_one
answering single
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}, "2", {:relevant=>"true", :response_id=>"", :option_id=>22, :questioning_id=>51, :value=>nil}]
message:
{:message=>"sms.error.system.general", :vars=>{:message=>"!9 1.5 2.c 3.d"}}
#<Sms::Message:0x007fca74476d28 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.c 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Il%20y%20avait%20une%20erreur%20dans%20le%20syt%C3%A8me.%20Veuillez%20et%20recommencez%20votre%20message.%20%20Nous%20avons%20re%C3%A7u%20%3C!9%201.5%202.c%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 624ms (Views: 2.7ms | ActiveRecord: 42.9ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:28:20 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 22:28:20', `updated_at` = '2013-02-23 22:28:20' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
integer
answering integer
5
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}]
incoming answer
c
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
"c"
select_multiple
answering multiple
["c"]
Completed 500 Internal Server Error in 434ms

NoMethodError (undefined method `option' for "c":String):
  app/models/sms_response.rb:166:in `add_answer'
  app/models/sms_response.rb:146:in `block (2 levels) in get_answers'
  app/models/sms_response.rb:143:in `each'
  app/models/sms_response.rb:143:in `block in get_answers'
  app/models/sms_response.rb:95:in `each'
  app/models/sms_response.rb:95:in `each_with_index'
  app/models/sms_response.rb:95:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:29:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (6.9ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:29:47 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 22:29:47', `updated_at` = '2013-02-23 22:29:47' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.2ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
get answers!
incoming answer
5
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
"5"
integer
answering integer
5
code:
#<SmsCode:0x007fca743408c8>
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}]
incoming answer
c
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
answering!
"c"
select_multiple
answering multiple
["c"]
code:
c
Completed 500 Internal Server Error in 401ms

NoMethodError (undefined method `option' for "c":String):
  app/models/sms_response.rb:169:in `add_answer'
  app/models/sms_response.rb:146:in `block (2 levels) in get_answers'
  app/models/sms_response.rb:143:in `each'
  app/models/sms_response.rb:143:in `block in get_answers'
  app/models/sms_response.rb:95:in `each'
  app/models/sms_response.rb:95:in `each_with_index'
  app/models/sms_response.rb:95:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:29:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:31:17 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 22:31:17', `updated_at` = '2013-02-23 22:31:17' WHERE `users`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.8ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
integer
answering integer
5
code:
#<SmsCode:0x007fca74545650>
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}]
incoming answer
c
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
"c"
select_multiple
answering multiple
["c"]
code:
#<SmsCode:0x007fca75af4b90>
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1[0m
  [1m[35mTranslation Load (0.3ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}, "1", {:relevant=>"true", :response_id=>"", :option_id=>30, :questioning_id=>50, :value=>"c"}]
incoming answer
d
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
"d"
select_one
answering single
code:
#<SmsCode:0x007fca771f0308>
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.9ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}, "1", {:relevant=>"true", :response_id=>"", :option_id=>30, :questioning_id=>50, :value=>"c"}, "2", {:relevant=>"true", :response_id=>"", :option_id=>22, :questioning_id=>51, :value=>nil}]
  [1m[36mSetting Load (0.3ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC
  [1m[36mMission Load (0.7ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 9 ORDER BY rank
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `responses` (`created_at`, `form_id`, `mission_id`, `reviewed`, `source`, `updated_at`, `user_id`) VALUES ('2013-02-23 22:31:18', 9, 1, 0, 'sms', '2013-02-23 22:31:18', 3)[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE `forms` SET `responses_count` = COALESCE(`responses_count`, 0) + 1 WHERE `forms`.`id` = 9
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 22:31:18', NULL, NULL, NULL, 49, 87, NULL, '2013-02-23 22:31:18', 5)[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 22:31:18', NULL, NULL, 30, 50, 87, NULL, '2013-02-23 22:31:18', 'c')
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 22:31:18', NULL, NULL, 22, 51, 87, NULL, '2013-02-23 22:31:18', NULL)[0m
  [1m[35m (1.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_responses` (`created_at`, `message`, `response_id`, `updated_at`) VALUES ('2013-02-23 22:31:18', '!9 1.5 2.c 3.d', 87, '2013-02-23 22:31:18')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
message:
{:message=>"sms.success", :vars=>{:message=>"!9 1.5 2.c 3.d"}}
#<Sms::Message:0x007fca743bc860 @direction=:outgoing, @to=["+243816107022"], @body="Succes! Votre message a Ã©tÃ© reÃ§u: <!9 1.5 2.c 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=Succes!%20Votre%20message%20a%20%C3%A9t%C3%A9%20re%C3%A7u:%20%3C!9%201.5%202.c%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 810ms (Views: 2.1ms | ActiveRecord: 68.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:32:24 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 22:32:24', `updated_at` = '2013-02-23 22:32:24' WHERE `users`.`id` = 1
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.6ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
integer
answering integer
5
code:
#<SmsCode:0x007fca74a7d410>
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}]
incoming answer
acd
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
"acd"
select_multiple
answering multiple
["a", "c", "d"]
code:
#<SmsCode:0x007fca7422bf28>
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.6ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}, "1", {:relevant=>"true", :response_id=>"", :option_id=>28, :questioning_id=>50, :value=>"a"}]
code:
#<SmsCode:0x007fca74229890>
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1
  [1m[36mTranslation Load (0.7ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}, "1", {:relevant=>"true", :response_id=>"", :option_id=>28, :questioning_id=>50, :value=>"a"}, "1", {:relevant=>"true", :response_id=>"", :option_id=>30, :questioning_id=>50, :value=>"c"}]
code:
#<SmsCode:0x007fca74230a28>
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)[0m
  [1m[35mOptionSetting Load (0.2ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}, "1", {:relevant=>"true", :response_id=>"", :option_id=>28, :questioning_id=>50, :value=>"a"}, "1", {:relevant=>"true", :response_id=>"", :option_id=>30, :questioning_id=>50, :value=>"c"}, "1", {:relevant=>"true", :response_id=>"", :option_id=>31, :questioning_id=>50, :value=>"d"}]
incoming answer
d
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
"d"
select_one
answering single
code:
#<SmsCode:0x007fca745267c8>
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (0.7ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
answers:
["0", {:relevant=>"true", :response_id=>"", :option_id=>nil, :questioning_id=>49, :value=>5}, "1", {:relevant=>"true", :response_id=>"", :option_id=>28, :questioning_id=>50, :value=>"a"}, "1", {:relevant=>"true", :response_id=>"", :option_id=>30, :questioning_id=>50, :value=>"c"}, "1", {:relevant=>"true", :response_id=>"", :option_id=>31, :questioning_id=>50, :value=>"d"}, "2", {:relevant=>"true", :response_id=>"", :option_id=>22, :questioning_id=>51, :value=>nil}]
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.8ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 9 ORDER BY rank[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `responses` (`created_at`, `form_id`, `mission_id`, `reviewed`, `source`, `updated_at`, `user_id`) VALUES ('2013-02-23 22:32:24', 9, 1, 0, 'sms', '2013-02-23 22:32:24', 3)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `forms` SET `responses_count` = COALESCE(`responses_count`, 0) + 1 WHERE `forms`.`id` = 9[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 22:32:24', NULL, NULL, NULL, 49, 88, NULL, '2013-02-23 22:32:24', 5)
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 22:32:24', NULL, NULL, 31, 50, 88, NULL, '2013-02-23 22:32:24', 'd')[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 22:32:24', NULL, NULL, 22, 51, 88, NULL, '2013-02-23 22:32:24', NULL)
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_responses` (`created_at`, `message`, `response_id`, `updated_at`) VALUES ('2013-02-23 22:32:25', '!9 1.5 2.acd 3.d', 88, '2013-02-23 22:32:25')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
message:
{:message=>"sms.success", :vars=>{:message=>"!9 1.5 2.acd 3.d"}}
#<Sms::Message:0x007fca74450ba0 @direction=:outgoing, @to=["+243816107022"], @body="Succes! Votre message a Ã©tÃ© reÃ§u: <!9 1.5 2.acd 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=Succes!%20Votre%20message%20a%20%C3%A9t%C3%A9%20re%C3%A7u:%20%3C!9%201.5%202.acd%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 856ms (Views: 2.4ms | ActiveRecord: 72.6ms)


Started GET "/responses" for 127.0.0.1 at 2013-02-23 23:32:40 +0100
Processing by ResponsesController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 22:32:40', `updated_at` = '2013-02-23 22:32:40' WHERE `users`.`id` = 1[0m
  [1m[35m (2.2ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.7ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.5ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.4ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (1.0ms)
  Rendered searches/_form.html.erb (0.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (109.8ms)
  Rendered responses/index.html.erb within layouts/application (123.2ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 260ms (Views: 171.7ms | ActiveRecord: 14.8ms)


Started GET "/responses/88" for 127.0.0.1 at 2013-02-23 23:32:46 +0100
Processing by ResponsesController#show as HTML
  Parameters: {"id"=>"88"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 22:32:46', `updated_at` = '2013-02-23 22:32:46' WHERE `users`.`id` = 1[0m
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.2ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (0.4ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`id` = 88 ORDER BY responses.created_at DESC LIMIT 1
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9)[0m
  [1m[35mFormType Load (0.4ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35mSQL (1.1ms)[0m  SELECT `answers`.`id` AS t0_r0, `answers`.`response_id` AS t0_r1, `answers`.`option_id` AS t0_r2, `answers`.`value` AS t0_r3, `answers`.`created_at` AS t0_r4, `answers`.`updated_at` AS t0_r5, `answers`.`questioning_id` AS t0_r6, `answers`.`time_value` AS t0_r7, `answers`.`date_value` AS t0_r8, `answers`.`datetime_value` AS t0_r9, `questionings`.`id` AS t1_r0, `questionings`.`question_id` AS t1_r1, `questionings`.`form_id` AS t1_r2, `questionings`.`rank` AS t1_r3, `questionings`.`required` AS t1_r4, `questionings`.`hidden` AS t1_r5, `questionings`.`created_at` AS t1_r6, `questionings`.`updated_at` AS t1_r7 FROM `answers` LEFT OUTER JOIN `questionings` ON `questionings`.`id` = `answers`.`questioning_id` WHERE `answers`.`response_id` IN (88) ORDER BY questionings.rank
  [1m[36mChoice Load (0.5ms)[0m  [1mSELECT `choices`.* FROM `choices` WHERE `choices`.`answer_id` IN (1668, 1669, 1670)[0m
  [1m[35mOption Load (0.5ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (31, 22)
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22, 31)[0m
  [1m[35mOptionSetting Load (0.7ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22, 31)
  [1m[36mOptionSet Load (0.5ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 8) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 8) ORDER BY code
  [1m[36mQuestioning Load (0.6ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 28, 32)[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCondition Load (0.3ms)[0m  [1mSELECT `conditions`.* FROM `conditions` WHERE `conditions`.`questioning_id` IN (49, 50, 51)[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` IN (31, 32, 26) ORDER BY code
  [1m[36mQuestionType Load (0.5ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` IN (14, 19, 18) ORDER BY long_name[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Question' AND `translations`.`obj_id` IN (31, 32, 26)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8, 6) ORDER BY name[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (8, 6)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 28, 29, 30, 31, 19, 20, 21, 22)[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (19, 20, 21, 22, 23, 28, 29, 30, 31)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (19, 20, 21, 22, 23, 28, 29, 30, 31)[0m
  [1m[35mOptionSet Load (0.5ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name
  [1m[36mQuestion Load (0.7ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code[0m
  [1m[35mQuestioning Load (0.6ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  Rendered layouts/_location_picker.html.erb (0.3ms)
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (0.5ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE (users.id IN (SELECT user_id FROM assignments WHERE mission_id = 1)) ORDER BY users.name
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 9 ORDER BY rank[0m
  Rendered responses/_choice.html.erb (3.7ms)
  Rendered responses/_answer.html.erb (72.3ms)
  Rendered responses/form.html.erb within layouts/application (85.3ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 194ms (Views: 100.0ms | ActiveRecord: 22.8ms)


Started GET "/responses" for 127.0.0.1 at 2013-02-23 23:33:12 +0100
Processing by ResponsesController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 22:33:12', `updated_at` = '2013-02-23 22:33:12' WHERE `users`.`id` = 1
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.4ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.5ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.7ms)
  Rendered searches/_form.html.erb (0.1ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (39.9ms)
  Rendered responses/index.html.erb within layouts/application (50.9ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 94ms (Views: 62.8ms | ActiveRecord: 8.3ms)


Started GET "/responses/new?utf8=%E2%9C%93&form_id=9" for 127.0.0.1 at 2013-02-23 23:33:18 +0100
Processing by ResponsesController#new as HTML
  Parameters: {"utf8"=>"âœ“", "form_id"=>"9"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 22:33:18', `updated_at` = '2013-02-23 22:33:18' WHERE `users`.`id` = 1
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mForm Load (2.2ms)[0m  [1mSELECT DISTINCT `forms`.id FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` LEFT OUTER JOIN `questionings` ON `questionings`.`form_id` = `forms`.`id` LEFT OUTER JOIN `forms` `forms_questionings` ON `forms_questionings`.`id` = `questionings`.`form_id` LEFT OUTER JOIN `conditions` ON `conditions`.`questioning_id` = `questionings`.`id` LEFT OUTER JOIN `questions` ON `questions`.`id` = `questionings`.`question_id` LEFT OUTER JOIN `question_types` ON `question_types`.`id` = `questions`.`question_type_id` LEFT OUTER JOIN `translations` ON `translations`.`obj_id` = `questions`.`id` AND `translations`.`class_name` = 'Question' LEFT OUTER JOIN `option_sets` ON `option_sets`.`id` = `questions`.`option_set_id` LEFT OUTER JOIN `option_settings` ON `option_settings`.`option_set_id` = `option_sets`.`id` LEFT OUTER JOIN `options` ON `options`.`id` = `option_settings`.`option_id` LEFT OUTER JOIN `translations` `translations_options` ON `translations_options`.`obj_id` = `options`.`id` AND `translations_options`.`class_name` = 'Option' WHERE `forms`.`id` = 9 ORDER BY questionings.rank LIMIT 1[0m
  [1m[35mSQL (9.0ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4, `questionings`.`id` AS t2_r0, `questionings`.`question_id` AS t2_r1, `questionings`.`form_id` AS t2_r2, `questionings`.`rank` AS t2_r3, `questionings`.`required` AS t2_r4, `questionings`.`hidden` AS t2_r5, `questionings`.`created_at` AS t2_r6, `questionings`.`updated_at` AS t2_r7, `forms_questionings`.`id` AS t3_r0, `forms_questionings`.`name` AS t3_r1, `forms_questionings`.`created_at` AS t3_r2, `forms_questionings`.`updated_at` AS t3_r3, `forms_questionings`.`published` AS t3_r4, `forms_questionings`.`form_type_id` AS t3_r5, `forms_questionings`.`downloads` AS t3_r6, `forms_questionings`.`questionings_count` AS t3_r7, `forms_questionings`.`responses_count` AS t3_r8, `forms_questionings`.`mission_id` AS t3_r9, `conditions`.`id` AS t4_r0, `conditions`.`questioning_id` AS t4_r1, `conditions`.`ref_qing_id` AS t4_r2, `conditions`.`op` AS t4_r3, `conditions`.`value` AS t4_r4, `conditions`.`created_at` AS t4_r5, `conditions`.`updated_at` AS t4_r6, `conditions`.`option_id` AS t4_r7, `questions`.`id` AS t5_r0, `questions`.`code` AS t5_r1, `questions`.`option_set_id` AS t5_r2, `questions`.`created_at` AS t5_r3, `questions`.`updated_at` AS t5_r4, `questions`.`question_type_id` AS t5_r5, `questions`.`minimum` AS t5_r6, `questions`.`maximum` AS t5_r7, `questions`.`maxstrictly` AS t5_r8, `questions`.`minstrictly` AS t5_r9, `questions`.`mission_id` AS t5_r10, `question_types`.`id` AS t6_r0, `question_types`.`name` AS t6_r1, `question_types`.`created_at` AS t6_r2, `question_types`.`updated_at` AS t6_r3, `question_types`.`odk_name` AS t6_r4, `question_types`.`odk_tag` AS t6_r5, `question_types`.`long_name` AS t6_r6, `translations`.`id` AS t7_r0, `translations`.`str` AS t7_r1, `translations`.`created_at` AS t7_r2, `translations`.`updated_at` AS t7_r3, `translations`.`fld` AS t7_r4, `translations`.`class_name` AS t7_r5, `translations`.`obj_id` AS t7_r6, `translations`.`language` AS t7_r7, `option_sets`.`id` AS t8_r0, `option_sets`.`name` AS t8_r1, `option_sets`.`created_at` AS t8_r2, `option_sets`.`updated_at` AS t8_r3, `option_sets`.`ordering` AS t8_r4, `option_sets`.`mission_id` AS t8_r5, `options`.`id` AS t9_r0, `options`.`value` AS t9_r1, `options`.`created_at` AS t9_r2, `options`.`updated_at` AS t9_r3, `options`.`mission_id` AS t9_r4, `translations_options`.`id` AS t10_r0, `translations_options`.`str` AS t10_r1, `translations_options`.`created_at` AS t10_r2, `translations_options`.`updated_at` AS t10_r3, `translations_options`.`fld` AS t10_r4, `translations_options`.`class_name` AS t10_r5, `translations_options`.`obj_id` AS t10_r6, `translations_options`.`language` AS t10_r7 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` LEFT OUTER JOIN `questionings` ON `questionings`.`form_id` = `forms`.`id` LEFT OUTER JOIN `forms` `forms_questionings` ON `forms_questionings`.`id` = `questionings`.`form_id` LEFT OUTER JOIN `conditions` ON `conditions`.`questioning_id` = `questionings`.`id` LEFT OUTER JOIN `questions` ON `questions`.`id` = `questionings`.`question_id` LEFT OUTER JOIN `question_types` ON `question_types`.`id` = `questions`.`question_type_id` LEFT OUTER JOIN `translations` ON `translations`.`obj_id` = `questions`.`id` AND `translations`.`class_name` = 'Question' LEFT OUTER JOIN `option_sets` ON `option_sets`.`id` = `questions`.`option_set_id` LEFT OUTER JOIN `option_settings` ON `option_settings`.`option_set_id` = `option_sets`.`id` LEFT OUTER JOIN `options` ON `options`.`id` = `option_settings`.`option_id` LEFT OUTER JOIN `translations` `translations_options` ON `translations_options`.`obj_id` = `options`.`id` AND `translations_options`.`class_name` = 'Option' WHERE `forms`.`id` = 9 AND `forms`.`id` IN (9) ORDER BY questionings.rank
  Rendered layouts/_location_picker.html.erb (0.3ms)
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (0.5ms)
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (users.id IN (SELECT user_id FROM assignments WHERE mission_id = 1)) ORDER BY users.name[0m
  Rendered responses/_choice.html.erb (3.6ms)
  Rendered responses/_answer.html.erb (9.8ms)
  Rendered responses/form.html.erb within layouts/application (21.4ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 91ms (Views: 36.2ms | ActiveRecord: 18.4ms)


Started POST "/responses" for 127.0.0.1 at 2013-02-23 23:33:45 +0100
Processing by ResponsesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"5BYfl3vy6tMIjg8gM1iq2NeE2m8smA/2z36MbOAlDWE=", "response"=>{"form_id"=>"9", "user_id"=>"3", "all_answers"=>{"0"=>{"response_id"=>"", "questioning_id"=>"49", "relevant"=>"true", "value"=>"7"}, "1"=>{"response_id"=>"", "questioning_id"=>"50", "relevant"=>"true", "all_choices"=>{"0"=>{"answer_id"=>"", "option_id"=>"28", "checked"=>"1"}, "1"=>{"answer_id"=>"", "option_id"=>"29", "checked"=>"1"}, "2"=>{"answer_id"=>"", "option_id"=>"30", "checked"=>"0"}, "3"=>{"answer_id"=>"", "option_id"=>"31", "checked"=>"1"}, "4"=>{"answer_id"=>"", "option_id"=>"23", "checked"=>"0"}}}, "2"=>{"response_id"=>"", "questioning_id"=>"51", "relevant"=>"true", "option_id"=>"22"}}}, "commit"=>"Save"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 22:33:45', `updated_at` = '2013-02-23 22:33:45' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 3 ORDER BY users.name LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mForm Load (0.7ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 9 ORDER BY rank[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.6ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `responses` (`created_at`, `form_id`, `mission_id`, `reviewed`, `source`, `updated_at`, `user_id`) VALUES ('2013-02-23 22:33:46', 9, 1, 0, 'web', '2013-02-23 22:33:46', 3)
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `forms` SET `responses_count` = COALESCE(`responses_count`, 0) + 1 WHERE `forms`.`id` = 9[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 22:33:46', NULL, NULL, NULL, 49, 89, NULL, '2013-02-23 22:33:46', 7)
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 22:33:46', NULL, NULL, NULL, 50, 89, NULL, '2013-02-23 22:33:46', NULL)[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1672, '2013-02-23 22:33:46', 28, '2013-02-23 22:33:46')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1672, '2013-02-23 22:33:46', 29, '2013-02-23 22:33:46')[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1672, '2013-02-23 22:33:46', 31, '2013-02-23 22:33:46')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 22:33:46', NULL, NULL, 22, 51, 89, NULL, '2013-02-23 22:33:46', NULL)[0m
  [1m[35m (0.3ms)[0m  COMMIT
Redirected to http://0.0.0.0:3000/responses
Completed 302 Found in 58ms (ActiveRecord: 11.3ms)


Started GET "/responses" for 127.0.0.1 at 2013-02-23 23:33:46 +0100
Processing by ResponsesController#index as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 22:33:46', `updated_at` = '2013-02-23 22:33:46' WHERE `users`.`id` = 1[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.4ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.4ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (1.1ms)
  Rendered searches/_form.html.erb (0.2ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (1.0ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (38.6ms)
  Rendered responses/index.html.erb within layouts/application (54.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 96ms (Views: 66.9ms | ActiveRecord: 8.2ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:34:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (0.9ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (29.3ms)
  Rendered responses/_table_only.html.erb (37.8ms)
Completed 200 OK in 55ms (Views: 37.6ms | ActiveRecord: 4.4ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:34:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (0.9ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (34.5ms)
  Rendered responses/_table_only.html.erb (92.1ms)
Completed 200 OK in 111ms (Views: 92.2ms | ActiveRecord: 4.3ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:35:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.5ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.4ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.7ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (44.9ms)
  Rendered responses/_table_only.html.erb (54.8ms)
Completed 200 OK in 80ms (Views: 54.5ms | ActiveRecord: 6.0ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:35:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.0ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (29.9ms)
  Rendered responses/_table_only.html.erb (36.5ms)
Completed 200 OK in 54ms (Views: 35.9ms | ActiveRecord: 4.7ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:36:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.0ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (108.7ms)
  Rendered responses/_table_only.html.erb (117.0ms)
Completed 200 OK in 138ms (Views: 117.3ms | ActiveRecord: 4.5ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:36:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.5ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (32.5ms)
  Rendered responses/_table_only.html.erb (39.5ms)
Completed 200 OK in 57ms (Views: 39.4ms | ActiveRecord: 4.8ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:37:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.0ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (32.5ms)
  Rendered responses/_table_only.html.erb (39.7ms)
Completed 200 OK in 57ms (Views: 39.6ms | ActiveRecord: 4.4ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:37:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.4ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (30.0ms)
  Rendered responses/_table_only.html.erb (36.9ms)
Completed 200 OK in 54ms (Views: 36.8ms | ActiveRecord: 4.7ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:38:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.0ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (83.1ms)
  Rendered responses/_table_only.html.erb (90.5ms)
Completed 200 OK in 109ms (Views: 90.4ms | ActiveRecord: 4.4ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:38:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.0ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (30.8ms)
  Rendered responses/_table_only.html.erb (37.7ms)
Completed 200 OK in 55ms (Views: 37.6ms | ActiveRecord: 4.4ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:39:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.0ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (29.2ms)
  Rendered responses/_table_only.html.erb (36.5ms)
Completed 200 OK in 54ms (Views: 36.0ms | ActiveRecord: 4.7ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:39:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.4ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (32.5ms)
  Rendered responses/_table_only.html.erb (39.3ms)
Completed 200 OK in 57ms (Views: 39.2ms | ActiveRecord: 4.6ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:40:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.0ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.7ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (85.3ms)
  Rendered responses/_table_only.html.erb (92.7ms)
Completed 200 OK in 112ms (Views: 92.4ms | ActiveRecord: 4.5ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:40:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (0.9ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.6ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (34.3ms)
  Rendered responses/_table_only.html.erb (41.3ms)
Completed 200 OK in 59ms (Views: 40.9ms | ActiveRecord: 4.4ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:41:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.2ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.6ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (30.5ms)
  Rendered responses/_table_only.html.erb (38.0ms)
Completed 200 OK in 56ms (Views: 37.9ms | ActiveRecord: 4.7ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:41:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.0ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.6ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (32.4ms)
  Rendered responses/_table_only.html.erb (39.8ms)
Completed 200 OK in 57ms (Views: 39.7ms | ActiveRecord: 4.4ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:42:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.0ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.4ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.7ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (42.7ms)
  Rendered responses/_table_only.html.erb (52.7ms)
Completed 200 OK in 78ms (Views: 52.8ms | ActiveRecord: 5.1ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:42:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.0ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.8ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (29.5ms)
  Rendered responses/_table_only.html.erb (37.5ms)
Completed 200 OK in 54ms (Views: 37.2ms | ActiveRecord: 4.4ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:43:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.4ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (29.4ms)
  Rendered responses/_table_only.html.erb (36.6ms)
Completed 200 OK in 56ms (Views: 36.0ms | ActiveRecord: 5.2ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:43:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (0.9ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (80.4ms)
  Rendered responses/_table_only.html.erb (87.6ms)
Completed 200 OK in 106ms (Views: 87.3ms | ActiveRecord: 4.4ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:44:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.6ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (31.7ms)
  Rendered responses/_table_only.html.erb (39.0ms)
Completed 200 OK in 58ms (Views: 38.9ms | ActiveRecord: 5.0ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:44:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (0.9ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.6ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (30.0ms)
  Rendered responses/_table_only.html.erb (37.2ms)
Completed 200 OK in 54ms (Views: 36.8ms | ActiveRecord: 4.9ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:45:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.1ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (28.8ms)
  Rendered responses/_table_only.html.erb (36.1ms)
Completed 200 OK in 54ms (Views: 35.8ms | ActiveRecord: 4.5ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:45:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.0ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.6ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (87.4ms)
  Rendered responses/_table_only.html.erb (95.3ms)
Completed 200 OK in 114ms (Views: 95.2ms | ActiveRecord: 4.5ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:46:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.2ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (0.9ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (33.3ms)
  Rendered responses/_table_only.html.erb (40.1ms)
Completed 200 OK in 57ms (Views: 39.7ms | ActiveRecord: 4.5ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:46:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.1ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (29.7ms)
  Rendered responses/_table_only.html.erb (37.4ms)
Completed 200 OK in 56ms (Views: 36.7ms | ActiveRecord: 5.1ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:47:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (0.9ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (32.2ms)
  Rendered responses/_table_only.html.erb (38.9ms)
Completed 200 OK in 56ms (Views: 38.8ms | ActiveRecord: 4.2ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:47:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (2.1ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (32.1ms)
  Rendered responses/_table_only.html.erb (39.2ms)
Completed 200 OK in 111ms (Views: 39.1ms | ActiveRecord: 5.6ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:48:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.1ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (30.7ms)
  Rendered responses/_table_only.html.erb (38.0ms)
Completed 200 OK in 56ms (Views: 37.9ms | ActiveRecord: 4.4ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:48:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.0ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (30.8ms)
  Rendered responses/_table_only.html.erb (38.3ms)
Completed 200 OK in 58ms (Views: 38.5ms | ActiveRecord: 4.3ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:49:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.0ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.4ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (80.8ms)
  Rendered responses/_table_only.html.erb (87.6ms)
Completed 200 OK in 107ms (Views: 87.9ms | ActiveRecord: 4.4ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:49:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.0ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.6ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (29.3ms)
  Rendered responses/_table_only.html.erb (36.6ms)
Completed 200 OK in 55ms (Views: 36.4ms | ActiveRecord: 4.5ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:50:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.0ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.4ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (33.0ms)
  Rendered responses/_table_only.html.erb (40.2ms)
Completed 200 OK in 58ms (Views: 40.0ms | ActiveRecord: 4.6ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:50:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.4ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.4ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.7ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (48.4ms)
  Rendered responses/_table_only.html.erb (57.8ms)
Completed 200 OK in 81ms (Views: 57.6ms | ActiveRecord: 6.1ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:51:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.0ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (1.6ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (100.3ms)
  Rendered responses/_table_only.html.erb (109.5ms)
Completed 200 OK in 135ms (Views: 109.5ms | ActiveRecord: 5.8ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:51:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.0ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (1.2ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (31.9ms)
  Rendered responses/_table_only.html.erb (39.7ms)
Completed 200 OK in 56ms (Views: 38.8ms | ActiveRecord: 5.0ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:52:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.1ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (32.6ms)
  Rendered responses/_table_only.html.erb (39.4ms)
Completed 200 OK in 58ms (Views: 39.4ms | ActiveRecord: 4.4ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:52:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.1ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (46.5ms)
  Rendered responses/_table_only.html.erb (54.4ms)
Completed 200 OK in 75ms (Views: 54.4ms | ActiveRecord: 4.7ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:53:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.0ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (83.7ms)
  Rendered responses/_table_only.html.erb (92.1ms)
Completed 200 OK in 109ms (Views: 91.9ms | ActiveRecord: 4.3ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:53:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (0.9ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.6ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (30.7ms)
  Rendered responses/_table_only.html.erb (38.2ms)
Completed 200 OK in 56ms (Views: 38.4ms | ActiveRecord: 4.3ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:54:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.2ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.6ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (32.1ms)
  Rendered responses/_table_only.html.erb (38.9ms)
Completed 200 OK in 56ms (Views: 38.8ms | ActiveRecord: 4.8ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:54:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.0ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.6ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (29.6ms)
  Rendered responses/_table_only.html.erb (36.4ms)
Completed 200 OK in 54ms (Views: 36.3ms | ActiveRecord: 4.2ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:55:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.5ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (32.6ms)
  Rendered responses/_table_only.html.erb (39.2ms)
Completed 200 OK in 61ms (Views: 39.4ms | ActiveRecord: 5.2ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:55:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.0ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (31.5ms)
  Rendered responses/_table_only.html.erb (39.2ms)
Completed 200 OK in 58ms (Views: 39.0ms | ActiveRecord: 4.5ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:56:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.2ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.1ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.5ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (32.9ms)
  Rendered responses/_table_only.html.erb (39.9ms)
Completed 200 OK in 58ms (Views: 39.8ms | ActiveRecord: 4.4ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:56:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (0.9ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.4ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (86.4ms)
  Rendered responses/_table_only.html.erb (93.7ms)
Completed 200 OK in 111ms (Views: 93.6ms | ActiveRecord: 4.3ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:57:16 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.0ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (31.3ms)
  Rendered responses/_table_only.html.erb (38.6ms)
Completed 200 OK in 56ms (Views: 38.3ms | ActiveRecord: 4.4ms)


Started GET "/responses?auto=1" for 127.0.0.1 at 2013-02-23 23:57:46 +0100
Processing by ResponsesController#index as */*
  Parameters: {"auto"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.3ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.5ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (31.6ms)
  Rendered responses/_table_only.html.erb (38.5ms)
Completed 200 OK in 57ms (Views: 38.0ms | ActiveRecord: 5.2ms)


Started GET "/forms" for 127.0.0.1 at 2013-02-23 23:58:18 +0100
Processing by FormsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 22:58:19', `updated_at` = '2013-02-23 22:58:19' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (1.5ms)
  Rendered layouts/_index_table.html.erb (80.7ms)
  Rendered forms/index.html.erb within layouts/application (85.6ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 554ms (Views: 243.9ms | ActiveRecord: 20.9ms)


Started GET "/sms_codes/show/7" for 127.0.0.1 at 2013-02-23 23:58:23 +0100
Processing by SmsCodesController#show as HTML
  Parameters: {"form_id"=>"7"}
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 22:58:23', `updated_at` = '2013-02-23 22:58:23' WHERE `users`.`id` = 1[0m
  [1m[35m (1.7ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.9ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mSQL (1.3ms)[0m  [1mDELETE FROM `sms_codes` WHERE `sms_codes`.`form_id` = 7[0m
  [1m[35mQuestioning Load (1.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)
  [1m[36mOptionSetting Load (0.7ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (1.2ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.7ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-23 22:58:24', 7, 1, 1, 35, '2013-02-23 22:58:24')[0m
  [1m[35m (1.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-23 22:58:24', 7, 2, 1, 35, '2013-02-23 22:58:24')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-23 22:58:24', 7, 3, 1, 35, '2013-02-23 22:58:24')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mTranslation Load (0.8ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 9 AND `translations`.`class_name` = 'Question'[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` = 1 ORDER BY name LIMIT 1
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (1)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (1, 2, 3)
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1, 2, 3)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1, 2, 3)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mQuestion Load (0.7ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mQuestioning Load (0.9ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mForm Load (0.9ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('a', '2013-02-23 22:58:24', 7, 1, 2, 36, '2013-02-23 22:58:24')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('b', '2013-02-23 22:58:24', 7, 2, 2, 36, '2013-02-23 22:58:24')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_codes` (`code`, `created_at`, `form_id`, `option_id`, `question_number`, `questioning_id`, `updated_at`) VALUES ('c', '2013-02-23 22:58:24', 7, 3, 2, 36, '2013-02-23 22:58:24')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mTranslation Load (1.1ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`obj_id` = 10 AND `translations`.`class_name` = 'Question'
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_codes/show.txt.erb (0.1ms)
Completed 200 OK in 474ms (Views: 2.3ms | ActiveRecord: 55.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-23 23:58:50 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 22:58:51', `updated_at` = '2013-02-23 22:58:51' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
get answers!
incoming answer
a
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 90, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 22:58:24", updated_at: "2013-02-23 22:58:24">, #<SmsCode id: 91, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 22:58:24", updated_at: "2013-02-23 22:58:24">, #<SmsCode id: 92, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 22:58:24", updated_at: "2013-02-23 22:58:24">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
"a"
select_one
answering single
code:
#<SmsCode:0x007fca744034e0>
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.6ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.6ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
answers:
[#<Answer id: nil, response_id: nil, option_id: 1, value: nil, created_at: nil, updated_at: nil, questioning_id: 35, time_value: nil, date_value: nil, datetime_value: nil>]
incoming answer
a
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 93, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 22:58:24", updated_at: "2013-02-23 22:58:24">, #<SmsCode id: 94, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 22:58:24", updated_at: "2013-02-23 22:58:24">, #<SmsCode id: 95, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 22:58:24", updated_at: "2013-02-23 22:58:24">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
"a"
select_one
answering single
code:
#<SmsCode:0x007fca780764b8>
  [1m[35mCACHE (0.0ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
answers:
[#<Answer id: nil, response_id: nil, option_id: 1, value: nil, created_at: nil, updated_at: nil, questioning_id: 35, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 1, value: nil, created_at: nil, updated_at: nil, questioning_id: 36, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[36mSetting Load (0.3ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC
  [1m[36mMission Load (0.6ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestioning Load (0.7ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `responses` (`created_at`, `form_id`, `mission_id`, `reviewed`, `source`, `updated_at`, `user_id`) VALUES ('2013-02-23 22:58:51', 7, 1, 0, 'sms', '2013-02-23 22:58:51', 3)
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `forms` SET `responses_count` = COALESCE(`responses_count`, 0) + 1 WHERE `forms`.`id` = 7[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.5ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 22:58:51', NULL, NULL, 1, 35, 90, NULL, '2013-02-23 22:58:51', NULL)
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.5ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 22:58:51', NULL, NULL, 1, 36, 90, NULL, '2013-02-23 22:58:51', NULL)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_responses` (`created_at`, `message`, `response_id`, `updated_at`) VALUES ('2013-02-23 22:58:51', '!7 1.a 2.a', 90, '2013-02-23 22:58:51')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
message:
{:message=>"sms.success", :vars=>{:message=>"!7 1.a 2.a"}}
#<Sms::Message:0x007fca78570608 @direction=:outgoing, @to=["+243816107022"], @body="Succes! Votre message a Ã©tÃ© reÃ§u: <!7 1.a 2.a>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=Succes!%20Votre%20message%20a%20%C3%A9t%C3%A9%20re%C3%A7u:%20%3C!7%201.a%202.a%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 836ms (Views: 2.4ms | ActiveRecord: 61.8ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:05:49 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 23:05:49', `updated_at` = '2013-02-23 23:05:49' WHERE `users`.`id` = 1
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.2ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
Completed 500 Internal Server Error in 197ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:170: syntax error, unexpected '}', expecting keyword_end
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:192: syntax error, unexpected $end, expecting keyword_end):
  app/controllers/sms_responses_controller.rb:29:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:07:32 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 23:07:32', `updated_at` = '2013-02-23 23:07:32' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 7 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7')
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
get answers!
incoming answer
a
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '1')[0m
[#<SmsCode id: 90, code: "a", questioning_id: 35, option_id: 1, form_id: 7, question_number: 1, created_at: "2013-02-23 22:58:24", updated_at: "2013-02-23 22:58:24">, #<SmsCode id: 91, code: "b", questioning_id: 35, option_id: 2, form_id: 7, question_number: 1, created_at: "2013-02-23 22:58:24", updated_at: "2013-02-23 22:58:24">, #<SmsCode id: 92, code: "c", questioning_id: 35, option_id: 3, form_id: 7, question_number: 1, created_at: "2013-02-23 22:58:24", updated_at: "2013-02-23 22:58:24">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
"a"
select_one
answering single
code:
#<SmsCode:0x007fca744bf5a0>
  [1m[36mOption Load (0.5ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name
  [1m[36mQuestion Load (0.9ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code[0m
  [1m[35mQuestioning Load (0.7ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)
  [1m[36mForm Load (0.8ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)[0m
answers:
[#<Answer id: nil, response_id: nil, option_id: 1, value: nil, created_at: nil, updated_at: nil, questioning_id: 35, time_value: nil, date_value: nil, datetime_value: nil>]
incoming answer
a
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '7' AND question_number = '2')
[#<SmsCode id: 93, code: "a", questioning_id: 36, option_id: 1, form_id: 7, question_number: 2, created_at: "2013-02-23 22:58:24", updated_at: "2013-02-23 22:58:24">, #<SmsCode id: 94, code: "b", questioning_id: 36, option_id: 2, form_id: 7, question_number: 2, created_at: "2013-02-23 22:58:24", updated_at: "2013-02-23 22:58:24">, #<SmsCode id: 95, code: "c", questioning_id: 36, option_id: 3, form_id: 7, question_number: 2, created_at: "2013-02-23 22:58:24", updated_at: "2013-02-23 22:58:24">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
"a"
select_one
answering single
code:
#<SmsCode:0x007fca74217398>
  [1m[35mCACHE (0.0ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (1)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (1)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (1) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (1) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (11, 17, 22, 1, 21, 7, 25, 12, 9, 14, 24, 23, 10, 6, 19, 20)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (3, 4, 7, 6)
answers:
[#<Answer id: nil, response_id: nil, option_id: 1, value: nil, created_at: nil, updated_at: nil, questioning_id: 35, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 1, value: nil, created_at: nil, updated_at: nil, questioning_id: 36, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[36mSetting Load (0.3ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 35 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 36 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 7 ORDER BY rank[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `responses` (`created_at`, `form_id`, `mission_id`, `reviewed`, `source`, `updated_at`, `user_id`) VALUES ('2013-02-23 23:07:33', 7, 1, 0, 'sms', '2013-02-23 23:07:33', 3)
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `forms` SET `responses_count` = COALESCE(`responses_count`, 0) + 1 WHERE `forms`.`id` = 7[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 9 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.5ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 23:07:33', NULL, NULL, 1, 35, 91, NULL, '2013-02-23 23:07:33', NULL)
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 10 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 23:07:33', NULL, NULL, 1, 36, 91, NULL, '2013-02-23 23:07:33', NULL)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_responses` (`created_at`, `message`, `response_id`, `updated_at`) VALUES ('2013-02-23 23:07:33', '!7 1.a 2.a', 91, '2013-02-23 23:07:33')
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mCOMMIT[0m
message:
{:message=>"sms.success", :vars=>{:message=>"!7 1.a 2.a"}}
#<Sms::Message:0x007fca7618a360 @direction=:outgoing, @to=["+243816107022"], @body="Succes! Votre message a Ã©tÃ© reÃ§u: <!7 1.a 2.a>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=Succes!%20Votre%20message%20a%20%C3%A9t%C3%A9%20re%C3%A7u:%20%3C!7%201.a%202.a%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.2ms)
Completed 200 OK in 950ms (Views: 4.1ms | ActiveRecord: 66.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:07:57 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 23:07:57', `updated_at` = '2013-02-23 23:07:57' WHERE `users`.`id` = 1
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
integer
answering integer
5
code:
#<SmsCode:0x007fca761ae2b0>
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>]
incoming answer
acd
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
"acd"
select_multiple
answering multiple
["a", "c", "d"]
code:
#<SmsCode:0x007fca744a6280>
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.5ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.6ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>]
code:
#<SmsCode:0x007fca744ab258>
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>]
code:
#<SmsCode:0x007fca744aa1f0>
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>]
incoming answer
d
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
"d"
select_one
answering single
code:
#<SmsCode:0x007fca76165380>
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 22, value: nil, created_at: nil, updated_at: nil, questioning_id: 51, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 9 ORDER BY rank[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `responses` (`created_at`, `form_id`, `mission_id`, `reviewed`, `source`, `updated_at`, `user_id`) VALUES ('2013-02-23 23:07:58', 9, 1, 0, 'sms', '2013-02-23 23:07:58', 3)
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `forms` SET `responses_count` = COALESCE(`responses_count`, 0) + 1 WHERE `forms`.`id` = 9[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 23:07:58', NULL, NULL, NULL, 49, 92, NULL, '2013-02-23 23:07:58', 5)
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 23:07:58', NULL, NULL, NULL, 50, 92, NULL, '2013-02-23 23:07:58', NULL)[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1679, '2013-02-23 23:07:58', 28, '2013-02-23 23:07:58')
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 23:07:58', NULL, NULL, NULL, 50, 92, NULL, '2013-02-23 23:07:58', NULL)[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1680, '2013-02-23 23:07:58', 30, '2013-02-23 23:07:58')
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 23:07:58', NULL, NULL, NULL, 50, 92, NULL, '2013-02-23 23:07:58', NULL)[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1681, '2013-02-23 23:07:58', 31, '2013-02-23 23:07:58')
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.2ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 23:07:58', NULL, NULL, 22, 51, 92, NULL, '2013-02-23 23:07:58', NULL)[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_responses` (`created_at`, `message`, `response_id`, `updated_at`) VALUES ('2013-02-23 23:07:58', '!9 1.5 2.acd 3.d', 92, '2013-02-23 23:07:58')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
message:
{:message=>"sms.success", :vars=>{:message=>"!9 1.5 2.acd 3.d"}}
#<Sms::Message:0x007fca761657b8 @direction=:outgoing, @to=["+243816107022"], @body="Succes! Votre message a Ã©tÃ© reÃ§u: <!9 1.5 2.acd 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=Succes!%20Votre%20message%20a%20%C3%A9t%C3%A9%20re%C3%A7u:%20%3C!9%201.5%202.acd%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 878ms (Views: 2.8ms | ActiveRecord: 75.4ms)


Started GET "/responses" for 127.0.0.1 at 2013-02-24 00:08:09 +0100
Processing by ResponsesController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 23:08:09', `updated_at` = '2013-02-23 23:08:09' WHERE `users`.`id` = 1
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.2ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.4ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  Rendered layouts/_object_errors.html.erb (0.0ms)
  Rendered layouts/_flash.html.erb (0.6ms)
  Rendered searches/_form.html.erb (0.1ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.6ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (86.9ms)
  Rendered responses/index.html.erb within layouts/application (98.9ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 200ms (Views: 132.3ms | ActiveRecord: 13.7ms)


Started GET "/responses/92" for 127.0.0.1 at 2013-02-24 00:08:12 +0100
Processing by ResponsesController#show as HTML
  Parameters: {"id"=>"92"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 23:08:12', `updated_at` = '2013-02-23 23:08:12' WHERE `users`.`id` = 1
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.8ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (0.5ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`id` = 92 ORDER BY responses.created_at DESC LIMIT 1[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9)
  [1m[36mFormType Load (0.6ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36mSQL (2.0ms)[0m  [1mSELECT `answers`.`id` AS t0_r0, `answers`.`response_id` AS t0_r1, `answers`.`option_id` AS t0_r2, `answers`.`value` AS t0_r3, `answers`.`created_at` AS t0_r4, `answers`.`updated_at` AS t0_r5, `answers`.`questioning_id` AS t0_r6, `answers`.`time_value` AS t0_r7, `answers`.`date_value` AS t0_r8, `answers`.`datetime_value` AS t0_r9, `questionings`.`id` AS t1_r0, `questionings`.`question_id` AS t1_r1, `questionings`.`form_id` AS t1_r2, `questionings`.`rank` AS t1_r3, `questionings`.`required` AS t1_r4, `questionings`.`hidden` AS t1_r5, `questionings`.`created_at` AS t1_r6, `questionings`.`updated_at` AS t1_r7 FROM `answers` LEFT OUTER JOIN `questionings` ON `questionings`.`id` = `answers`.`questioning_id` WHERE `answers`.`response_id` IN (92) ORDER BY questionings.rank[0m
  [1m[35mChoice Load (0.4ms)[0m  SELECT `choices`.* FROM `choices` WHERE `choices`.`answer_id` IN (1678, 1679, 1680, 1681, 1682)
  [1m[36mOption Load (0.5ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (28, 30, 31)[0m
  [1m[35mTranslation Load (0.9ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28, 30, 31)
  [1m[36mOptionSetting Load (0.6ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28, 30, 31)[0m
  [1m[35mOptionSet Load (0.6ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.7ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (22)
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.6ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCondition Load (0.2ms)[0m  [1mSELECT `conditions`.* FROM `conditions` WHERE `conditions`.`questioning_id` IN (49, 50, 51)[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` IN (31, 32, 26) ORDER BY code
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` IN (14, 19, 18) ORDER BY long_name[0m
  [1m[35mTranslation Load (0.9ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Question' AND `translations`.`obj_id` IN (31, 32, 26)
  [1m[36mOptionSet Load (0.9ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8, 6) ORDER BY name[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (8, 6)
  [1m[36mOption Load (0.6ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 28, 29, 30, 31, 19, 20, 21, 22)[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (19, 20, 21, 22, 23, 28, 29, 30, 31)
  [1m[36mOptionSetting Load (0.7ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (19, 20, 21, 22, 23, 28, 29, 30, 31)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  Rendered layouts/_location_picker.html.erb (0.6ms)
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (1.2ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT `users`.* FROM `users` WHERE (users.id IN (SELECT user_id FROM assignments WHERE mission_id = 1)) ORDER BY users.name
  [1m[36mQuestioning Load (0.8ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 9 ORDER BY rank[0m
  Rendered responses/_choice.html.erb (2.6ms)
  Rendered responses/_answer.html.erb (7.5ms)
  Rendered responses/form.html.erb within layouts/application (25.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 198ms (Views: 90.8ms | ActiveRecord: 27.0ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:10:05 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 23:10:05', `updated_at` = '2013-02-23 23:10:05' WHERE `users`.`id` = 1
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
integer
answering integer
5
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>]
incoming answer
acd
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
"acd"
select_multiple
answering multiple
["a", "c", "d"]
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.2ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
choices:
#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1
  [1m[36mTranslation Load (0.7ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)[0m
  [1m[35mOptionSetting Load (0.7ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
choices:
#<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1
  [1m[36mTranslation Load (0.7ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
choices:
#<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>]
incoming answer
d
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
"d"
select_one
answering single
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: nil, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 22, value: nil, created_at: nil, updated_at: nil, questioning_id: 51, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[35mSetting Load (0.2ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.7ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 9 ORDER BY rank[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `responses` (`created_at`, `form_id`, `mission_id`, `reviewed`, `source`, `updated_at`, `user_id`) VALUES ('2013-02-23 23:10:06', 9, 1, 0, 'sms', '2013-02-23 23:10:06', 3)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `forms` SET `responses_count` = COALESCE(`responses_count`, 0) + 1 WHERE `forms`.`id` = 9[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.5ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 23:10:06', NULL, NULL, NULL, 49, 93, NULL, '2013-02-23 23:10:06', 5)
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 23:10:06', NULL, NULL, NULL, 50, 93, NULL, '2013-02-23 23:10:06', NULL)[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1684, '2013-02-23 23:10:06', 28, '2013-02-23 23:10:06')
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 23:10:06', NULL, NULL, NULL, 50, 93, NULL, '2013-02-23 23:10:06', NULL)[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1685, '2013-02-23 23:10:06', 30, '2013-02-23 23:10:06')
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 23:10:06', NULL, NULL, NULL, 50, 93, NULL, '2013-02-23 23:10:06', NULL)[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1686, '2013-02-23 23:10:06', 31, '2013-02-23 23:10:06')
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 23:10:06', NULL, NULL, 22, 51, 93, NULL, '2013-02-23 23:10:06', NULL)[0m
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_responses` (`created_at`, `message`, `response_id`, `updated_at`) VALUES ('2013-02-23 23:10:06', '!9 1.5 2.acd 3.d', 93, '2013-02-23 23:10:06')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
message:
{:message=>"sms.success", :vars=>{:message=>"!9 1.5 2.acd 3.d"}}
#<Sms::Message:0x007fca761ee7e8 @direction=:outgoing, @to=["+243816107022"], @body="Succes! Votre message a Ã©tÃ© reÃ§u: <!9 1.5 2.acd 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=Succes!%20Votre%20message%20a%20%C3%A9t%C3%A9%20re%C3%A7u:%20%3C!9%201.5%202.acd%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 888ms (Views: 2.9ms | ActiveRecord: 76.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:26:28 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 23:26:28', `updated_at` = '2013-02-23 23:26:28' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.5ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
integer
answering integer
5
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>]
incoming answer
acd
  [1m[36mSmsCode Load (0.7ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
"acd"
select_multiple
answering multiple
["a", "c", "d"]
Completed 500 Internal Server Error in 427ms

NoMethodError (undefined method `code' for #<Array:0x007fca78571468>):
  app/models/sms_response.rb:147:in `block (2 levels) in get_answers'
  app/models/sms_response.rb:144:in `each'
  app/models/sms_response.rb:144:in `block in get_answers'
  app/models/sms_response.rb:95:in `each'
  app/models/sms_response.rb:95:in `each_with_index'
  app/models/sms_response.rb:95:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:29:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.3ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:28:46 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 23:28:46', `updated_at` = '2013-02-23 23:28:46' WHERE `users`.`id` = 1[0m
  [1m[35m (2.1ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.2ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
get answers!
incoming answer
5
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
"5"
integer
answering integer
5
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>]
incoming answer
acd
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.5ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
answering!
"acd"
select_multiple
answering multiple
["a", "c", "d"]
Completed 500 Internal Server Error in 505ms

NoMethodError (undefined method `code' for "a":String):
  app/models/sms_response.rb:147:in `block (2 levels) in get_answers'
  app/models/sms_response.rb:144:in `each'
  app/models/sms_response.rb:144:in `block in get_answers'
  app/models/sms_response.rb:95:in `each'
  app/models/sms_response.rb:95:in `each_with_index'
  app/models/sms_response.rb:95:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:29:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.5ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.9ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:29:23 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 23:29:23', `updated_at` = '2013-02-23 23:29:23' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.6ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
get answers!
incoming answer
5
  [1m[36mSmsCode Load (0.6ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')[0m
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
answering!
"5"
integer
answering integer
5
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>]
incoming answer
acd
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
answering!
"acd"
select_multiple
answering multiple
["a", "c", "d"]
Completed 500 Internal Server Error in 424ms

NoMethodError (undefined method `id' for "a":String):
  app/models/sms_response.rb:147:in `block (2 levels) in get_answers'
  app/models/sms_response.rb:144:in `each'
  app/models/sms_response.rb:144:in `block in get_answers'
  app/models/sms_response.rb:95:in `each'
  app/models/sms_response.rb:95:in `each_with_index'
  app/models/sms_response.rb:95:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:29:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (46.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (54.9ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:31:19 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 23:31:19', `updated_at` = '2013-02-23 23:31:19' WHERE `users`.`id` = 1[0m
  [1m[35m (1.4ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
get answers!
incoming answer
5
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
"5"
integer
answering integer
5
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>]
incoming answer
acd
  [1m[35mSmsCode Load (0.7ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
answering!
"acd"
select_multiple
answering multiple
["a", "c", "d"]
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)[0m
  [1m[35mOptionSetting Load (0.2ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
Completed 500 Internal Server Error in 628ms

ArgumentError (wrong number of arguments (1 for 2)):
  app/models/sms_response.rb:147:in `[]='
  app/models/sms_response.rb:147:in `block (2 levels) in get_answers'
  app/models/sms_response.rb:144:in `each'
  app/models/sms_response.rb:144:in `block in get_answers'
  app/models/sms_response.rb:95:in `each'
  app/models/sms_response.rb:95:in `each_with_index'
  app/models/sms_response.rb:95:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:29:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (7.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:31:46 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 23:31:46', `updated_at` = '2013-02-23 23:31:46' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.7ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
get answers!
incoming answer
5
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
"5"
integer
answering integer
5
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>]
incoming answer
acd
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.6ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
answering!
"acd"
select_multiple
answering multiple
["a", "c", "d"]
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)[0m
  [1m[35mOptionSetting Load (0.2ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
incoming answer
d
  [1m[36mSmsCode Load (0.6ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering!
"d"
select_one
answering single
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 22, value: nil, created_at: nil, updated_at: nil, questioning_id: 51, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[36mSetting Load (0.2ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC
  [1m[36mMission Load (0.5ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestioning Load (0.6ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 9 ORDER BY rank[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
Completed 422 Unprocessable Entity in 789ms

ActiveRecord::RecordInvalid (Validation failed: Not all questions have answers):
  app/models/sms_response.rb:24:in `save_answers'
  app/controllers/sms_responses_controller.rb:36:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (2.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:35:35 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 23:35:35', `updated_at` = '2013-02-23 23:35:35' WHERE `users`.`id` = 1[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
get answers!
incoming answer
5
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
[#<SmsCode id: 79, code: nil, questioning_id: 49, option_id: nil, form_id: 9, question_number: 1, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
answering!
"5"
integer
answering integer
5
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>]
incoming answer
acd
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
[#<SmsCode id: 80, code: "a", questioning_id: 50, option_id: 28, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 81, code: "b", questioning_id: 50, option_id: 29, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 82, code: "c", questioning_id: 50, option_id: 30, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 83, code: "d", questioning_id: 50, option_id: 31, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 84, code: "e", questioning_id: 50, option_id: 23, form_id: 9, question_number: 2, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
answering!
"acd"
select_multiple
answering multiple
["a", "c", "d"]
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)[0m
  [1m[35mOptionSetting Load (0.2ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
choices:
[28, 30, 31]
answers:
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 31, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>]
incoming answer
d
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
[#<SmsCode id: 85, code: "a", questioning_id: 51, option_id: 19, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 86, code: "b", questioning_id: 51, option_id: 20, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 87, code: "c", questioning_id: 51, option_id: 21, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">, #<SmsCode id: 89, code: "e", questioning_id: 51, option_id: 23, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.5ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering!
"d"
select_one
answering single
message:
{:message=>"sms.error.response.not_valid_specific.", :vars=>{:message=>"!9 1.5 2.acd 3.d", :question_no=>"3", :response=>"d"}}
#<Sms::Message:0x007fca75ccc828 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©.  Votre reponse Ã  question 3 <d> n'est pas valide.  Veuillez et recommencez votre message: <!9 1.5 2.acd 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20%20Votre%20reponse%20%C3%A0%20question%203%20%3Cd%3E%20n'est%20pas%20valide.%20%20Veuillez%20et%20recommencez%20votre%20message:%20%3C!9%201.5%202.acd%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 674ms (Views: 2.2ms | ActiveRecord: 51.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:39:08 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 23:39:08', `updated_at` = '2013-02-23 23:39:08' WHERE `users`.`id` = 1
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.7ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.2ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)
  [1m[36mOptionSetting Load (0.5ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)[0m
  [1m[35mOptionSetting Load (0.2ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
answering single
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
[#<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
message:
{:message=>"sms.error.response.not_valid_specific.", :vars=>{:message=>"!9 1.5 2.acd 3.d", :question_no=>"3", :response=>"d"}}
#<Sms::Message:0x007fca782ea028 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©.  Votre reponse Ã  question 3 <d> n'est pas valide.  Veuillez et recommencez votre message: <!9 1.5 2.acd 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20%20Votre%20reponse%20%C3%A0%20question%203%20%3Cd%3E%20n'est%20pas%20valide.%20%20Veuillez%20et%20recommencez%20votre%20message:%20%3C!9%201.5%202.acd%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 680ms (Views: 2.5ms | ActiveRecord: 51.3ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:41:06 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 23:41:07', `updated_at` = '2013-02-23 23:41:07' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.5ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
Completed 500 Internal Server Error in 483ms

NoMethodError (undefined method `elseif' for #<Class:0x007fca74540d08>):
  app/models/sms_response.rb:111:in `block in get_answers'
  app/models/sms_response.rb:94:in `each'
  app/models/sms_response.rb:94:in `each_with_index'
  app/models/sms_response.rb:94:in `get_answers'
  app/models/sms_response.rb:15:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:29:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (2.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:41:56 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 23:41:56', `updated_at` = '2013-02-23 23:41:56' WHERE `users`.`id` = 1
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.2ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
Completed 500 Internal Server Error in 186ms

SyntaxError (/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:111: syntax error, unexpected keyword_elsif, expecting keyword_end
					elsif @noerrors == true
					     ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:123: syntax error, unexpected keyword_elsif, expecting keyword_end
					elsif @noerrors == true
					     ^
/Users/damienbrockmann/Desktop/elmo/app/models/sms_response.rb:136: syntax error, unexpected keyword_elsif, expecting keyword_end
						elsif @noerrors == true
						     ^):
  app/controllers/sms_responses_controller.rb:29:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.2ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:43:43 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 23:43:43', `updated_at` = '2013-02-23 23:43:43' WHERE `users`.`id` = 1[0m
  [1m[35m (2.1ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (0.3ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.2ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.2ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.7ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
answering single
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
[#<SmsCode id: 88, code: "d", questioning_id: 51, option_id: 22, form_id: 9, question_number: 3, created_at: "2013-02-23 20:14:54", updated_at: "2013-02-23 20:14:54">]
message:
{:message=>"sms.error.system.general", :vars=>{:message=>"!9 1.5 2.acd 3.d"}}
#<Sms::Message:0x007fca761b1c58 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.acd 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Il%20y%20avait%20une%20erreur%20dans%20le%20syt%C3%A8me.%20Veuillez%20et%20recommencez%20votre%20message.%20%20Nous%20avons%20re%C3%A7u%20%3C!9%201.5%202.acd%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 689ms (Views: 2.4ms | ActiveRecord: 50.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:46:37 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 23:46:37', `updated_at` = '2013-02-23 23:46:37' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
message:
{:message=>"sms.error.system.general", :vars=>{:message=>"!9 1.5 2.acd 3.d"}}
#<Sms::Message:0x007fca7831ef58 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.acd 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Il%20y%20avait%20une%20erreur%20dans%20le%20syt%C3%A8me.%20Veuillez%20et%20recommencez%20votre%20message.%20%20Nous%20avons%20re%C3%A7u%20%3C!9%201.5%202.acd%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 753ms (Views: 50.4ms | ActiveRecord: 49.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:50:01 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 23:50:02', `updated_at` = '2013-02-23 23:50:02' WHERE `users`.`id` = 1[0m
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
  [1m[36mOption Load (0.2ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.5ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1
  [1m[36mTranslation Load (0.8ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.7ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
message:
{:message=>"sms.error.system.general", :vars=>{:message=>"!9 1.5 2.acd 3.d"}}
#<Sms::Message:0x007fca76180e00 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.acd 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Il%20y%20avait%20une%20erreur%20dans%20le%20syt%C3%A8me.%20Veuillez%20et%20recommencez%20votre%20message.%20%20Nous%20avons%20re%C3%A7u%20%3C!9%201.5%202.acd%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 703ms (Views: 2.9ms | ActiveRecord: 50.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:51:32 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 23:51:32', `updated_at` = '2013-02-23 23:51:32' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.6ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.6ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.5ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (0.9ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.5ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
message:
{:message=>"sms.error.system.general", :vars=>{:message=>"!9 1.5 2.acd 3.d"}}
#<Sms::Message:0x007fca78310ed0 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.acd 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Il%20y%20avait%20une%20erreur%20dans%20le%20syt%C3%A8me.%20Veuillez%20et%20recommencez%20votre%20message.%20%20Nous%20avons%20re%C3%A7u%20%3C!9%201.5%202.acd%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 788ms (Views: 49.2ms | ActiveRecord: 53.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:52:46 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 23:52:46', `updated_at` = '2013-02-23 23:52:46' WHERE `users`.`id` = 1[0m
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
loaded
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
decoded
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
answers gotten
message:
{:message=>"sms.error.system.general", :vars=>{:message=>"!9 1.5 2.acd 3.d"}}
#<Sms::Message:0x007fca7618ace8 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.acd 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Il%20y%20avait%20une%20erreur%20dans%20le%20syt%C3%A8me.%20Veuillez%20et%20recommencez%20votre%20message.%20%20Nous%20avons%20re%C3%A7u%20%3C!9%201.5%202.acd%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 717ms (Views: 2.1ms | ActiveRecord: 50.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:53:18 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 23:53:18', `updated_at` = '2013-02-23 23:53:18' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
loaded
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
decoded
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.7ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.7ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1
  [1m[36mTranslation Load (0.8ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.6ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
answers gotten
nil
message:
{:message=>"sms.error.system.general", :vars=>{:message=>"!9 1.5 2.acd 3.d"}}
#<Sms::Message:0x007fca74b7b998 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.acd 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Il%20y%20avait%20une%20erreur%20dans%20le%20syt%C3%A8me.%20Veuillez%20et%20recommencez%20votre%20message.%20%20Nous%20avons%20re%C3%A7u%20%3C!9%201.5%202.acd%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 763ms (Views: 51.3ms | ActiveRecord: 48.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:53:45 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 23:53:46', `updated_at` = '2013-02-23 23:53:46' WHERE `users`.`id` = 1[0m
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.2ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (1.3ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
loaded
true
  [1m[35mForm Load (1.6ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
decoded
true
  [1m[35mSmsCode Load (1.0ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (0.7ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.6ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
answers gotten
nil
message:
{:message=>"sms.error.system.general", :vars=>{:message=>"!9 1.5 2.acd 3.d"}}
#<Sms::Message:0x007fca7618a428 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Il y avait une erreur dans le sytÃ¨me. Veuillez et recommencez votre message.  Nous avons reÃ§u <!9 1.5 2.acd 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Il%20y%20avait%20une%20erreur%20dans%20le%20syt%C3%A8me.%20Veuillez%20et%20recommencez%20votre%20message.%20%20Nous%20avons%20re%C3%A7u%20%3C!9%201.5%202.acd%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 836ms (Views: 2.2ms | ActiveRecord: 56.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 00:56:15 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-23 23:56:15', `updated_at` = '2013-02-23 23:56:15' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.2ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
loaded
true
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
decoded
true
  [1m[35mSmsCode Load (0.7ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.7ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.2ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.2ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.5ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1
  [1m[36mTranslation Load (0.7ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
answers gotten
true
  [1m[35mSetting Load (0.5ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 31, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 22, value: nil, created_at: nil, updated_at: nil, questioning_id: 51, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestioning Load (0.6ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 9 ORDER BY rank[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `responses` (`created_at`, `form_id`, `mission_id`, `reviewed`, `source`, `updated_at`, `user_id`) VALUES ('2013-02-23 23:56:15', 9, 1, 0, 'sms', '2013-02-23 23:56:15', 3)
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE `forms` SET `responses_count` = COALESCE(`responses_count`, 0) + 1 WHERE `forms`.`id` = 9[0m
  [1m[35mQuestion Load (0.7ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.5ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 23:56:15', NULL, NULL, NULL, 49, 94, NULL, '2013-02-23 23:56:15', 5)
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 23:56:15', NULL, NULL, 31, 50, 94, NULL, '2013-02-23 23:56:15', NULL)[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1689, '2013-02-23 23:56:15', 28, '2013-02-23 23:56:15')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1689, '2013-02-23 23:56:15', 30, '2013-02-23 23:56:15')[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1689, '2013-02-23 23:56:15', 31, '2013-02-23 23:56:15')
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-23 23:56:15', NULL, NULL, 22, 51, 94, NULL, '2013-02-23 23:56:15', NULL)[0m
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `sms_responses` (`created_at`, `message`, `response_id`, `updated_at`) VALUES ('2013-02-23 23:56:15', '!9 1.5 2.acd 3.d', 94, '2013-02-23 23:56:15')
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
message:
{:message=>"sms.success", :vars=>{:message=>"!9 1.5 2.acd 3.d"}}
#<Sms::Message:0x007fca74a613c8 @direction=:outgoing, @to=["+243816107022"], @body="Succes! Votre message a Ã©tÃ© reÃ§u: <!9 1.5 2.acd 3.d>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=Succes!%20Votre%20message%20a%20%C3%A9t%C3%A9%20re%C3%A7u:%20%3C!9%201.5%202.acd%203.d%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 918ms (Views: 3.5ms | ActiveRecord: 123.2ms)


Started GET "/responses" for 127.0.0.1 at 2013-02-24 00:56:25 +0100
Processing by ResponsesController#index as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 23:56:25', `updated_at` = '2013-02-23 23:56:25' WHERE `users`.`id` = 1
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.8ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (1.2ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)
  [1m[36mFormType Load (0.3ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)[0m
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (1.3ms)
  Rendered searches/_form.html.erb (0.2ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)
  [1m[36mSQL (0.9ms)[0m  [1mSELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name[0m
  Rendered layouts/_index_table.html.erb (34.8ms)
  Rendered responses/index.html.erb within layouts/application (48.8ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 215ms (Views: 83.6ms | ActiveRecord: 15.9ms)


Started GET "/responses/94" for 127.0.0.1 at 2013-02-24 00:56:29 +0100
Processing by ResponsesController#show as HTML
  Parameters: {"id"=>"94"}
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-23 23:56:29', `updated_at` = '2013-02-23 23:56:29' WHERE `users`.`id` = 1
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mResponse Load (0.4ms)[0m  [1mSELECT `responses`.* FROM `responses` WHERE `responses`.`id` = 94 ORDER BY responses.created_at DESC LIMIT 1[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9)
  [1m[36mFormType Load (0.5ms)[0m  [1mSELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name
  [1m[36mSQL (1.8ms)[0m  [1mSELECT `answers`.`id` AS t0_r0, `answers`.`response_id` AS t0_r1, `answers`.`option_id` AS t0_r2, `answers`.`value` AS t0_r3, `answers`.`created_at` AS t0_r4, `answers`.`updated_at` AS t0_r5, `answers`.`questioning_id` AS t0_r6, `answers`.`time_value` AS t0_r7, `answers`.`date_value` AS t0_r8, `answers`.`datetime_value` AS t0_r9, `questionings`.`id` AS t1_r0, `questionings`.`question_id` AS t1_r1, `questionings`.`form_id` AS t1_r2, `questionings`.`rank` AS t1_r3, `questionings`.`required` AS t1_r4, `questionings`.`hidden` AS t1_r5, `questionings`.`created_at` AS t1_r6, `questionings`.`updated_at` AS t1_r7 FROM `answers` LEFT OUTER JOIN `questionings` ON `questionings`.`id` = `answers`.`questioning_id` WHERE `answers`.`response_id` IN (94) ORDER BY questionings.rank[0m
  [1m[35mChoice Load (0.5ms)[0m  SELECT `choices`.* FROM `choices` WHERE `choices`.`answer_id` IN (1688, 1689, 1690)
  [1m[36mOption Load (0.6ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (28, 30, 31)[0m
  [1m[35mTranslation Load (0.8ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28, 30, 31)
  [1m[36mOptionSetting Load (0.6ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28, 30, 31)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (31, 22)
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22, 31)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22, 31)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 8) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 8) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCondition Load (0.3ms)[0m  [1mSELECT `conditions`.* FROM `conditions` WHERE `conditions`.`questioning_id` IN (49, 50, 51)[0m
  [1m[35mQuestion Load (0.9ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` IN (31, 32, 26) ORDER BY code
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` IN (14, 19, 18) ORDER BY long_name[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Question' AND `translations`.`obj_id` IN (31, 32, 26)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8, 6) ORDER BY name[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (8, 6)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 28, 29, 30, 31, 19, 20, 21, 22)[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (19, 20, 21, 22, 23, 28, 29, 30, 31)
  [1m[36mOptionSetting Load (0.2ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (19, 20, 21, 22, 23, 28, 29, 30, 31)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  Rendered layouts/_location_picker.html.erb (0.4ms)
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (0.6ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT `users`.* FROM `users` WHERE (users.id IN (SELECT user_id FROM assignments WHERE mission_id = 1)) ORDER BY users.name
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 9 ORDER BY rank[0m
  Rendered responses/_choice.html.erb (3.5ms)
  Rendered responses/_answer.html.erb (8.7ms)
  Rendered responses/form.html.erb within layouts/application (24.9ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `missions` WHERE (1)
  [1m[36mMission Load (0.2ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1)[0m
Completed 200 OK in 141ms (Views: 37.1ms | ActiveRecord: 24.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:05:21 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-24 00:05:21', `updated_at` = '2013-02-24 00:05:21' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
loaded
true
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
decoded
true
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mQuestioning Load (0.6ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)
  [1m[36mOptionSetting Load (0.5ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.5ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
answers gotten
true
  [1m[36mSetting Load (0.2ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC
  [1m[36mMission Load (0.7ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))[0m
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 31, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 22, value: nil, created_at: nil, updated_at: nil, questioning_id: 51, time_value: nil, date_value: nil, datetime_value: nil>]
Completed 500 Internal Server Error in 781ms

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/models/sms_response.rb:181:in `is_flagged?'
  app/models/sms_response.rb:27:in `save_answers'
  app/controllers/sms_responses_controller.rb:36:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.7ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:06:17 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-24 00:06:17', `updated_at` = '2013-02-24 00:06:17' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
loaded
true
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
decoded
true
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mQuestion Load (0.7ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mForm Load (0.6ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.5ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
  [1m[36mOption Load (0.5ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
answers gotten
true
  [1m[36mSetting Load (0.3ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3
  [1m[36mMission Load (0.7ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)[0m
  [1m[35mRole Load (0.4ms)[0m  SELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))[0m
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 31, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 22, value: nil, created_at: nil, updated_at: nil, questioning_id: 51, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[35mSmsResponse Load (0.7ms)[0m  SELECT `sms_responses`.* FROM `sms_responses` INNER JOIN `responses` ON `responses`.`id` = `sms_responses`.`response_id` WHERE (responses.user_id = 3 AND sms = '!9 1.5 2.acd 3.d' AND sms_responses.created_at BETWEEN '2013-02-23 23:21:18' AND '2013-02-24 00:06:18')
Mysql2::Error: Unknown column 'sms' in 'where clause': SELECT `sms_responses`.* FROM `sms_responses` INNER JOIN `responses` ON `responses`.`id` = `sms_responses`.`response_id` WHERE (responses.user_id = 3 AND sms = '!9 1.5 2.acd 3.d' AND sms_responses.created_at BETWEEN '2013-02-23 23:21:18' AND '2013-02-24 00:06:18')
Completed 500 Internal Server Error in 804ms

ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'sms' in 'where clause': SELECT `sms_responses`.* FROM `sms_responses` INNER JOIN `responses` ON `responses`.`id` = `sms_responses`.`response_id` WHERE (responses.user_id = 3 AND sms = '!9 1.5 2.acd 3.d' AND sms_responses.created_at BETWEEN '2013-02-23 23:21:18' AND '2013-02-24 00:06:18')):
  app/models/sms_response.rb:182:in `is_flagged?'
  app/models/sms_response.rb:28:in `save_answers'
  app/controllers/sms_responses_controller.rb:36:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.3ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:08:11 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-24 00:08:11', `updated_at` = '2013-02-24 00:08:11' WHERE `users`.`id` = 1[0m
  [1m[35m (2.5ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
loaded
true
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
decoded
true
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mSmsCode Load (0.6ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
  [1m[35mOption Load (0.6ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
answers gotten
true
  [1m[35mSetting Load (0.4ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.7ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 31, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 22, value: nil, created_at: nil, updated_at: nil, questioning_id: 51, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[36mSmsResponse Load (0.5ms)[0m  [1mSELECT `sms_responses`.* FROM `sms_responses` INNER JOIN `responses` ON `responses`.`id` = `sms_responses`.`response_id` WHERE (responses.user_id = 3 AND sms = '!9 1.5 2.acd 3.d' AND sms_responses.created_at BETWEEN '2013-02-23 23:23:11' AND '2013-02-24 00:08:11')[0m
Mysql2::Error: Unknown column 'sms' in 'where clause': SELECT `sms_responses`.* FROM `sms_responses` INNER JOIN `responses` ON `responses`.`id` = `sms_responses`.`response_id` WHERE (responses.user_id = 3 AND sms = '!9 1.5 2.acd 3.d' AND sms_responses.created_at BETWEEN '2013-02-23 23:23:11' AND '2013-02-24 00:08:11')
Completed 500 Internal Server Error in 106ms

ActiveRecord::StatementInvalid (Mysql2::Error: Unknown column 'sms' in 'where clause': SELECT `sms_responses`.* FROM `sms_responses` INNER JOIN `responses` ON `responses`.`id` = `sms_responses`.`response_id` WHERE (responses.user_id = 3 AND sms = '!9 1.5 2.acd 3.d' AND sms_responses.created_at BETWEEN '2013-02-23 23:23:11' AND '2013-02-24 00:08:11')):
  app/models/sms_response.rb:182:in `is_flagged?'
  app/models/sms_response.rb:28:in `save_answers'
  app/controllers/sms_responses_controller.rb:36:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (55.7ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (62.9ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:08:18 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-24 00:08:18', `updated_at` = '2013-02-24 00:08:18' WHERE `users`.`id` = 1
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
loaded
true
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
decoded
true
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.6ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1
  [1m[36mTranslation Load (0.7ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.6ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.5ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
answers gotten
true
  [1m[36mSetting Load (0.3ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
  [1m[35mAssignment Load (0.6ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)[0m
  [1m[35mRole Load (0.5ms)[0m  SELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC
  [1m[36mMission Load (0.5ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))[0m
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 31, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 22, value: nil, created_at: nil, updated_at: nil, questioning_id: 51, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[35mSmsResponse Load (0.5ms)[0m  SELECT `sms_responses`.* FROM `sms_responses` INNER JOIN `responses` ON `responses`.`id` = `sms_responses`.`response_id` WHERE (responses.user_id = 3 AND message = '!9 1.5 2.acd 3.d' AND sms_responses.created_at BETWEEN '2013-02-23 23:23:19' AND '2013-02-24 00:08:19')
message:
{:message=>"sms.success", :vars=>{:message=>"!9 1.5 2.acd 3.d -r"}}
#<Sms::Message:0x007fca784dc278 @direction=:outgoing, @to=["+243816107022"], @body="Succes! Votre message a Ã©tÃ© reÃ§u: <!9 1.5 2.acd 3.d -r>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=Succes!%20Votre%20message%20a%20%C3%A9t%C3%A9%20re%C3%A7u:%20%3C!9%201.5%202.acd%203.d%20-r%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 852ms (Views: 4.1ms | ActiveRecord: 66.8ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:09:49 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-24 00:09:49', `updated_at` = '2013-02-24 00:09:49' WHERE `users`.`id` = 1[0m
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
loaded
true
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
decoded
true
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.5ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1[0m
  [1m[35mTranslation Load (0.9ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.5ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
  [1m[35mOption Load (0.5ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
answers gotten
true
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 31, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 22, value: nil, created_at: nil, updated_at: nil, questioning_id: 51, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[36mSmsResponse Load (0.4ms)[0m  [1mSELECT `sms_responses`.* FROM `sms_responses` INNER JOIN `responses` ON `responses`.`id` = `sms_responses`.`response_id` WHERE (responses.user_id = 3 AND message = '!9 1.5 2.acd 3.d' AND sms_responses.created_at BETWEEN '2013-02-23 23:24:50' AND '2013-02-24 00:09:50')[0m
message:
{:message=>"sms.success", :vars=>{:message=>"!9 1.5 2.acd 3.d -r"}}
#<Sms::Message:0x007fca743cec90 @direction=:outgoing, @to=["+243816107022"], @body="Succes! Votre message a Ã©tÃ© reÃ§u: <!9 1.5 2.acd 3.d -r>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=Succes!%20Votre%20message%20a%20%C3%A9t%C3%A9%20re%C3%A7u:%20%3C!9%201.5%202.acd%203.d%20-r%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 848ms (Views: 4.0ms | ActiveRecord: 67.8ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:10:27 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-24 00:10:27', `updated_at` = '2013-02-24 00:10:27' WHERE `users`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
loaded
true
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
decoded
true
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.7ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)[0m
  [1m[35mOptionSetting Load (0.2ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mQuestion Load (0.6ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1[0m
  [1m[35mTranslation Load (0.6ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.7ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
answers gotten
true
  [1m[36mSetting Load (0.3ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3
  [1m[36mMission Load (0.5ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC
  [1m[36mMission Load (0.5ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))[0m
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 31, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 22, value: nil, created_at: nil, updated_at: nil, questioning_id: 51, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[35mSmsResponse Load (0.6ms)[0m  SELECT `sms_responses`.* FROM `sms_responses` INNER JOIN `responses` ON `responses`.`id` = `sms_responses`.`response_id` WHERE (responses.user_id = 3 AND message = '!9 1.5 2.acd 3.d' AND sms_responses.created_at BETWEEN '2013-02-23 23:25:28' AND '2013-02-24 00:10:28')
message:
{:message=>"sms.success", :vars=>{:message=>"!9 1.5 2.acd 3.d -r"}}
#<Sms::Message:0x007fca744e6768 @direction=:outgoing, @to=["+243816107022"], @body="Succes! Votre message a Ã©tÃ© reÃ§u: <!9 1.5 2.acd 3.d -r>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=Succes!%20Votre%20message%20a%20%C3%A9t%C3%A9%20re%C3%A7u:%20%3C!9%201.5%202.acd%203.d%20-r%3E.
Completed 500 Internal Server Error in 844ms

NameError (undefined local variable or method `message' for #<SmsResponsesController:0x007fca745827d0>):
  app/controllers/sms_responses_controller.rb:57:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.6ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:12:58 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-24 00:12:58', `updated_at` = '2013-02-24 00:12:58' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mSmsCode Load (0.6ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.2ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.5ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1
  [1m[36mTranslation Load (0.7ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)[0m
  [1m[35mOptionSetting Load (0.7ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1[0m
  [1m[35mTranslation Load (0.4ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mSmsCode Load (0.6ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.3ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 31, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 22, value: nil, created_at: nil, updated_at: nil, questioning_id: 51, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[36mSmsResponse Load (0.4ms)[0m  [1mSELECT `sms_responses`.* FROM `sms_responses` INNER JOIN `responses` ON `responses`.`id` = `sms_responses`.`response_id` WHERE (responses.user_id = 3 AND message = '!9 1.5 2.acd 3.d' AND sms_responses.created_at BETWEEN '2013-02-23 23:27:59' AND '2013-02-24 00:12:59')[0m
Completed 500 Internal Server Error in 784ms

NameError (undefined local variable or method `message' for #<SmsResponsesController:0x007fca7707ab18>):
  app/controllers/sms_responses_controller.rb:49:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.6ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.9ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:13:16 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-24 00:13:17', `updated_at` = '2013-02-24 00:13:17' WHERE `users`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.4ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.3ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.6ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.6ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.6ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mQuestion Load (0.9ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 30 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (30)
  [1m[36mOptionSetting Load (0.5ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (30)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 31 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (31)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (31)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 22 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (22)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (22)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code[0m
  [1m[35mQuestioning Load (0.3ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mSetting Load (0.4ms)[0m  [1mSELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3
  [1m[36mMission Load (1.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)[0m
  [1m[35mRole Load (0.3ms)[0m  SELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))[0m
[#<Answer id: nil, response_id: nil, option_id: nil, value: 5, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 31, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 22, value: nil, created_at: nil, updated_at: nil, questioning_id: 51, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[35mSmsResponse Load (0.4ms)[0m  SELECT `sms_responses`.* FROM `sms_responses` INNER JOIN `responses` ON `responses`.`id` = `sms_responses`.`response_id` WHERE (responses.user_id = 3 AND message = '!9 1.5 2.acd 3.d' AND sms_responses.created_at BETWEEN '2013-02-23 23:28:17' AND '2013-02-24 00:13:17')
#<Sms::Message:0x007fca78263b40 @direction=:outgoing, @to=["+243816107022"], @body="Succes! Votre message a Ã©tÃ© reÃ§u: <!9 1.5 2.acd 3.d -r>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=Succes!%20Votre%20message%20a%20%C3%A9t%C3%A9%20re%C3%A7u:%20%3C!9%201.5%202.acd%203.d%20-r%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 856ms (Views: 2.7ms | ActiveRecord: 68.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:14:19 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-24 00:14:19', `updated_at` = '2013-02-24 00:14:19' WHERE `users`.`id` = 1[0m
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.5ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 29 LIMIT 1
Completed 500 Internal Server Error in 288ms

NoMethodError (undefined method `published' for nil:NilClass):
  app/models/sms_response.rb:61:in `message_decoded?'
  app/models/sms_response.rb:13:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:29:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.6ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:16:24 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-24 00:16:24', `updated_at` = '2013-02-24 00:16:24' WHERE `users`.`id` = 1[0m
  [1m[35m (1.8ms)[0m  COMMIT
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 29 LIMIT 1
Completed 500 Internal Server Error in 289ms

NoMethodError (undefined method `published?' for nil:NilClass):
  app/models/sms_response.rb:61:in `message_decoded?'
  app/models/sms_response.rb:13:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:29:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.3ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.0ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:17:32 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-24 00:17:32', `updated_at` = '2013-02-24 00:17:32' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 29 LIMIT 1
Completed 500 Internal Server Error in 293ms

NoMethodError (undefined method `published' for nil:NilClass):
  app/models/sms_response.rb:62:in `message_decoded?'
  app/models/sms_response.rb:13:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:29:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (9.5ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:18:30 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-24 00:18:30', `updated_at` = '2013-02-24 00:18:30' WHERE `users`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 29 LIMIT 1
Finding...
Completed 500 Internal Server Error in 290ms

NoMethodError (undefined method `published' for nil:NilClass):
  app/models/sms_response.rb:63:in `message_decoded?'
  app/models/sms_response.rb:13:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:29:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.1ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.0ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.6ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:18:51 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-24 00:18:51', `updated_at` = '2013-02-24 00:18:51' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.5ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 29 LIMIT 1
Record not found
#<Sms::Message:0x007fca76192ab0 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Fiche 29 n'etait pas trouvÃ©.  Si vous plaÃ®t, verifiez le numÃ©ro de fiche et recomencez votre message: <!29 1.5 2.acd 3.d -r>.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Fiche%2029%20n'etait%20pas%20trouv%C3%A9.%20%20Si%20vous%20pla%C3%AEt,%20verifiez%20le%20num%C3%A9ro%20de%20fiche%20et%20recomencez%20votre%20message:%20%3C!29%201.5%202.acd%203.d%20-r%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 232ms (Views: 2.5ms | ActiveRecord: 16.0ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:20:54 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-24 00:20:54', `updated_at` = '2013-02-24 00:20:54' WHERE `users`.`id` = 1[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
Completed 500 Internal Server Error in 356ms

NoMethodError (undefined method `where!' for #<Class:0x007fca7831abb0>):
  app/models/sms_response.rb:99:in `block in get_answers'
  app/models/sms_response.rb:94:in `each'
  app/models/sms_response.rb:94:in `each_with_index'
  app/models/sms_response.rb:94:in `get_answers'
  app/models/sms_response.rb:14:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:29:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.7ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:22:23 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[35mUser Load (0.5ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35m (0.5ms)[0m  UPDATE `users` SET `last_request_at` = '2013-02-24 00:22:23', `updated_at` = '2013-02-24 00:22:23' WHERE `users`.`id` = 1
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1
  [1m[36mAssignment Load (0.3ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)[0m
  [1m[35mMission Load (0.4ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1
  [1m[36mSmsCode Load (0.3ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.7ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mQuestion Load (0.7ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.3ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 29 LIMIT 1[0m
  [1m[35mTranslation Load (0.5ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (29)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (29)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mSmsCode Load (0.5ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.5ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 21 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (21)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (21)
  [1m[36mOptionSet Load (0.4ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.4ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
[#<Answer id: nil, response_id: nil, option_id: nil, value: 2, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 29, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 21, value: nil, created_at: nil, updated_at: nil, questioning_id: 51, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 9 ORDER BY rank[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `responses` (`created_at`, `form_id`, `mission_id`, `reviewed`, `source`, `updated_at`, `user_id`) VALUES ('2013-02-24 00:22:24', 9, 1, 0, 'sms', '2013-02-24 00:22:24', 3)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `forms` SET `responses_count` = COALESCE(`responses_count`, 0) + 1 WHERE `forms`.`id` = 9[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-24 00:22:24', NULL, NULL, NULL, 49, 95, NULL, '2013-02-24 00:22:24', 2)
  [1m[36mQuestion Load (0.3ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-24 00:22:24', NULL, NULL, 29, 50, 95, NULL, '2013-02-24 00:22:24', NULL)[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1692, '2013-02-24 00:22:24', 28, '2013-02-24 00:22:24')
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1692, '2013-02-24 00:22:24', 29, '2013-02-24 00:22:24')[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-24 00:22:24', NULL, NULL, 21, 51, 95, NULL, '2013-02-24 00:22:24', NULL)
  [1m[36m (0.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `sms_responses` (`created_at`, `message`, `response_id`, `updated_at`) VALUES ('2013-02-24 00:22:24', '! 9 1.2 2.ab 3.c', 95, '2013-02-24 00:22:24')[0m
  [1m[35m (0.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
#<Sms::Message:0x007fca780e8c20 @direction=:outgoing, @to=["+243816107022"], @body="Succes! Votre message a Ã©tÃ© reÃ§u: <! 9 1.2 2.ab 3.c >.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=Succes!%20Votre%20message%20a%20%C3%A9t%C3%A9%20re%C3%A7u:%20%3C!%209%201.2%202.ab%203.c%20%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 914ms (Views: 2.6ms | ActiveRecord: 74.4ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:23:37 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-24 00:23:37', `updated_at` = '2013-02-24 00:23:37' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.2ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.3ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestion Load (0.5ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.3ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (0.7ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.5ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.6ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.3ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 29 LIMIT 1
  [1m[36mTranslation Load (0.4ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (29)[0m
  [1m[35mOptionSetting Load (0.3ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (29)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '4') LIMIT 1
Completed 500 Internal Server Error in 689ms

NoMethodError (undefined method `questioning' for nil:NilClass):
  app/models/sms_response.rb:105:in `block in get_answers'
  app/models/sms_response.rb:94:in `each'
  app/models/sms_response.rb:94:in `each_with_index'
  app/models/sms_response.rb:94:in `get_answers'
  app/models/sms_response.rb:14:in `message_loaded?'
  app/controllers/sms_responses_controller.rb:29:in `block in incoming'
  app/controllers/sms_responses_controller.rb:19:in `each'
  app/controllers/sms_responses_controller.rb:19:in `incoming'


  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.6ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/damienbrockmann/.rvm/gems/ruby-1.9.3-p362/gems/actionpack-3.2.11/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (11.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:24:08 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-24 00:24:08', `updated_at` = '2013-02-24 00:24:08' WHERE `users`.`id` = 1[0m
  [1m[35m (1.9ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.2ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.7ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (1.0ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.2ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.5ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.5ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 29 LIMIT 1
  [1m[36mTranslation Load (0.8ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (29)[0m
  [1m[35mOptionSetting Load (0.5ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (29)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `sms_codes` WHERE (form_id = '9' AND question_number = '4')
#<Sms::Message:0x007fca761d8e20 @direction=:outgoing, @to=["+243816107022"], @body="DÃ©solÃ©. Question 4 n'a pas Ã©tÃ© trouvÃ©. Veuillez et recommencez votre message: <! 9 1.2 2.ab 4.c >.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=D%C3%A9sol%C3%A9.%20Question%204%20n'a%20pas%20%C3%A9t%C3%A9%20trouv%C3%A9.%20Veuillez%20et%20recommencez%20votre%20message:%20%3C!%209%201.2%202.ab%204.c%20%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 710ms (Views: 3.8ms | ActiveRecord: 50.1ms)


Started GET "/sms_responses/incoming?provider=ISMS&lng=fra" for 127.0.0.1 at 2013-02-24 01:24:54 +0100
Processing by SmsResponsesController#incoming as HTML
  Parameters: {"provider"=>"ISMS", "lng"=>"fra"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-24 00:24:54', `updated_at` = '2013-02-24 00:24:54' WHERE `users`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.4ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022')
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (phone = '+243816107022' || phone2 = '+243816107022') ORDER BY users.name LIMIT 1[0m
  [1m[35mForm Load (0.4ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` = 9 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mSmsCode Load (0.3ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9')
  [1m[36mQuestioning Load (0.3ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1[0m
  [1m[35mQuestioning Load (0.4ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1')
  [1m[36mSmsCode Load (0.6ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '1') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.3ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')[0m
  [1m[35mSmsCode Load (0.4ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2') LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.6ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1[0m
  [1m[35mSmsCode Load (0.5ms)[0m  SELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '2')
  [1m[36mOption Load (0.4ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` = 28 LIMIT 1[0m
  [1m[35mTranslation Load (0.8ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28)
  [1m[36mOptionSetting Load (0.3ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mOption Load (0.4ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 29 LIMIT 1
  [1m[36mTranslation Load (0.6ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (29)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (29)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3') LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestion Load (0.5ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.4ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1
  [1m[36mSmsCode Load (0.4ms)[0m  [1mSELECT `sms_codes`.* FROM `sms_codes` WHERE (form_id = '9' AND question_number = '3')[0m
  [1m[35mOption Load (0.8ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` = 21 LIMIT 1
  [1m[36mTranslation Load (0.8ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (21)[0m
  [1m[35mOptionSetting Load (0.4ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (21)
  [1m[36mOptionSet Load (0.3ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6) ORDER BY name[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6) ORDER BY code
  [1m[36mQuestioning Load (0.4ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1[0m
  [1m[35mSetting Load (0.3ms)[0m  SELECT `settings`.* FROM `settings` WHERE `settings`.`mission_id` = 1 LIMIT 1
  [1m[36mAssignment Load (0.5ms)[0m  [1mSELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` = 3[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE `missions`.`id` IN (1)
  [1m[36mRole Load (0.3ms)[0m  [1mSELECT `roles`.* FROM `roles` WHERE `roles`.`id` IN (6) ORDER BY level DESC[0m
  [1m[35mMission Load (0.7ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1) AND (missions.id IN (SELECT mission_id FROM assignments WHERE user_id = 3 AND active = 1))
[#<Answer id: nil, response_id: nil, option_id: nil, value: 0, created_at: nil, updated_at: nil, questioning_id: 49, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 29, value: nil, created_at: nil, updated_at: nil, questioning_id: 50, time_value: nil, date_value: nil, datetime_value: nil>, #<Answer id: nil, response_id: nil, option_id: 21, value: nil, created_at: nil, updated_at: nil, questioning_id: 51, time_value: nil, date_value: nil, datetime_value: nil>]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 49 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 50 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`id` = 51 LIMIT 1
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 9 ORDER BY rank[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `responses` (`created_at`, `form_id`, `mission_id`, `reviewed`, `source`, `updated_at`, `user_id`) VALUES ('2013-02-24 00:24:55', 9, 1, 0, 'sms', '2013-02-24 00:24:55', 3)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE `forms` SET `responses_count` = COALESCE(`responses_count`, 0) + 1 WHERE `forms`.`id` = 9[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 31 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 14 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-24 00:24:55', NULL, NULL, NULL, 49, 96, NULL, '2013-02-24 00:24:55', 0)
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 32 ORDER BY code LIMIT 1[0m
  [1m[35mQuestionType Load (0.5ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 19 ORDER BY long_name LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-24 00:24:55', NULL, NULL, 29, 50, 96, NULL, '2013-02-24 00:24:55', NULL)[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1695, '2013-02-24 00:24:55', 28, '2013-02-24 00:24:55')
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `choices` (`answer_id`, `created_at`, `option_id`, `updated_at`) VALUES (1695, '2013-02-24 00:24:55', 29, '2013-02-24 00:24:55')[0m
  [1m[35mQuestion Load (0.4ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`id` = 26 ORDER BY code LIMIT 1
  [1m[36mQuestionType Load (0.4ms)[0m  [1mSELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` = 18 ORDER BY long_name LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO `answers` (`created_at`, `date_value`, `datetime_value`, `option_id`, `questioning_id`, `response_id`, `time_value`, `updated_at`, `value`) VALUES ('2013-02-24 00:24:55', NULL, NULL, 21, 51, 96, NULL, '2013-02-24 00:24:55', NULL)
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO `sms_responses` (`created_at`, `message`, `response_id`, `updated_at`) VALUES ('2013-02-24 00:24:55', '! 9 1.0 2.ab 3.c', 96, '2013-02-24 00:24:55')[0m
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
#<Sms::Message:0x007fca762f3710 @direction=:outgoing, @to=["+243816107022"], @body="Succes! Votre message a Ã©tÃ© reÃ§u: <! 9 1.0 2.ab 3.c >.">
http request: http://192.168.1.142:81/sendmsg?user=admin&passwd=admin&cat=1&to=+243816107022&text=Succes!%20Votre%20message%20a%20%C3%A9t%C3%A9%20re%C3%A7u:%20%3C!%209%201.0%202.ab%203.c%20%3E.
DEPRECATION WARNING: Passing a template handler in the template name is deprecated. You can simply remove the handler name or pass render :handlers => [:erb] instead. (called from realtime at /Users/damienbrockmann/.rvm/rubies/ruby-1.9.3-p362/lib/ruby/1.9.1/benchmark.rb:295)
  Rendered sms_responses/ok.txt.erb (0.1ms)
Completed 200 OK in 864ms (Views: 2.1ms | ActiveRecord: 75.5ms)


Started GET "/responses" for 127.0.0.1 at 2013-02-24 01:25:03 +0100
Processing by ResponsesController#index as HTML
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-24 00:25:03', `updated_at` = '2013-02-24 00:25:03' WHERE `users`.`id` = 1[0m
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.5ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.4ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (1.0ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1) ORDER BY responses.created_at DESC LIMIT 20 OFFSET 0
  [1m[36mForm Load (0.4ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9, 7)[0m
  [1m[35mFormType Load (0.4ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `responses` WHERE `responses`.`mission_id` = 1 AND (1)
  Rendered layouts/_object_errors.html.erb (0.6ms)
  Rendered layouts/_flash.html.erb (2.4ms)
  Rendered searches/_form.html.erb (0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(DISTINCT `forms`.`id`) FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1)[0m
  [1m[35mSQL (0.6ms)[0m  SELECT `forms`.`id` AS t0_r0, `forms`.`name` AS t0_r1, `forms`.`created_at` AS t0_r2, `forms`.`updated_at` AS t0_r3, `forms`.`published` AS t0_r4, `forms`.`form_type_id` AS t0_r5, `forms`.`downloads` AS t0_r6, `forms`.`questionings_count` AS t0_r7, `forms`.`responses_count` AS t0_r8, `forms`.`mission_id` AS t0_r9, `form_types`.`id` AS t1_r0, `form_types`.`name` AS t1_r1, `form_types`.`created_at` AS t1_r2, `form_types`.`updated_at` AS t1_r3, `form_types`.`mission_id` AS t1_r4 FROM `forms` LEFT OUTER JOIN `form_types` ON `form_types`.`id` = `forms`.`form_type_id` WHERE `forms`.`mission_id` = 1 AND `forms`.`published` = 1 AND (1) ORDER BY form_types.name, forms.name
  Rendered layouts/_index_table.html.erb (40.2ms)
  Rendered responses/index.html.erb within layouts/application (54.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.5ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 239ms (Views: 169.4ms | ActiveRecord: 13.9ms)


Started GET "/responses/96" for 127.0.0.1 at 2013-02-24 01:25:08 +0100
Processing by ResponsesController#show as HTML
  Parameters: {"id"=>"96"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mUPDATE `users` SET `last_request_at` = '2013-02-24 00:25:08', `updated_at` = '2013-02-24 00:25:08' WHERE `users`.`id` = 1[0m
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` = 1 ORDER BY users.name LIMIT 1[0m
  [1m[35mAssignment Load (0.3ms)[0m  SELECT `assignments`.* FROM `assignments` WHERE `assignments`.`user_id` IN (1)
  [1m[36mMission Load (0.3ms)[0m  [1mSELECT `missions`.* FROM `missions` WHERE `missions`.`id` = 1 LIMIT 1[0m
  [1m[35mResponse Load (0.3ms)[0m  SELECT `responses`.* FROM `responses` WHERE `responses`.`id` = 96 ORDER BY responses.created_at DESC LIMIT 1
  [1m[36mForm Load (0.3ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (9)[0m
  [1m[35mFormType Load (0.3ms)[0m  SELECT `form_types`.* FROM `form_types` WHERE `form_types`.`id` IN (4) ORDER BY name
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT `users`.* FROM `users` WHERE `users`.`id` IN (3) ORDER BY users.name[0m
  [1m[35mSQL (1.6ms)[0m  SELECT `answers`.`id` AS t0_r0, `answers`.`response_id` AS t0_r1, `answers`.`option_id` AS t0_r2, `answers`.`value` AS t0_r3, `answers`.`created_at` AS t0_r4, `answers`.`updated_at` AS t0_r5, `answers`.`questioning_id` AS t0_r6, `answers`.`time_value` AS t0_r7, `answers`.`date_value` AS t0_r8, `answers`.`datetime_value` AS t0_r9, `questionings`.`id` AS t1_r0, `questionings`.`question_id` AS t1_r1, `questionings`.`form_id` AS t1_r2, `questionings`.`rank` AS t1_r3, `questionings`.`required` AS t1_r4, `questionings`.`hidden` AS t1_r5, `questionings`.`created_at` AS t1_r6, `questionings`.`updated_at` AS t1_r7 FROM `answers` LEFT OUTER JOIN `questionings` ON `questionings`.`id` = `answers`.`questioning_id` WHERE `answers`.`response_id` IN (96) ORDER BY questionings.rank
  [1m[36mChoice Load (0.6ms)[0m  [1mSELECT `choices`.* FROM `choices` WHERE `choices`.`answer_id` IN (1694, 1695, 1696)[0m
  [1m[35mOption Load (0.5ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (28, 29)
  [1m[36mTranslation Load (1.0ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (28, 29)[0m
  [1m[35mOptionSetting Load (0.6ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (28, 29)
  [1m[36mOptionSet Load (0.6ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8) ORDER BY name[0m
  [1m[35mQuestion Load (1.0ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (8) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (28, 32)[0m
  [1m[35mForm Load (0.5ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  [1m[36mOption Load (0.5ms)[0m  [1mSELECT `options`.* FROM `options` WHERE `options`.`id` IN (29, 21)[0m
  [1m[35mTranslation Load (0.7ms)[0m  SELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (21, 29)
  [1m[36mOptionSetting Load (0.4ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (21, 29)[0m
  [1m[35mOptionSet Load (0.3ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 8) ORDER BY name
  [1m[36mQuestion Load (0.6ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 8) ORDER BY code[0m
  [1m[35mQuestioning Load (0.5ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 28, 32)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)[0m
  [1m[35mCondition Load (0.3ms)[0m  SELECT `conditions`.* FROM `conditions` WHERE `conditions`.`questioning_id` IN (49, 50, 51)
  [1m[36mQuestion Load (0.4ms)[0m  [1mSELECT `questions`.* FROM `questions` WHERE `questions`.`id` IN (31, 32, 26) ORDER BY code[0m
  [1m[35mQuestionType Load (0.5ms)[0m  SELECT `question_types`.* FROM `question_types` WHERE `question_types`.`id` IN (14, 19, 18) ORDER BY long_name
  [1m[36mTranslation Load (0.8ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Question' AND `translations`.`obj_id` IN (31, 32, 26)[0m
  [1m[35mOptionSet Load (0.4ms)[0m  SELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (8, 6) ORDER BY name
  [1m[36mOptionSetting Load (0.8ms)[0m  [1mSELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_set_id` IN (8, 6)[0m
  [1m[35mOption Load (0.6ms)[0m  SELECT `options`.* FROM `options` WHERE `options`.`id` IN (23, 28, 29, 30, 31, 19, 20, 21, 22)
  [1m[36mTranslation Load (0.5ms)[0m  [1mSELECT `translations`.* FROM `translations` WHERE `translations`.`class_name` = 'Option' AND `translations`.`obj_id` IN (19, 20, 21, 22, 23, 28, 29, 30, 31)[0m
  [1m[35mOptionSetting Load (0.6ms)[0m  SELECT `option_settings`.* FROM `option_settings` WHERE `option_settings`.`option_id` IN (19, 20, 21, 22, 23, 28, 29, 30, 31)
  [1m[36mOptionSet Load (0.6ms)[0m  [1mSELECT `option_sets`.* FROM `option_sets` WHERE `option_sets`.`id` IN (6, 7, 8, 9, 10) ORDER BY name[0m
  [1m[35mQuestion Load (1.1ms)[0m  SELECT `questions`.* FROM `questions` WHERE `questions`.`option_set_id` IN (6, 7, 8, 9, 10) ORDER BY code
  [1m[36mQuestioning Load (0.5ms)[0m  [1mSELECT `questionings`.* FROM `questionings` WHERE `questionings`.`question_id` IN (26, 27, 28, 32, 29, 30)[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT `forms`.* FROM `forms` WHERE `forms`.`id` IN (5, 8, 9)
  Rendered layouts/_location_picker.html.erb (0.5ms)
  Rendered layouts/_object_errors.html.erb (0.1ms)
  Rendered layouts/_flash.html.erb (0.6ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT `users`.* FROM `users` WHERE (users.id IN (SELECT user_id FROM assignments WHERE mission_id = 1)) ORDER BY users.name[0m
  [1m[35mQuestioning Load (0.6ms)[0m  SELECT `questionings`.* FROM `questionings` WHERE `questionings`.`form_id` = 9 ORDER BY rank
  Rendered responses/_choice.html.erb (4.0ms)
  Rendered responses/_answer.html.erb (12.7ms)
  Rendered responses/form.html.erb within layouts/application (30.2ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM `missions` WHERE (1)[0m
  [1m[35mMission Load (0.2ms)[0m  SELECT `missions`.* FROM `missions` WHERE (1)
Completed 200 OK in 155ms (Views: 42.2ms | ActiveRecord: 26.9ms)
